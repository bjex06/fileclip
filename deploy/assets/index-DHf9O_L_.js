function ff(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function fu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pu={exports:{}},Fa={},hu={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=Symbol.for("react.element"),pf=Symbol.for("react.portal"),hf=Symbol.for("react.fragment"),gf=Symbol.for("react.strict_mode"),xf=Symbol.for("react.profiler"),yf=Symbol.for("react.provider"),vf=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),bf=Symbol.for("react.suspense"),jf=Symbol.for("react.memo"),Nf=Symbol.for("react.lazy"),Oo=Symbol.iterator;function kf(e){return e===null||typeof e!="object"?null:(e=Oo&&e[Oo]||e["@@iterator"],typeof e=="function"?e:null)}var gu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xu=Object.assign,yu={};function yn(e,t,r){this.props=e,this.context=t,this.refs=yu,this.updater=r||gu}yn.prototype.isReactComponent={};yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vu(){}vu.prototype=yn.prototype;function Ti(e,t,r){this.props=e,this.context=t,this.refs=yu,this.updater=r||gu}var Li=Ti.prototype=new vu;Li.constructor=Ti;xu(Li,yn.prototype);Li.isPureReactComponent=!0;var Ao=Array.isArray,wu=Object.prototype.hasOwnProperty,Ri={current:null},bu={key:!0,ref:!0,__self:!0,__source:!0};function ju(e,t,r){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)wu.call(t,n)&&!bu.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:ys,type:e,key:l,ref:i,props:a,_owner:Ri.current}}function Sf(e,t){return{$$typeof:ys,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $i(e){return typeof e=="object"&&e!==null&&e.$$typeof===ys}function Cf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bo=/\/+/g;function al(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Cf(""+e.key):t.toString(36)}function qs(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ys:case pf:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+al(i,0):n,Ao(a)?(r="",e!=null&&(r=e.replace(Bo,"$&/")+"/"),qs(a,t,r,"",function(u){return u})):a!=null&&($i(a)&&(a=Sf(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(Bo,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",Ao(e))for(var o=0;o<e.length;o++){l=e[o];var c=n+al(l,o);i+=qs(l,t,r,c,a)}else if(c=kf(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=n+al(l,o++),i+=qs(l,t,r,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Es(e,t,r){if(e==null)return e;var n=[],a=0;return qs(e,n,"","",function(l){return t.call(r,l,a++)}),n}function _f(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Ks={transition:null},Ef={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Ks,ReactCurrentOwner:Ri};function Nu(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Es,forEach:function(e,t,r){Es(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Es(e,function(){t++}),t},toArray:function(e){return Es(e,function(t){return t})||[]},only:function(e){if(!$i(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=yn;re.Fragment=hf;re.Profiler=xf;re.PureComponent=Ti;re.StrictMode=gf;re.Suspense=bf;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ef;re.act=Nu;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=xu({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Ri.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)wu.call(t,c)&&!bu.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ys,type:e.type,key:a,ref:l,props:n,_owner:i}};re.createContext=function(e){return e={$$typeof:vf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yf,_context:e},e.Consumer=e};re.createElement=ju;re.createFactory=function(e){var t=ju.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:wf,render:e}};re.isValidElement=$i;re.lazy=function(e){return{$$typeof:Nf,_payload:{_status:-1,_result:e},_init:_f}};re.memo=function(e,t){return{$$typeof:jf,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=Ks.transition;Ks.transition={};try{e()}finally{Ks.transition=t}};re.unstable_act=Nu;re.useCallback=function(e,t){return $e.current.useCallback(e,t)};re.useContext=function(e){return $e.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};re.useEffect=function(e,t){return $e.current.useEffect(e,t)};re.useId=function(){return $e.current.useId()};re.useImperativeHandle=function(e,t,r){return $e.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return $e.current.useMemo(e,t)};re.useReducer=function(e,t,r){return $e.current.useReducer(e,t,r)};re.useRef=function(e){return $e.current.useRef(e)};re.useState=function(e){return $e.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return $e.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return $e.current.useTransition()};re.version="18.3.1";hu.exports=re;var v=hu.exports;const L=fu(v),zf=ff({__proto__:null,default:L},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf=v,Ff=Symbol.for("react.element"),Df=Symbol.for("react.fragment"),If=Object.prototype.hasOwnProperty,Mf=Pf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tf={key:!0,ref:!0,__self:!0,__source:!0};function ku(e,t,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)If.call(t,n)&&!Tf.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:Ff,type:e,key:l,ref:i,props:a,_owner:Mf.current}}Fa.Fragment=Df;Fa.jsx=ku;Fa.jsxs=ku;pu.exports=Fa;var s=pu.exports,Su={exports:{}},Xe={},Cu={exports:{}},_u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,E){var A=_.length;_.push(E);e:for(;0<A;){var G=A-1>>>1,B=_[G];if(0<a(B,E))_[G]=E,_[A]=B,A=G;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var E=_[0],A=_.pop();if(A!==E){_[0]=A;e:for(var G=0,B=_.length,Y=B>>>1;G<Y;){var te=2*(G+1)-1,T=_[te],K=te+1,Q=_[K];if(0>a(T,A))K<B&&0>a(Q,T)?(_[G]=Q,_[K]=A,G=K):(_[G]=T,_[te]=A,G=te);else if(K<B&&0>a(Q,A))_[G]=Q,_[K]=A,G=K;else break e}}return E}function a(_,E){var A=_.sortIndex-E.sortIndex;return A!==0?A:_.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],p=1,f=null,x=3,d=!1,y=!1,w=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(_){for(var E=r(u);E!==null;){if(E.callback===null)n(u);else if(E.startTime<=_)n(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=r(u)}}function b(_){if(w=!1,m(_),!y)if(r(c)!==null)y=!0,$(j);else{var E=r(u);E!==null&&U(b,E.startTime-_)}}function j(_,E){y=!1,w&&(w=!1,g(M),M=-1),d=!0;var A=x;try{for(m(E),f=r(c);f!==null&&(!(f.expirationTime>E)||_&&!H());){var G=f.callback;if(typeof G=="function"){f.callback=null,x=f.priorityLevel;var B=G(f.expirationTime<=E);E=e.unstable_now(),typeof B=="function"?f.callback=B:f===r(c)&&n(c),m(E)}else n(c);f=r(c)}if(f!==null)var Y=!0;else{var te=r(u);te!==null&&U(b,te.startTime-E),Y=!1}return Y}finally{f=null,x=A,d=!1}}var k=!1,P=null,M=-1,F=5,N=-1;function H(){return!(e.unstable_now()-N<F)}function z(){if(P!==null){var _=e.unstable_now();N=_;var E=!0;try{E=P(!0,_)}finally{E?J():(k=!1,P=null)}}else k=!1}var J;if(typeof h=="function")J=function(){h(z)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,ee=se.port2;se.port1.onmessage=z,J=function(){ee.postMessage(null)}}else J=function(){C(z,0)};function $(_){P=_,k||(k=!0,J())}function U(_,E){M=C(function(){_(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){y||d||(y=!0,$(j))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(_){switch(x){case 1:case 2:case 3:var E=3;break;default:E=x}var A=x;x=E;try{return _()}finally{x=A}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,E){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var A=x;x=_;try{return E()}finally{x=A}},e.unstable_scheduleCallback=function(_,E,A){var G=e.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?G+A:G):A=G,_){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=A+B,_={id:p++,callback:E,priorityLevel:_,startTime:A,expirationTime:B,sortIndex:-1},A>G?(_.sortIndex=A,t(u,_),r(c)===null&&_===r(u)&&(w?(g(M),M=-1):w=!0,U(b,A-G))):(_.sortIndex=B,t(c,_),y||d||(y=!0,$(j))),_},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(_){var E=x;return function(){var A=x;x=E;try{return _.apply(this,arguments)}finally{x=A}}}})(_u);Cu.exports=_u;var Lf=Cu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=v,Ye=Lf;function I(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Eu=new Set,Gn={};function Ir(e,t){on(e,t),on(e+"Capture",t)}function on(e,t){for(Gn[e]=t,e=0;e<t.length;e++)Eu.add(t[e])}var Mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$l=Object.prototype.hasOwnProperty,$f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vo={},Ho={};function Uf(e){return $l.call(Ho,e)?!0:$l.call(Vo,e)?!1:$f.test(e)?Ho[e]=!0:(Vo[e]=!0,!1)}function Of(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Af(e,t,r,n){if(t===null||typeof t>"u"||Of(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,r,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ui=/[\-:]([a-z])/g;function Oi(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ui,Oi);ze[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ui,Oi);ze[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ui,Oi);ze[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ai(e,t,r,n){var a=ze.hasOwnProperty(t)?ze[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Af(t,r,a,n)&&(r=null),n||a===null?Uf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ut=Rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zs=Symbol.for("react.element"),Ar=Symbol.for("react.portal"),Br=Symbol.for("react.fragment"),Bi=Symbol.for("react.strict_mode"),Ul=Symbol.for("react.profiler"),zu=Symbol.for("react.provider"),Pu=Symbol.for("react.context"),Vi=Symbol.for("react.forward_ref"),Ol=Symbol.for("react.suspense"),Al=Symbol.for("react.suspense_list"),Hi=Symbol.for("react.memo"),Ht=Symbol.for("react.lazy"),Fu=Symbol.for("react.offscreen"),Wo=Symbol.iterator;function kn(e){return e===null||typeof e!="object"?null:(e=Wo&&e[Wo]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,ll;function Dn(e){if(ll===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ll=t&&t[1]||""}return`
`+ll+e}var il=!1;function ol(e,t){if(!e||il)return"";il=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{il=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Dn(e):""}function Bf(e){switch(e.tag){case 5:return Dn(e.type);case 16:return Dn("Lazy");case 13:return Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 2:case 15:return e=ol(e.type,!1),e;case 11:return e=ol(e.type.render,!1),e;case 1:return e=ol(e.type,!0),e;default:return""}}function Bl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Br:return"Fragment";case Ar:return"Portal";case Ul:return"Profiler";case Bi:return"StrictMode";case Ol:return"Suspense";case Al:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pu:return(e.displayName||"Context")+".Consumer";case zu:return(e._context.displayName||"Context")+".Provider";case Vi:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Hi:return t=e.displayName||null,t!==null?t:Bl(e.type)||"Memo";case Ht:t=e._payload,e=e._init;try{return Bl(e(t))}catch{}}return null}function Vf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bl(t);case 8:return t===Bi?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function lr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Du(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hf(e){var t=Du(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ps(e){e._valueTracker||(e._valueTracker=Hf(e))}function Iu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Du(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function la(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vl(e,t){var r=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Qo(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=lr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mu(e,t){t=t.checked,t!=null&&Ai(e,"checked",t,!1)}function Hl(e,t){Mu(e,t);var r=lr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Wl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Wl(e,t.type,lr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function qo(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Wl(e,t,r){(t!=="number"||la(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var In=Array.isArray;function Zr(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ql(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(I(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ko(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(I(92));if(In(r)){if(1<r.length)throw Error(I(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:lr(r)}}function Tu(e,t){var r=lr(t.value),n=lr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Go(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Lu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ql(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Lu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fs,Ru=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wf=["Webkit","ms","Moz","O"];Object.keys(Rn).forEach(function(e){Wf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rn[t]=Rn[e]})});function $u(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rn.hasOwnProperty(e)&&Rn[e]?(""+t).trim():t+"px"}function Uu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=$u(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Qf=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kl(e,t){if(t){if(Qf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(I(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(I(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(I(61))}if(t.style!=null&&typeof t.style!="object")throw Error(I(62))}}function Gl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yl=null;function Wi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xl=null,en=null,tn=null;function Yo(e){if(e=bs(e)){if(typeof Xl!="function")throw Error(I(280));var t=e.stateNode;t&&(t=La(t),Xl(e.stateNode,e.type,t))}}function Ou(e){en?tn?tn.push(e):tn=[e]:en=e}function Au(){if(en){var e=en,t=tn;if(tn=en=null,Yo(e),t)for(e=0;e<t.length;e++)Yo(t[e])}}function Bu(e,t){return e(t)}function Vu(){}var cl=!1;function Hu(e,t,r){if(cl)return e(t,r);cl=!0;try{return Bu(e,t,r)}finally{cl=!1,(en!==null||tn!==null)&&(Vu(),Au())}}function Xn(e,t){var r=e.stateNode;if(r===null)return null;var n=La(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(I(231,t,typeof r));return r}var Jl=!1;if(Mt)try{var Sn={};Object.defineProperty(Sn,"passive",{get:function(){Jl=!0}}),window.addEventListener("test",Sn,Sn),window.removeEventListener("test",Sn,Sn)}catch{Jl=!1}function qf(e,t,r,n,a,l,i,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(p){this.onError(p)}}var $n=!1,ia=null,oa=!1,Zl=null,Kf={onError:function(e){$n=!0,ia=e}};function Gf(e,t,r,n,a,l,i,o,c){$n=!1,ia=null,qf.apply(Kf,arguments)}function Yf(e,t,r,n,a,l,i,o,c){if(Gf.apply(this,arguments),$n){if($n){var u=ia;$n=!1,ia=null}else throw Error(I(198));oa||(oa=!0,Zl=u)}}function Mr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xo(e){if(Mr(e)!==e)throw Error(I(188))}function Xf(e){var t=e.alternate;if(!t){if(t=Mr(e),t===null)throw Error(I(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Xo(a),e;if(l===n)return Xo(a),t;l=l.sibling}throw Error(I(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(I(189))}}if(r.alternate!==n)throw Error(I(190))}if(r.tag!==3)throw Error(I(188));return r.stateNode.current===r?e:t}function Qu(e){return e=Xf(e),e!==null?qu(e):null}function qu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qu(e);if(t!==null)return t;e=e.sibling}return null}var Ku=Ye.unstable_scheduleCallback,Jo=Ye.unstable_cancelCallback,Jf=Ye.unstable_shouldYield,Zf=Ye.unstable_requestPaint,ve=Ye.unstable_now,ep=Ye.unstable_getCurrentPriorityLevel,Qi=Ye.unstable_ImmediatePriority,Gu=Ye.unstable_UserBlockingPriority,ca=Ye.unstable_NormalPriority,tp=Ye.unstable_LowPriority,Yu=Ye.unstable_IdlePriority,Da=null,kt=null;function rp(e){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(Da,e,void 0,(e.current.flags&128)===128)}catch{}}var xt=Math.clz32?Math.clz32:ap,np=Math.log,sp=Math.LN2;function ap(e){return e>>>=0,e===0?32:31-(np(e)/sp|0)|0}var Ds=64,Is=4194304;function Mn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ua(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=Mn(o):(l&=i,l!==0&&(n=Mn(l)))}else i=r&~a,i!==0?n=Mn(i):l!==0&&(n=Mn(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-xt(t),a=1<<r,n|=e[r],t&=~a;return n}function lp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ip(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-xt(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=lp(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function ei(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xu(){var e=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),e}function ul(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-xt(t),e[t]=r}function op(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-xt(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function qi(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ae=0;function Ju(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zu,Ki,ed,td,rd,ti=!1,Ms=[],Xt=null,Jt=null,Zt=null,Jn=new Map,Zn=new Map,Qt=[],cp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zo(e,t){switch(e){case"focusin":case"focusout":Xt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Zt=null;break;case"pointerover":case"pointerout":Jn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(t.pointerId)}}function Cn(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=bs(t),t!==null&&Ki(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function up(e,t,r,n,a){switch(t){case"focusin":return Xt=Cn(Xt,e,t,r,n,a),!0;case"dragenter":return Jt=Cn(Jt,e,t,r,n,a),!0;case"mouseover":return Zt=Cn(Zt,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return Jn.set(l,Cn(Jn.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Zn.set(l,Cn(Zn.get(l)||null,e,t,r,n,a)),!0}return!1}function nd(e){var t=wr(e.target);if(t!==null){var r=Mr(t);if(r!==null){if(t=r.tag,t===13){if(t=Wu(r),t!==null){e.blockedOn=t,rd(e.priority,function(){ed(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Gs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=ri(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Yl=n,r.target.dispatchEvent(n),Yl=null}else return t=bs(r),t!==null&&Ki(t),e.blockedOn=r,!1;t.shift()}return!0}function ec(e,t,r){Gs(e)&&r.delete(t)}function dp(){ti=!1,Xt!==null&&Gs(Xt)&&(Xt=null),Jt!==null&&Gs(Jt)&&(Jt=null),Zt!==null&&Gs(Zt)&&(Zt=null),Jn.forEach(ec),Zn.forEach(ec)}function _n(e,t){e.blockedOn===t&&(e.blockedOn=null,ti||(ti=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,dp)))}function es(e){function t(a){return _n(a,e)}if(0<Ms.length){_n(Ms[0],e);for(var r=1;r<Ms.length;r++){var n=Ms[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Xt!==null&&_n(Xt,e),Jt!==null&&_n(Jt,e),Zt!==null&&_n(Zt,e),Jn.forEach(t),Zn.forEach(t),r=0;r<Qt.length;r++)n=Qt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Qt.length&&(r=Qt[0],r.blockedOn===null);)nd(r),r.blockedOn===null&&Qt.shift()}var rn=Ut.ReactCurrentBatchConfig,da=!0;function mp(e,t,r,n){var a=ae,l=rn.transition;rn.transition=null;try{ae=1,Gi(e,t,r,n)}finally{ae=a,rn.transition=l}}function fp(e,t,r,n){var a=ae,l=rn.transition;rn.transition=null;try{ae=4,Gi(e,t,r,n)}finally{ae=a,rn.transition=l}}function Gi(e,t,r,n){if(da){var a=ri(e,t,r,n);if(a===null)wl(e,t,n,ma,r),Zo(e,n);else if(up(a,e,t,r,n))n.stopPropagation();else if(Zo(e,n),t&4&&-1<cp.indexOf(e)){for(;a!==null;){var l=bs(a);if(l!==null&&Zu(l),l=ri(e,t,r,n),l===null&&wl(e,t,n,ma,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else wl(e,t,n,null,r)}}var ma=null;function ri(e,t,r,n){if(ma=null,e=Wi(n),e=wr(e),e!==null)if(t=Mr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wu(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ma=e,null}function sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ep()){case Qi:return 1;case Gu:return 4;case ca:case tp:return 16;case Yu:return 536870912;default:return 16}default:return 16}}var Kt=null,Yi=null,Ys=null;function ad(){if(Ys)return Ys;var e,t=Yi,r=t.length,n,a="value"in Kt?Kt.value:Kt.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[l-n];n++);return Ys=a.slice(e,1<n?1-n:void 0)}function Xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ts(){return!0}function tc(){return!1}function Je(e){function t(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Ts:tc,this.isPropagationStopped=tc,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ts)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ts)},persist:function(){},isPersistent:Ts}),t}var vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=Je(vn),ws=xe({},vn,{view:0,detail:0}),pp=Je(ws),dl,ml,En,Ia=xe({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==En&&(En&&e.type==="mousemove"?(dl=e.screenX-En.screenX,ml=e.screenY-En.screenY):ml=dl=0,En=e),dl)},movementY:function(e){return"movementY"in e?e.movementY:ml}}),rc=Je(Ia),hp=xe({},Ia,{dataTransfer:0}),gp=Je(hp),xp=xe({},ws,{relatedTarget:0}),fl=Je(xp),yp=xe({},vn,{animationName:0,elapsedTime:0,pseudoElement:0}),vp=Je(yp),wp=xe({},vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bp=Je(wp),jp=xe({},vn,{data:0}),nc=Je(jp),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sp[e])?!!t[e]:!1}function Ji(){return Cp}var _p=xe({},ws,{key:function(e){if(e.key){var t=Np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(e){return e.type==="keypress"?Xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ep=Je(_p),zp=xe({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sc=Je(zp),Pp=xe({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),Fp=Je(Pp),Dp=xe({},vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ip=Je(Dp),Mp=xe({},Ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tp=Je(Mp),Lp=[9,13,27,32],Zi=Mt&&"CompositionEvent"in window,Un=null;Mt&&"documentMode"in document&&(Un=document.documentMode);var Rp=Mt&&"TextEvent"in window&&!Un,ld=Mt&&(!Zi||Un&&8<Un&&11>=Un),ac=" ",lc=!1;function id(e,t){switch(e){case"keyup":return Lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function od(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function $p(e,t){switch(e){case"compositionend":return od(t);case"keypress":return t.which!==32?null:(lc=!0,ac);case"textInput":return e=t.data,e===ac&&lc?null:e;default:return null}}function Up(e,t){if(Vr)return e==="compositionend"||!Zi&&id(e,t)?(e=ad(),Ys=Yi=Kt=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ld&&t.locale!=="ko"?null:t.data;default:return null}}var Op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Op[e.type]:t==="textarea"}function cd(e,t,r,n){Ou(n),t=fa(t,"onChange"),0<t.length&&(r=new Xi("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var On=null,ts=null;function Ap(e){wd(e,0)}function Ma(e){var t=Qr(e);if(Iu(t))return e}function Bp(e,t){if(e==="change")return t}var ud=!1;if(Mt){var pl;if(Mt){var hl="oninput"in document;if(!hl){var oc=document.createElement("div");oc.setAttribute("oninput","return;"),hl=typeof oc.oninput=="function"}pl=hl}else pl=!1;ud=pl&&(!document.documentMode||9<document.documentMode)}function cc(){On&&(On.detachEvent("onpropertychange",dd),ts=On=null)}function dd(e){if(e.propertyName==="value"&&Ma(ts)){var t=[];cd(t,ts,e,Wi(e)),Hu(Ap,t)}}function Vp(e,t,r){e==="focusin"?(cc(),On=t,ts=r,On.attachEvent("onpropertychange",dd)):e==="focusout"&&cc()}function Hp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ma(ts)}function Wp(e,t){if(e==="click")return Ma(t)}function Qp(e,t){if(e==="input"||e==="change")return Ma(t)}function qp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var vt=typeof Object.is=="function"?Object.is:qp;function rs(e,t){if(vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!$l.call(t,a)||!vt(e[a],t[a]))return!1}return!0}function uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dc(e,t){var r=uc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uc(r)}}function md(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?md(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fd(){for(var e=window,t=la();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=la(e.document)}return t}function eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Kp(e){var t=fd(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&md(r.ownerDocument.documentElement,r)){if(n!==null&&eo(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=dc(r,l);var i=dc(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gp=Mt&&"documentMode"in document&&11>=document.documentMode,Hr=null,ni=null,An=null,si=!1;function mc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;si||Hr==null||Hr!==la(n)||(n=Hr,"selectionStart"in n&&eo(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),An&&rs(An,n)||(An=n,n=fa(ni,"onSelect"),0<n.length&&(t=new Xi("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Hr)))}function Ls(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Wr={animationend:Ls("Animation","AnimationEnd"),animationiteration:Ls("Animation","AnimationIteration"),animationstart:Ls("Animation","AnimationStart"),transitionend:Ls("Transition","TransitionEnd")},gl={},pd={};Mt&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete Wr.animationend.animation,delete Wr.animationiteration.animation,delete Wr.animationstart.animation),"TransitionEvent"in window||delete Wr.transitionend.transition);function Ta(e){if(gl[e])return gl[e];if(!Wr[e])return e;var t=Wr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in pd)return gl[e]=t[r];return e}var hd=Ta("animationend"),gd=Ta("animationiteration"),xd=Ta("animationstart"),yd=Ta("transitionend"),vd=new Map,fc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cr(e,t){vd.set(e,t),Ir(t,[e])}for(var xl=0;xl<fc.length;xl++){var yl=fc[xl],Yp=yl.toLowerCase(),Xp=yl[0].toUpperCase()+yl.slice(1);cr(Yp,"on"+Xp)}cr(hd,"onAnimationEnd");cr(gd,"onAnimationIteration");cr(xd,"onAnimationStart");cr("dblclick","onDoubleClick");cr("focusin","onFocus");cr("focusout","onBlur");cr(yd,"onTransitionEnd");on("onMouseEnter",["mouseout","mouseover"]);on("onMouseLeave",["mouseout","mouseover"]);on("onPointerEnter",["pointerout","pointerover"]);on("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tn));function pc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Yf(n,t,void 0,e),e.currentTarget=null}function wd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;pc(a,o,u),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;pc(a,o,u),l=c}}}if(oa)throw e=Zl,oa=!1,Zl=null,e}function oe(e,t){var r=t[ci];r===void 0&&(r=t[ci]=new Set);var n=e+"__bubble";r.has(n)||(bd(t,e,2,!1),r.add(n))}function vl(e,t,r){var n=0;t&&(n|=4),bd(r,e,n,t)}var Rs="_reactListening"+Math.random().toString(36).slice(2);function ns(e){if(!e[Rs]){e[Rs]=!0,Eu.forEach(function(r){r!=="selectionchange"&&(Jp.has(r)||vl(r,!1,e),vl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rs]||(t[Rs]=!0,vl("selectionchange",!1,t))}}function bd(e,t,r,n){switch(sd(t)){case 1:var a=mp;break;case 4:a=fp;break;default:a=Gi}r=a.bind(null,t,r,e),a=void 0,!Jl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function wl(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=wr(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Hu(function(){var u=l,p=Wi(r),f=[];e:{var x=vd.get(e);if(x!==void 0){var d=Xi,y=e;switch(e){case"keypress":if(Xs(r)===0)break e;case"keydown":case"keyup":d=Ep;break;case"focusin":y="focus",d=fl;break;case"focusout":y="blur",d=fl;break;case"beforeblur":case"afterblur":d=fl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Fp;break;case hd:case gd:case xd:d=vp;break;case yd:d=Ip;break;case"scroll":d=pp;break;case"wheel":d=Tp;break;case"copy":case"cut":case"paste":d=bp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=sc}var w=(t&4)!==0,C=!w&&e==="scroll",g=w?x!==null?x+"Capture":null:x;w=[];for(var h=u,m;h!==null;){m=h;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,g!==null&&(b=Xn(h,g),b!=null&&w.push(ss(h,b,m)))),C)break;h=h.return}0<w.length&&(x=new d(x,y,null,r,p),f.push({event:x,listeners:w}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",x&&r!==Yl&&(y=r.relatedTarget||r.fromElement)&&(wr(y)||y[Tt]))break e;if((d||x)&&(x=p.window===p?p:(x=p.ownerDocument)?x.defaultView||x.parentWindow:window,d?(y=r.relatedTarget||r.toElement,d=u,y=y?wr(y):null,y!==null&&(C=Mr(y),y!==C||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=u),d!==y)){if(w=rc,b="onMouseLeave",g="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(w=sc,b="onPointerLeave",g="onPointerEnter",h="pointer"),C=d==null?x:Qr(d),m=y==null?x:Qr(y),x=new w(b,h+"leave",d,r,p),x.target=C,x.relatedTarget=m,b=null,wr(p)===u&&(w=new w(g,h+"enter",y,r,p),w.target=m,w.relatedTarget=C,b=w),C=b,d&&y)t:{for(w=d,g=y,h=0,m=w;m;m=Ur(m))h++;for(m=0,b=g;b;b=Ur(b))m++;for(;0<h-m;)w=Ur(w),h--;for(;0<m-h;)g=Ur(g),m--;for(;h--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ur(w),g=Ur(g)}w=null}else w=null;d!==null&&hc(f,x,d,w,!1),y!==null&&C!==null&&hc(f,C,y,w,!0)}}e:{if(x=u?Qr(u):window,d=x.nodeName&&x.nodeName.toLowerCase(),d==="select"||d==="input"&&x.type==="file")var j=Bp;else if(ic(x))if(ud)j=Qp;else{j=Hp;var k=Vp}else(d=x.nodeName)&&d.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(j=Wp);if(j&&(j=j(e,u))){cd(f,j,r,p);break e}k&&k(e,x,u),e==="focusout"&&(k=x._wrapperState)&&k.controlled&&x.type==="number"&&Wl(x,"number",x.value)}switch(k=u?Qr(u):window,e){case"focusin":(ic(k)||k.contentEditable==="true")&&(Hr=k,ni=u,An=null);break;case"focusout":An=ni=Hr=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,mc(f,r,p);break;case"selectionchange":if(Gp)break;case"keydown":case"keyup":mc(f,r,p)}var P;if(Zi)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Vr?id(e,r)&&(M="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(ld&&r.locale!=="ko"&&(Vr||M!=="onCompositionStart"?M==="onCompositionEnd"&&Vr&&(P=ad()):(Kt=p,Yi="value"in Kt?Kt.value:Kt.textContent,Vr=!0)),k=fa(u,M),0<k.length&&(M=new nc(M,e,null,r,p),f.push({event:M,listeners:k}),P?M.data=P:(P=od(r),P!==null&&(M.data=P)))),(P=Rp?$p(e,r):Up(e,r))&&(u=fa(u,"onBeforeInput"),0<u.length&&(p=new nc("onBeforeInput","beforeinput",null,r,p),f.push({event:p,listeners:u}),p.data=P))}wd(f,t)})}function ss(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fa(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=Xn(e,r),l!=null&&n.unshift(ss(e,l,a)),l=Xn(e,t),l!=null&&n.push(ss(e,l,a))),e=e.return}return n}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hc(e,t,r,n,a){for(var l=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,a?(c=Xn(r,l),c!=null&&i.unshift(ss(r,c,o))):a||(c=Xn(r,l),c!=null&&i.push(ss(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Zp=/\r\n?/g,eh=/\u0000|\uFFFD/g;function gc(e){return(typeof e=="string"?e:""+e).replace(Zp,`
`).replace(eh,"")}function $s(e,t,r){if(t=gc(t),gc(e)!==t&&r)throw Error(I(425))}function pa(){}var ai=null,li=null;function ii(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var oi=typeof setTimeout=="function"?setTimeout:void 0,th=typeof clearTimeout=="function"?clearTimeout:void 0,xc=typeof Promise=="function"?Promise:void 0,rh=typeof queueMicrotask=="function"?queueMicrotask:typeof xc<"u"?function(e){return xc.resolve(null).then(e).catch(nh)}:oi;function nh(e){setTimeout(function(){throw e})}function bl(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),es(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);es(t)}function er(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var wn=Math.random().toString(36).slice(2),Nt="__reactFiber$"+wn,as="__reactProps$"+wn,Tt="__reactContainer$"+wn,ci="__reactEvents$"+wn,sh="__reactListeners$"+wn,ah="__reactHandles$"+wn;function wr(e){var t=e[Nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Tt]||r[Nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yc(e);e!==null;){if(r=e[Nt])return r;e=yc(e)}return t}e=r,r=e.parentNode}return null}function bs(e){return e=e[Nt]||e[Tt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(I(33))}function La(e){return e[as]||null}var ui=[],qr=-1;function ur(e){return{current:e}}function ce(e){0>qr||(e.current=ui[qr],ui[qr]=null,qr--)}function ie(e,t){qr++,ui[qr]=e.current,e.current=t}var ir={},Te=ur(ir),Ve=ur(!1),Er=ir;function cn(e,t){var r=e.type.contextTypes;if(!r)return ir;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function He(e){return e=e.childContextTypes,e!=null}function ha(){ce(Ve),ce(Te)}function vc(e,t,r){if(Te.current!==ir)throw Error(I(168));ie(Te,t),ie(Ve,r)}function jd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(I(108,Vf(e)||"Unknown",a));return xe({},r,n)}function ga(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ir,Er=Te.current,ie(Te,e),ie(Ve,Ve.current),!0}function wc(e,t,r){var n=e.stateNode;if(!n)throw Error(I(169));r?(e=jd(e,t,Er),n.__reactInternalMemoizedMergedChildContext=e,ce(Ve),ce(Te),ie(Te,e)):ce(Ve),ie(Ve,r)}var Pt=null,Ra=!1,jl=!1;function Nd(e){Pt===null?Pt=[e]:Pt.push(e)}function lh(e){Ra=!0,Nd(e)}function dr(){if(!jl&&Pt!==null){jl=!0;var e=0,t=ae;try{var r=Pt;for(ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Pt=null,Ra=!1}catch(a){throw Pt!==null&&(Pt=Pt.slice(e+1)),Ku(Qi,dr),a}finally{ae=t,jl=!1}}return null}var Kr=[],Gr=0,xa=null,ya=0,tt=[],rt=0,zr=null,Ft=1,Dt="";function xr(e,t){Kr[Gr++]=ya,Kr[Gr++]=xa,xa=e,ya=t}function kd(e,t,r){tt[rt++]=Ft,tt[rt++]=Dt,tt[rt++]=zr,zr=e;var n=Ft;e=Dt;var a=32-xt(n)-1;n&=~(1<<a),r+=1;var l=32-xt(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,Ft=1<<32-xt(t)+a|r<<a|n,Dt=l+e}else Ft=1<<l|r<<a|n,Dt=e}function to(e){e.return!==null&&(xr(e,1),kd(e,1,0))}function ro(e){for(;e===xa;)xa=Kr[--Gr],Kr[Gr]=null,ya=Kr[--Gr],Kr[Gr]=null;for(;e===zr;)zr=tt[--rt],tt[rt]=null,Dt=tt[--rt],tt[rt]=null,Ft=tt[--rt],tt[rt]=null}var Ge=null,Ke=null,me=!1,ht=null;function Sd(e,t){var r=nt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function bc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,Ke=er(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=zr!==null?{id:Ft,overflow:Dt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=nt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ge=e,Ke=null,!0):!1;default:return!1}}function di(e){return(e.mode&1)!==0&&(e.flags&128)===0}function mi(e){if(me){var t=Ke;if(t){var r=t;if(!bc(e,t)){if(di(e))throw Error(I(418));t=er(r.nextSibling);var n=Ge;t&&bc(e,t)?Sd(n,r):(e.flags=e.flags&-4097|2,me=!1,Ge=e)}}else{if(di(e))throw Error(I(418));e.flags=e.flags&-4097|2,me=!1,Ge=e}}}function jc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function Us(e){if(e!==Ge)return!1;if(!me)return jc(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ii(e.type,e.memoizedProps)),t&&(t=Ke)){if(di(e))throw Cd(),Error(I(418));for(;t;)Sd(e,t),t=er(t.nextSibling)}if(jc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(I(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ke=er(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Ge?er(e.stateNode.nextSibling):null;return!0}function Cd(){for(var e=Ke;e;)e=er(e.nextSibling)}function un(){Ke=Ge=null,me=!1}function no(e){ht===null?ht=[e]:ht.push(e)}var ih=Ut.ReactCurrentBatchConfig;function zn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(I(309));var n=r.stateNode}if(!n)throw Error(I(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(I(284));if(!r._owner)throw Error(I(290,e))}return e}function Os(e,t){throw e=Object.prototype.toString.call(t),Error(I(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Nc(e){var t=e._init;return t(e._payload)}function _d(e){function t(g,h){if(e){var m=g.deletions;m===null?(g.deletions=[h],g.flags|=16):m.push(h)}}function r(g,h){if(!e)return null;for(;h!==null;)t(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function a(g,h){return g=sr(g,h),g.index=0,g.sibling=null,g}function l(g,h,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<h?(g.flags|=2,h):m):(g.flags|=2,h)):(g.flags|=1048576,h)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,h,m,b){return h===null||h.tag!==6?(h=zl(m,g.mode,b),h.return=g,h):(h=a(h,m),h.return=g,h)}function c(g,h,m,b){var j=m.type;return j===Br?p(g,h,m.props.children,b,m.key):h!==null&&(h.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ht&&Nc(j)===h.type)?(b=a(h,m.props),b.ref=zn(g,h,m),b.return=g,b):(b=sa(m.type,m.key,m.props,null,g.mode,b),b.ref=zn(g,h,m),b.return=g,b)}function u(g,h,m,b){return h===null||h.tag!==4||h.stateNode.containerInfo!==m.containerInfo||h.stateNode.implementation!==m.implementation?(h=Pl(m,g.mode,b),h.return=g,h):(h=a(h,m.children||[]),h.return=g,h)}function p(g,h,m,b,j){return h===null||h.tag!==7?(h=Sr(m,g.mode,b,j),h.return=g,h):(h=a(h,m),h.return=g,h)}function f(g,h,m){if(typeof h=="string"&&h!==""||typeof h=="number")return h=zl(""+h,g.mode,m),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case zs:return m=sa(h.type,h.key,h.props,null,g.mode,m),m.ref=zn(g,null,h),m.return=g,m;case Ar:return h=Pl(h,g.mode,m),h.return=g,h;case Ht:var b=h._init;return f(g,b(h._payload),m)}if(In(h)||kn(h))return h=Sr(h,g.mode,m,null),h.return=g,h;Os(g,h)}return null}function x(g,h,m,b){var j=h!==null?h.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return j!==null?null:o(g,h,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case zs:return m.key===j?c(g,h,m,b):null;case Ar:return m.key===j?u(g,h,m,b):null;case Ht:return j=m._init,x(g,h,j(m._payload),b)}if(In(m)||kn(m))return j!==null?null:p(g,h,m,b,null);Os(g,m)}return null}function d(g,h,m,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(m)||null,o(h,g,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zs:return g=g.get(b.key===null?m:b.key)||null,c(h,g,b,j);case Ar:return g=g.get(b.key===null?m:b.key)||null,u(h,g,b,j);case Ht:var k=b._init;return d(g,h,m,k(b._payload),j)}if(In(b)||kn(b))return g=g.get(m)||null,p(h,g,b,j,null);Os(h,b)}return null}function y(g,h,m,b){for(var j=null,k=null,P=h,M=h=0,F=null;P!==null&&M<m.length;M++){P.index>M?(F=P,P=null):F=P.sibling;var N=x(g,P,m[M],b);if(N===null){P===null&&(P=F);break}e&&P&&N.alternate===null&&t(g,P),h=l(N,h,M),k===null?j=N:k.sibling=N,k=N,P=F}if(M===m.length)return r(g,P),me&&xr(g,M),j;if(P===null){for(;M<m.length;M++)P=f(g,m[M],b),P!==null&&(h=l(P,h,M),k===null?j=P:k.sibling=P,k=P);return me&&xr(g,M),j}for(P=n(g,P);M<m.length;M++)F=d(P,g,M,m[M],b),F!==null&&(e&&F.alternate!==null&&P.delete(F.key===null?M:F.key),h=l(F,h,M),k===null?j=F:k.sibling=F,k=F);return e&&P.forEach(function(H){return t(g,H)}),me&&xr(g,M),j}function w(g,h,m,b){var j=kn(m);if(typeof j!="function")throw Error(I(150));if(m=j.call(m),m==null)throw Error(I(151));for(var k=j=null,P=h,M=h=0,F=null,N=m.next();P!==null&&!N.done;M++,N=m.next()){P.index>M?(F=P,P=null):F=P.sibling;var H=x(g,P,N.value,b);if(H===null){P===null&&(P=F);break}e&&P&&H.alternate===null&&t(g,P),h=l(H,h,M),k===null?j=H:k.sibling=H,k=H,P=F}if(N.done)return r(g,P),me&&xr(g,M),j;if(P===null){for(;!N.done;M++,N=m.next())N=f(g,N.value,b),N!==null&&(h=l(N,h,M),k===null?j=N:k.sibling=N,k=N);return me&&xr(g,M),j}for(P=n(g,P);!N.done;M++,N=m.next())N=d(P,g,M,N.value,b),N!==null&&(e&&N.alternate!==null&&P.delete(N.key===null?M:N.key),h=l(N,h,M),k===null?j=N:k.sibling=N,k=N);return e&&P.forEach(function(z){return t(g,z)}),me&&xr(g,M),j}function C(g,h,m,b){if(typeof m=="object"&&m!==null&&m.type===Br&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case zs:e:{for(var j=m.key,k=h;k!==null;){if(k.key===j){if(j=m.type,j===Br){if(k.tag===7){r(g,k.sibling),h=a(k,m.props.children),h.return=g,g=h;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ht&&Nc(j)===k.type){r(g,k.sibling),h=a(k,m.props),h.ref=zn(g,k,m),h.return=g,g=h;break e}r(g,k);break}else t(g,k);k=k.sibling}m.type===Br?(h=Sr(m.props.children,g.mode,b,m.key),h.return=g,g=h):(b=sa(m.type,m.key,m.props,null,g.mode,b),b.ref=zn(g,h,m),b.return=g,g=b)}return i(g);case Ar:e:{for(k=m.key;h!==null;){if(h.key===k)if(h.tag===4&&h.stateNode.containerInfo===m.containerInfo&&h.stateNode.implementation===m.implementation){r(g,h.sibling),h=a(h,m.children||[]),h.return=g,g=h;break e}else{r(g,h);break}else t(g,h);h=h.sibling}h=Pl(m,g.mode,b),h.return=g,g=h}return i(g);case Ht:return k=m._init,C(g,h,k(m._payload),b)}if(In(m))return y(g,h,m,b);if(kn(m))return w(g,h,m,b);Os(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,h!==null&&h.tag===6?(r(g,h.sibling),h=a(h,m),h.return=g,g=h):(r(g,h),h=zl(m,g.mode,b),h.return=g,g=h),i(g)):r(g,h)}return C}var dn=_d(!0),Ed=_d(!1),va=ur(null),wa=null,Yr=null,so=null;function ao(){so=Yr=wa=null}function lo(e){var t=va.current;ce(va),e._currentValue=t}function fi(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function nn(e,t){wa=e,so=Yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Be=!0),e.firstContext=null)}function at(e){var t=e._currentValue;if(so!==e)if(e={context:e,memoizedValue:t,next:null},Yr===null){if(wa===null)throw Error(I(308));Yr=e,wa.dependencies={lanes:0,firstContext:e}}else Yr=Yr.next=e;return t}var br=null;function io(e){br===null?br=[e]:br.push(e)}function zd(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,io(t)):(r.next=a.next,a.next=r),t.interleaved=r,Lt(e,n)}function Lt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Wt=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function tr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ne&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Lt(e,r)}return a=n.interleaved,a===null?(t.next=t,io(n)):(t.next=a.next,a.next=t),n.interleaved=t,Lt(e,r)}function Js(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qi(e,r)}}function kc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ba(e,t,r,n){var a=e.updateQueue;Wt=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?l=u:i.next=u,i=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==i&&(o===null?p.firstBaseUpdate=u:o.next=u,p.lastBaseUpdate=c))}if(l!==null){var f=a.baseState;i=0,p=u=c=null,o=l;do{var x=o.lane,d=o.eventTime;if((n&x)===x){p!==null&&(p=p.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,w=o;switch(x=t,d=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(d,f,x);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,x=typeof y=="function"?y.call(d,f,x):y,x==null)break e;f=xe({},f,x);break e;case 2:Wt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else d={eventTime:d,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(u=p=d,c=f):p=p.next=d,i|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(p===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=p,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);Fr|=i,e.lanes=i,e.memoizedState=f}}function Sc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(I(191,a));a.call(n)}}}var js={},St=ur(js),ls=ur(js),is=ur(js);function jr(e){if(e===js)throw Error(I(174));return e}function co(e,t){switch(ie(is,t),ie(ls,e),ie(St,js),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ql(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ql(t,e)}ce(St),ie(St,t)}function mn(){ce(St),ce(ls),ce(is)}function Fd(e){jr(is.current);var t=jr(St.current),r=ql(t,e.type);t!==r&&(ie(ls,e),ie(St,r))}function uo(e){ls.current===e&&(ce(St),ce(ls))}var pe=ur(0);function ja(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nl=[];function mo(){for(var e=0;e<Nl.length;e++)Nl[e]._workInProgressVersionPrimary=null;Nl.length=0}var Zs=Ut.ReactCurrentDispatcher,kl=Ut.ReactCurrentBatchConfig,Pr=0,ge=null,Ne=null,Se=null,Na=!1,Bn=!1,os=0,oh=0;function Fe(){throw Error(I(321))}function fo(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!vt(e[r],t[r]))return!1;return!0}function po(e,t,r,n,a,l){if(Pr=l,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Zs.current=e===null||e.memoizedState===null?mh:fh,e=r(n,a),Bn){l=0;do{if(Bn=!1,os=0,25<=l)throw Error(I(301));l+=1,Se=Ne=null,t.updateQueue=null,Zs.current=ph,e=r(n,a)}while(Bn)}if(Zs.current=ka,t=Ne!==null&&Ne.next!==null,Pr=0,Se=Ne=ge=null,Na=!1,t)throw Error(I(300));return e}function ho(){var e=os!==0;return os=0,e}function bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?ge.memoizedState=Se=e:Se=Se.next=e,Se}function lt(){if(Ne===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Se===null?ge.memoizedState:Se.next;if(t!==null)Se=t,Ne=e;else{if(e===null)throw Error(I(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Se===null?ge.memoizedState=Se=e:Se=Se.next=e}return Se}function cs(e,t){return typeof t=="function"?t(e):t}function Sl(e){var t=lt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=Ne,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,u=l;do{var p=u.lane;if((Pr&p)===p)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,i=n):c=c.next=f,ge.lanes|=p,Fr|=p}u=u.next}while(u!==null&&u!==l);c===null?i=n:c.next=o,vt(n,t.memoizedState)||(Be=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,ge.lanes|=l,Fr|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Cl(e){var t=lt(),r=t.queue;if(r===null)throw Error(I(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);vt(l,t.memoizedState)||(Be=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Dd(){}function Id(e,t){var r=ge,n=lt(),a=t(),l=!vt(n.memoizedState,a);if(l&&(n.memoizedState=a,Be=!0),n=n.queue,go(Ld.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||Se!==null&&Se.memoizedState.tag&1){if(r.flags|=2048,us(9,Td.bind(null,r,n,a,t),void 0,null),Ce===null)throw Error(I(349));Pr&30||Md(r,t,a)}return a}function Md(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Td(e,t,r,n){t.value=r,t.getSnapshot=n,Rd(t)&&$d(e)}function Ld(e,t,r){return r(function(){Rd(t)&&$d(e)})}function Rd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!vt(e,r)}catch{return!0}}function $d(e){var t=Lt(e,1);t!==null&&yt(t,e,1,-1)}function Cc(e){var t=bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t.queue=e,e=e.dispatch=dh.bind(null,ge,e),[t.memoizedState,e]}function us(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Ud(){return lt().memoizedState}function ea(e,t,r,n){var a=bt();ge.flags|=e,a.memoizedState=us(1|t,r,void 0,n===void 0?null:n)}function $a(e,t,r,n){var a=lt();n=n===void 0?null:n;var l=void 0;if(Ne!==null){var i=Ne.memoizedState;if(l=i.destroy,n!==null&&fo(n,i.deps)){a.memoizedState=us(t,r,l,n);return}}ge.flags|=e,a.memoizedState=us(1|t,r,l,n)}function _c(e,t){return ea(8390656,8,e,t)}function go(e,t){return $a(2048,8,e,t)}function Od(e,t){return $a(4,2,e,t)}function Ad(e,t){return $a(4,4,e,t)}function Bd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vd(e,t,r){return r=r!=null?r.concat([e]):null,$a(4,4,Bd.bind(null,t,e),r)}function xo(){}function Hd(e,t){var r=lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fo(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wd(e,t){var r=lt();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&fo(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Qd(e,t,r){return Pr&21?(vt(r,t)||(r=Xu(),ge.lanes|=r,Fr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Be=!0),e.memoizedState=r)}function ch(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var n=kl.transition;kl.transition={};try{e(!1),t()}finally{ae=r,kl.transition=n}}function qd(){return lt().memoizedState}function uh(e,t,r){var n=nr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kd(e))Gd(t,r);else if(r=zd(e,t,r,n),r!==null){var a=Re();yt(r,e,n,a),Yd(r,t,n)}}function dh(e,t,r){var n=nr(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kd(e))Gd(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,vt(o,i)){var c=t.interleaved;c===null?(a.next=a,io(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=zd(e,t,a,n),r!==null&&(a=Re(),yt(r,e,n,a),Yd(r,t,n))}}function Kd(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function Gd(e,t){Bn=Na=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Yd(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,qi(e,r)}}var ka={readContext:at,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},mh={readContext:at,useCallback:function(e,t){return bt().memoizedState=[e,t===void 0?null:t],e},useContext:at,useEffect:_c,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ea(4194308,4,Bd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ea(4194308,4,e,t)},useInsertionEffect:function(e,t){return ea(4,2,e,t)},useMemo:function(e,t){var r=bt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=bt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=uh.bind(null,ge,e),[n.memoizedState,e]},useRef:function(e){var t=bt();return e={current:e},t.memoizedState=e},useState:Cc,useDebugValue:xo,useDeferredValue:function(e){return bt().memoizedState=e},useTransition:function(){var e=Cc(!1),t=e[0];return e=ch.bind(null,e[1]),bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ge,a=bt();if(me){if(r===void 0)throw Error(I(407));r=r()}else{if(r=t(),Ce===null)throw Error(I(349));Pr&30||Md(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,_c(Ld.bind(null,n,l,e),[e]),n.flags|=2048,us(9,Td.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=bt(),t=Ce.identifierPrefix;if(me){var r=Dt,n=Ft;r=(n&~(1<<32-xt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=os++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=oh++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fh={readContext:at,useCallback:Hd,useContext:at,useEffect:go,useImperativeHandle:Vd,useInsertionEffect:Od,useLayoutEffect:Ad,useMemo:Wd,useReducer:Sl,useRef:Ud,useState:function(){return Sl(cs)},useDebugValue:xo,useDeferredValue:function(e){var t=lt();return Qd(t,Ne.memoizedState,e)},useTransition:function(){var e=Sl(cs)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Dd,useSyncExternalStore:Id,useId:qd,unstable_isNewReconciler:!1},ph={readContext:at,useCallback:Hd,useContext:at,useEffect:go,useImperativeHandle:Vd,useInsertionEffect:Od,useLayoutEffect:Ad,useMemo:Wd,useReducer:Cl,useRef:Ud,useState:function(){return Cl(cs)},useDebugValue:xo,useDeferredValue:function(e){var t=lt();return Ne===null?t.memoizedState=e:Qd(t,Ne.memoizedState,e)},useTransition:function(){var e=Cl(cs)[0],t=lt().memoizedState;return[e,t]},useMutableSource:Dd,useSyncExternalStore:Id,useId:qd,unstable_isNewReconciler:!1};function ft(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function pi(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:xe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ua={isMounted:function(e){return(e=e._reactInternals)?Mr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Re(),a=nr(e),l=It(n,a);l.payload=t,r!=null&&(l.callback=r),t=tr(e,l,a),t!==null&&(yt(t,e,a,n),Js(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Re(),a=nr(e),l=It(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=tr(e,l,a),t!==null&&(yt(t,e,a,n),Js(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Re(),n=nr(e),a=It(r,n);a.tag=2,t!=null&&(a.callback=t),t=tr(e,a,n),t!==null&&(yt(t,e,n,r),Js(t,e,n))}};function Ec(e,t,r,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!rs(r,n)||!rs(a,l):!0}function Xd(e,t,r){var n=!1,a=ir,l=t.contextType;return typeof l=="object"&&l!==null?l=at(l):(a=He(t)?Er:Te.current,n=t.contextTypes,l=(n=n!=null)?cn(e,a):ir),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ua,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function zc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ua.enqueueReplaceState(t,t.state,null)}function hi(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},oo(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=at(l):(l=He(t)?Er:Te.current,a.context=cn(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(pi(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ua.enqueueReplaceState(a,a.state,null),ba(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function fn(e,t){try{var r="",n=t;do r+=Bf(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function _l(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function gi(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var hh=typeof WeakMap=="function"?WeakMap:Map;function Jd(e,t,r){r=It(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ca||(Ca=!0,Ci=n),gi(e,t)},r}function Zd(e,t,r){r=It(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){gi(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){gi(e,t),typeof n!="function"&&(rr===null?rr=new Set([this]):rr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Pc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new hh;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=zh.bind(null,e,t,r),t.then(e,e))}function Fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Dc(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=It(-1,1),t.tag=2,tr(r,t,1))),r.lanes|=1),e)}var gh=Ut.ReactCurrentOwner,Be=!1;function Le(e,t,r,n){t.child=e===null?Ed(t,null,r,n):dn(t,e.child,r,n)}function Ic(e,t,r,n,a){r=r.render;var l=t.ref;return nn(t,a),n=po(e,t,r,n,l,a),r=ho(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Rt(e,t,a)):(me&&r&&to(t),t.flags|=1,Le(e,t,n,a),t.child)}function Mc(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!So(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,em(e,t,l,n,a)):(e=sa(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:rs,r(i,n)&&e.ref===t.ref)return Rt(e,t,a)}return t.flags|=1,e=sr(l,n),e.ref=t.ref,e.return=t,t.child=e}function em(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(rs(l,n)&&e.ref===t.ref)if(Be=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(Be=!0);else return t.lanes=e.lanes,Rt(e,t,a)}return xi(e,t,r,n,a)}function tm(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ie(Jr,qe),qe|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ie(Jr,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,ie(Jr,qe),qe|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,ie(Jr,qe),qe|=n;return Le(e,t,a,r),t.child}function rm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function xi(e,t,r,n,a){var l=He(r)?Er:Te.current;return l=cn(t,l),nn(t,a),r=po(e,t,r,n,l,a),n=ho(),e!==null&&!Be?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Rt(e,t,a)):(me&&n&&to(t),t.flags|=1,Le(e,t,r,a),t.child)}function Tc(e,t,r,n,a){if(He(r)){var l=!0;ga(t)}else l=!1;if(nn(t,a),t.stateNode===null)ta(e,t),Xd(t,r,n),hi(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=at(u):(u=He(r)?Er:Te.current,u=cn(t,u));var p=r.getDerivedStateFromProps,f=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==u)&&zc(t,i,n,u),Wt=!1;var x=t.memoizedState;i.state=x,ba(t,n,i,a),c=t.memoizedState,o!==n||x!==c||Ve.current||Wt?(typeof p=="function"&&(pi(t,r,p,n),c=t.memoizedState),(o=Wt||Ec(t,r,o,n,x,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Pd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ft(t.type,o),i.props=u,f=t.pendingProps,x=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=at(c):(c=He(r)?Er:Te.current,c=cn(t,c));var d=r.getDerivedStateFromProps;(p=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||x!==c)&&zc(t,i,n,c),Wt=!1,x=t.memoizedState,i.state=x,ba(t,n,i,a);var y=t.memoizedState;o!==f||x!==y||Ve.current||Wt?(typeof d=="function"&&(pi(t,r,d,n),y=t.memoizedState),(u=Wt||Ec(t,r,u,n,x,y,c)||!1)?(p||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,y,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,y,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),i.props=n,i.state=y,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return yi(e,t,r,n,l,a)}function yi(e,t,r,n,a,l){rm(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&wc(t,r,!1),Rt(e,t,l);n=t.stateNode,gh.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=dn(t,e.child,null,l),t.child=dn(t,null,o,l)):Le(e,t,o,l),t.memoizedState=n.state,a&&wc(t,r,!0),t.child}function nm(e){var t=e.stateNode;t.pendingContext?vc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vc(e,t.context,!1),co(e,t.containerInfo)}function Lc(e,t,r,n,a){return un(),no(a),t.flags|=256,Le(e,t,r,n),t.child}var vi={dehydrated:null,treeContext:null,retryLane:0};function wi(e){return{baseLanes:e,cachePool:null,transitions:null}}function sm(e,t,r){var n=t.pendingProps,a=pe.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ie(pe,a&1),e===null)return mi(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Ba(i,n,0,null),e=Sr(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=wi(r),t.memoizedState=vi,e):yo(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return xh(e,t,i,n,o,a,r);if(l){l=n.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=sr(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=sr(o,l):(l=Sr(l,i,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?wi(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=vi,n}return l=e.child,e=l.sibling,n=sr(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yo(e,t){return t=Ba({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function As(e,t,r,n){return n!==null&&no(n),dn(t,e.child,null,r),e=yo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xh(e,t,r,n,a,l,i){if(r)return t.flags&256?(t.flags&=-257,n=_l(Error(I(422))),As(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Ba({mode:"visible",children:n.children},a,0,null),l=Sr(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&dn(t,e.child,null,i),t.child.memoizedState=wi(i),t.memoizedState=vi,l);if(!(t.mode&1))return As(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(I(419)),n=_l(l,n,void 0),As(e,t,i,n)}if(o=(i&e.childLanes)!==0,Be||o){if(n=Ce,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,Lt(e,a),yt(n,e,a,-1))}return ko(),n=_l(Error(I(421))),As(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Ph.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,Ke=er(a.nextSibling),Ge=t,me=!0,ht=null,e!==null&&(tt[rt++]=Ft,tt[rt++]=Dt,tt[rt++]=zr,Ft=e.id,Dt=e.overflow,zr=t),t=yo(t,n.children),t.flags|=4096,t)}function Rc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),fi(e.return,t,r)}function El(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function am(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(Le(e,t,n.children,r),n=pe.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Rc(e,r,t);else if(e.tag===19)Rc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ie(pe,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ja(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),El(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ja(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}El(t,!0,r,null,l);break;case"together":El(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ta(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Fr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(I(153));if(t.child!==null){for(e=t.child,r=sr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=sr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function yh(e,t,r){switch(t.tag){case 3:nm(t),un();break;case 5:Fd(t);break;case 1:He(t.type)&&ga(t);break;case 4:co(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ie(va,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ie(pe,pe.current&1),t.flags|=128,null):r&t.child.childLanes?sm(e,t,r):(ie(pe,pe.current&1),e=Rt(e,t,r),e!==null?e.sibling:null);ie(pe,pe.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return am(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ie(pe,pe.current),n)break;return null;case 22:case 23:return t.lanes=0,tm(e,t,r)}return Rt(e,t,r)}var lm,bi,im,om;lm=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};bi=function(){};im=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,jr(St.current);var l=null;switch(r){case"input":a=Vl(e,a),n=Vl(e,n),l=[];break;case"select":a=xe({},a,{value:void 0}),n=xe({},n,{value:void 0}),l=[];break;case"textarea":a=Ql(e,a),n=Ql(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pa)}Kl(r,n);var i;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var o=a[u];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Gn.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in n){var c=n[u];if(o=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Gn.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&oe("scroll",e),l||o===c||(l=[])):(l=l||[]).push(u,c))}r&&(l=l||[]).push("style",r);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};om=function(e,t,r,n){r!==n&&(t.flags|=4)};function Pn(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function vh(e,t,r){var n=t.pendingProps;switch(ro(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return He(t.type)&&ha(),De(t),null;case 3:return n=t.stateNode,mn(),ce(Ve),ce(Te),mo(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(zi(ht),ht=null))),bi(e,t),De(t),null;case 5:uo(t);var a=jr(is.current);if(r=t.type,e!==null&&t.stateNode!=null)im(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(I(166));return De(t),null}if(e=jr(St.current),Us(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[Nt]=t,n[as]=l,e=(t.mode&1)!==0,r){case"dialog":oe("cancel",n),oe("close",n);break;case"iframe":case"object":case"embed":oe("load",n);break;case"video":case"audio":for(a=0;a<Tn.length;a++)oe(Tn[a],n);break;case"source":oe("error",n);break;case"img":case"image":case"link":oe("error",n),oe("load",n);break;case"details":oe("toggle",n);break;case"input":Qo(n,l),oe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},oe("invalid",n);break;case"textarea":Ko(n,l),oe("invalid",n)}Kl(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&$s(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&$s(n.textContent,o,e),a=["children",""+o]):Gn.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&oe("scroll",n)}switch(r){case"input":Ps(n),qo(n,l,!0);break;case"textarea":Ps(n),Go(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=pa)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Lu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[Nt]=t,e[as]=n,lm(e,t,!1,!1),t.stateNode=e;e:{switch(i=Gl(r,n),r){case"dialog":oe("cancel",e),oe("close",e),a=n;break;case"iframe":case"object":case"embed":oe("load",e),a=n;break;case"video":case"audio":for(a=0;a<Tn.length;a++)oe(Tn[a],e);a=n;break;case"source":oe("error",e),a=n;break;case"img":case"image":case"link":oe("error",e),oe("load",e),a=n;break;case"details":oe("toggle",e),a=n;break;case"input":Qo(e,n),a=Vl(e,n),oe("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=xe({},n,{value:void 0}),oe("invalid",e);break;case"textarea":Ko(e,n),a=Ql(e,n),oe("invalid",e);break;default:a=n}Kl(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Uu(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Ru(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Yn(e,c):typeof c=="number"&&Yn(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Gn.hasOwnProperty(l)?c!=null&&l==="onScroll"&&oe("scroll",e):c!=null&&Ai(e,l,c,i))}switch(r){case"input":Ps(e),qo(e,n,!1);break;case"textarea":Ps(e),Go(e);break;case"option":n.value!=null&&e.setAttribute("value",""+lr(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Zr(e,!!n.multiple,l,!1):n.defaultValue!=null&&Zr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=pa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)om(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(I(166));if(r=jr(is.current),jr(St.current),Us(t)){if(n=t.stateNode,r=t.memoizedProps,n[Nt]=t,(l=n.nodeValue!==r)&&(e=Ge,e!==null))switch(e.tag){case 3:$s(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&$s(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Nt]=t,t.stateNode=n}return De(t),null;case 13:if(ce(pe),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&Ke!==null&&t.mode&1&&!(t.flags&128))Cd(),un(),t.flags|=98560,l=!1;else if(l=Us(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(I(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(I(317));l[Nt]=t}else un(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),l=!1}else ht!==null&&(zi(ht),ht=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?ke===0&&(ke=3):ko())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return mn(),bi(e,t),e===null&&ns(t.stateNode.containerInfo),De(t),null;case 10:return lo(t.type._context),De(t),null;case 17:return He(t.type)&&ha(),De(t),null;case 19:if(ce(pe),l=t.memoizedState,l===null)return De(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Pn(l,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ja(e),i!==null){for(t.flags|=128,Pn(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ie(pe,pe.current&1|2),t.child}e=e.sibling}l.tail!==null&&ve()>pn&&(t.flags|=128,n=!0,Pn(l,!1),t.lanes=4194304)}else{if(!n)if(e=ja(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Pn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!me)return De(t),null}else 2*ve()-l.renderingStartTime>pn&&r!==1073741824&&(t.flags|=128,n=!0,Pn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=ve(),t.sibling=null,r=pe.current,ie(pe,n?r&1|2:r&1),t):(De(t),null);case 22:case 23:return No(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?qe&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(I(156,t.tag))}function wh(e,t){switch(ro(t),t.tag){case 1:return He(t.type)&&ha(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return mn(),ce(Ve),ce(Te),mo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return uo(t),null;case 13:if(ce(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(I(340));un()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(pe),null;case 4:return mn(),null;case 10:return lo(t.type._context),null;case 22:case 23:return No(),null;case 24:return null;default:return null}}var Bs=!1,Me=!1,bh=typeof WeakSet=="function"?WeakSet:Set,V=null;function Xr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ye(e,t,n)}else r.current=null}function ji(e,t,r){try{r()}catch(n){ye(e,t,n)}}var $c=!1;function jh(e,t){if(ai=da,e=fd(),eo(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,u=0,p=0,f=e,x=null;t:for(;;){for(var d;f!==r||a!==0&&f.nodeType!==3||(o=i+a),f!==l||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(d=f.firstChild)!==null;)x=f,f=d;for(;;){if(f===e)break t;if(x===r&&++u===a&&(o=i),x===l&&++p===n&&(c=i),(d=f.nextSibling)!==null)break;f=x,x=f.parentNode}f=d}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(li={focusedElem:e,selectionRange:r},da=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,C=y.memoizedState,g=t.stateNode,h=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:ft(t.type,w),C);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(I(163))}}catch(b){ye(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return y=$c,$c=!1,y}function Vn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&ji(t,r,l)}a=a.next}while(a!==n)}}function Oa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ni(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function cm(e){var t=e.alternate;t!==null&&(e.alternate=null,cm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Nt],delete t[as],delete t[ci],delete t[sh],delete t[ah])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function um(e){return e.tag===5||e.tag===3||e.tag===4}function Uc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||um(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ki(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pa));else if(n!==4&&(e=e.child,e!==null))for(ki(e,t,r),e=e.sibling;e!==null;)ki(e,t,r),e=e.sibling}function Si(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Si(e,t,r),e=e.sibling;e!==null;)Si(e,t,r),e=e.sibling}var _e=null,pt=!1;function Vt(e,t,r){for(r=r.child;r!==null;)dm(e,t,r),r=r.sibling}function dm(e,t,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(Da,r)}catch{}switch(r.tag){case 5:Me||Xr(r,t);case 6:var n=_e,a=pt;_e=null,Vt(e,t,r),_e=n,pt=a,_e!==null&&(pt?(e=_e,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_e.removeChild(r.stateNode));break;case 18:_e!==null&&(pt?(e=_e,r=r.stateNode,e.nodeType===8?bl(e.parentNode,r):e.nodeType===1&&bl(e,r),es(e)):bl(_e,r.stateNode));break;case 4:n=_e,a=pt,_e=r.stateNode.containerInfo,pt=!0,Vt(e,t,r),_e=n,pt=a;break;case 0:case 11:case 14:case 15:if(!Me&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&ji(r,t,i),a=a.next}while(a!==n)}Vt(e,t,r);break;case 1:if(!Me&&(Xr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ye(r,t,o)}Vt(e,t,r);break;case 21:Vt(e,t,r);break;case 22:r.mode&1?(Me=(n=Me)||r.memoizedState!==null,Vt(e,t,r),Me=n):Vt(e,t,r);break;default:Vt(e,t,r)}}function Oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new bh),t.forEach(function(n){var a=Fh.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function dt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:_e=o.stateNode,pt=!1;break e;case 3:_e=o.stateNode.containerInfo,pt=!0;break e;case 4:_e=o.stateNode.containerInfo,pt=!0;break e}o=o.return}if(_e===null)throw Error(I(160));dm(l,i,a),_e=null,pt=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(u){ye(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mm(t,e),t=t.sibling}function mm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dt(t,e),wt(e),n&4){try{Vn(3,e,e.return),Oa(3,e)}catch(w){ye(e,e.return,w)}try{Vn(5,e,e.return)}catch(w){ye(e,e.return,w)}}break;case 1:dt(t,e),wt(e),n&512&&r!==null&&Xr(r,r.return);break;case 5:if(dt(t,e),wt(e),n&512&&r!==null&&Xr(r,r.return),e.flags&32){var a=e.stateNode;try{Yn(a,"")}catch(w){ye(e,e.return,w)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&Mu(a,l),Gl(o,i);var u=Gl(o,l);for(i=0;i<c.length;i+=2){var p=c[i],f=c[i+1];p==="style"?Uu(a,f):p==="dangerouslySetInnerHTML"?Ru(a,f):p==="children"?Yn(a,f):Ai(a,p,f,u)}switch(o){case"input":Hl(a,l);break;case"textarea":Tu(a,l);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var d=l.value;d!=null?Zr(a,!!l.multiple,d,!1):x!==!!l.multiple&&(l.defaultValue!=null?Zr(a,!!l.multiple,l.defaultValue,!0):Zr(a,!!l.multiple,l.multiple?[]:"",!1))}a[as]=l}catch(w){ye(e,e.return,w)}}break;case 6:if(dt(t,e),wt(e),n&4){if(e.stateNode===null)throw Error(I(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(w){ye(e,e.return,w)}}break;case 3:if(dt(t,e),wt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{es(t.containerInfo)}catch(w){ye(e,e.return,w)}break;case 4:dt(t,e),wt(e);break;case 13:dt(t,e),wt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(bo=ve())),n&4&&Oc(e);break;case 22:if(p=r!==null&&r.memoizedState!==null,e.mode&1?(Me=(u=Me)||p,dt(t,e),Me=u):dt(t,e),wt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!p&&e.mode&1)for(V=e,p=e.child;p!==null;){for(f=V=p;V!==null;){switch(x=V,d=x.child,x.tag){case 0:case 11:case 14:case 15:Vn(4,x,x.return);break;case 1:Xr(x,x.return);var y=x.stateNode;if(typeof y.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){ye(n,r,w)}}break;case 5:Xr(x,x.return);break;case 22:if(x.memoizedState!==null){Bc(f);continue}}d!==null?(d.return=x,V=d):Bc(f)}p=p.sibling}e:for(p=null,f=e;;){if(f.tag===5){if(p===null){p=f;try{a=f.stateNode,u?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=$u("display",i))}catch(w){ye(e,e.return,w)}}}else if(f.tag===6){if(p===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){ye(e,e.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:dt(t,e),wt(e),n&4&&Oc(e);break;case 21:break;default:dt(t,e),wt(e)}}function wt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(um(r)){var n=r;break e}r=r.return}throw Error(I(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(Yn(a,""),n.flags&=-33);var l=Uc(e);Si(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=Uc(e);ki(e,o,i);break;default:throw Error(I(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nh(e,t,r){V=e,fm(e)}function fm(e,t,r){for(var n=(e.mode&1)!==0;V!==null;){var a=V,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||Bs;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Me;o=Bs;var u=Me;if(Bs=i,(Me=c)&&!u)for(V=a;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?Vc(a):c!==null?(c.return=i,V=c):Vc(a);for(;l!==null;)V=l,fm(l),l=l.sibling;V=a,Bs=o,Me=u}Ac(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,V=l):Ac(e)}}function Ac(e){for(;V!==null;){var t=V;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Me||Oa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Me)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:ft(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Sc(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sc(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var p=u.memoizedState;if(p!==null){var f=p.dehydrated;f!==null&&es(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(I(163))}Me||t.flags&512&&Ni(t)}catch(x){ye(t,t.return,x)}}if(t===e){V=null;break}if(r=t.sibling,r!==null){r.return=t.return,V=r;break}V=t.return}}function Bc(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var r=t.sibling;if(r!==null){r.return=t.return,V=r;break}V=t.return}}function Vc(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Oa(4,t)}catch(c){ye(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ye(t,a,c)}}var l=t.return;try{Ni(t)}catch(c){ye(t,l,c)}break;case 5:var i=t.return;try{Ni(t)}catch(c){ye(t,i,c)}}}catch(c){ye(t,t.return,c)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var kh=Math.ceil,Sa=Ut.ReactCurrentDispatcher,vo=Ut.ReactCurrentOwner,st=Ut.ReactCurrentBatchConfig,ne=0,Ce=null,we=null,Ee=0,qe=0,Jr=ur(0),ke=0,ds=null,Fr=0,Aa=0,wo=0,Hn=null,Ae=null,bo=0,pn=1/0,zt=null,Ca=!1,Ci=null,rr=null,Vs=!1,Gt=null,_a=0,Wn=0,_i=null,ra=-1,na=0;function Re(){return ne&6?ve():ra!==-1?ra:ra=ve()}function nr(e){return e.mode&1?ne&2&&Ee!==0?Ee&-Ee:ih.transition!==null?(na===0&&(na=Xu()),na):(e=ae,e!==0||(e=window.event,e=e===void 0?16:sd(e.type)),e):1}function yt(e,t,r,n){if(50<Wn)throw Wn=0,_i=null,Error(I(185));vs(e,r,n),(!(ne&2)||e!==Ce)&&(e===Ce&&(!(ne&2)&&(Aa|=r),ke===4&&qt(e,Ee)),We(e,n),r===1&&ne===0&&!(t.mode&1)&&(pn=ve()+500,Ra&&dr()))}function We(e,t){var r=e.callbackNode;ip(e,t);var n=ua(e,e===Ce?Ee:0);if(n===0)r!==null&&Jo(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Jo(r),t===1)e.tag===0?lh(Hc.bind(null,e)):Nd(Hc.bind(null,e)),rh(function(){!(ne&6)&&dr()}),r=null;else{switch(Ju(n)){case 1:r=Qi;break;case 4:r=Gu;break;case 16:r=ca;break;case 536870912:r=Yu;break;default:r=ca}r=bm(r,pm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function pm(e,t){if(ra=-1,na=0,ne&6)throw Error(I(327));var r=e.callbackNode;if(sn()&&e.callbackNode!==r)return null;var n=ua(e,e===Ce?Ee:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ea(e,n);else{t=n;var a=ne;ne|=2;var l=gm();(Ce!==e||Ee!==t)&&(zt=null,pn=ve()+500,kr(e,t));do try{_h();break}catch(o){hm(e,o)}while(!0);ao(),Sa.current=l,ne=a,we!==null?t=0:(Ce=null,Ee=0,t=ke)}if(t!==0){if(t===2&&(a=ei(e),a!==0&&(n=a,t=Ei(e,a))),t===1)throw r=ds,kr(e,0),qt(e,n),We(e,ve()),r;if(t===6)qt(e,n);else{if(a=e.current.alternate,!(n&30)&&!Sh(a)&&(t=Ea(e,n),t===2&&(l=ei(e),l!==0&&(n=l,t=Ei(e,l))),t===1))throw r=ds,kr(e,0),qt(e,n),We(e,ve()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(I(345));case 2:yr(e,Ae,zt);break;case 3:if(qt(e,n),(n&130023424)===n&&(t=bo+500-ve(),10<t)){if(ua(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){Re(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=oi(yr.bind(null,e,Ae,zt),t);break}yr(e,Ae,zt);break;case 4:if(qt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-xt(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=ve()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kh(n/1960))-n,10<n){e.timeoutHandle=oi(yr.bind(null,e,Ae,zt),n);break}yr(e,Ae,zt);break;case 5:yr(e,Ae,zt);break;default:throw Error(I(329))}}}return We(e,ve()),e.callbackNode===r?pm.bind(null,e):null}function Ei(e,t){var r=Hn;return e.current.memoizedState.isDehydrated&&(kr(e,t).flags|=256),e=Ea(e,t),e!==2&&(t=Ae,Ae=r,t!==null&&zi(t)),e}function zi(e){Ae===null?Ae=e:Ae.push.apply(Ae,e)}function Sh(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!vt(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function qt(e,t){for(t&=~wo,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-xt(t),n=1<<r;e[r]=-1,t&=~n}}function Hc(e){if(ne&6)throw Error(I(327));sn();var t=ua(e,0);if(!(t&1))return We(e,ve()),null;var r=Ea(e,t);if(e.tag!==0&&r===2){var n=ei(e);n!==0&&(t=n,r=Ei(e,n))}if(r===1)throw r=ds,kr(e,0),qt(e,t),We(e,ve()),r;if(r===6)throw Error(I(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,yr(e,Ae,zt),We(e,ve()),null}function jo(e,t){var r=ne;ne|=1;try{return e(t)}finally{ne=r,ne===0&&(pn=ve()+500,Ra&&dr())}}function Dr(e){Gt!==null&&Gt.tag===0&&!(ne&6)&&sn();var t=ne;ne|=1;var r=st.transition,n=ae;try{if(st.transition=null,ae=1,e)return e()}finally{ae=n,st.transition=r,ne=t,!(ne&6)&&dr()}}function No(){qe=Jr.current,ce(Jr)}function kr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,th(r)),we!==null)for(r=we.return;r!==null;){var n=r;switch(ro(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ha();break;case 3:mn(),ce(Ve),ce(Te),mo();break;case 5:uo(n);break;case 4:mn();break;case 13:ce(pe);break;case 19:ce(pe);break;case 10:lo(n.type._context);break;case 22:case 23:No()}r=r.return}if(Ce=e,we=e=sr(e.current,null),Ee=qe=t,ke=0,ds=null,wo=Aa=Fr=0,Ae=Hn=null,br!==null){for(t=0;t<br.length;t++)if(r=br[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}br=null}return e}function hm(e,t){do{var r=we;try{if(ao(),Zs.current=ka,Na){for(var n=ge.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Na=!1}if(Pr=0,Se=Ne=ge=null,Bn=!1,os=0,vo.current=null,r===null||r.return===null){ke=1,ds=t,we=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=Ee,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,p=o,f=p.tag;if(!(p.mode&1)&&(f===0||f===11||f===15)){var x=p.alternate;x?(p.updateQueue=x.updateQueue,p.memoizedState=x.memoizedState,p.lanes=x.lanes):(p.updateQueue=null,p.memoizedState=null)}var d=Fc(i);if(d!==null){d.flags&=-257,Dc(d,i,o,l,t),d.mode&1&&Pc(l,u,t),t=d,c=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(c),t.updateQueue=w}else y.add(c);break e}else{if(!(t&1)){Pc(l,u,t),ko();break e}c=Error(I(426))}}else if(me&&o.mode&1){var C=Fc(i);if(C!==null){!(C.flags&65536)&&(C.flags|=256),Dc(C,i,o,l,t),no(fn(c,o));break e}}l=c=fn(c,o),ke!==4&&(ke=2),Hn===null?Hn=[l]:Hn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var g=Jd(l,c,t);kc(l,g);break e;case 1:o=c;var h=l.type,m=l.stateNode;if(!(l.flags&128)&&(typeof h.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(rr===null||!rr.has(m)))){l.flags|=65536,t&=-t,l.lanes|=t;var b=Zd(l,o,t);kc(l,b);break e}}l=l.return}while(l!==null)}ym(r)}catch(j){t=j,we===r&&r!==null&&(we=r=r.return);continue}break}while(!0)}function gm(){var e=Sa.current;return Sa.current=ka,e===null?ka:e}function ko(){(ke===0||ke===3||ke===2)&&(ke=4),Ce===null||!(Fr&268435455)&&!(Aa&268435455)||qt(Ce,Ee)}function Ea(e,t){var r=ne;ne|=2;var n=gm();(Ce!==e||Ee!==t)&&(zt=null,kr(e,t));do try{Ch();break}catch(a){hm(e,a)}while(!0);if(ao(),ne=r,Sa.current=n,we!==null)throw Error(I(261));return Ce=null,Ee=0,ke}function Ch(){for(;we!==null;)xm(we)}function _h(){for(;we!==null&&!Jf();)xm(we)}function xm(e){var t=wm(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?ym(e):we=t,vo.current=null}function ym(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=wh(r,t),r!==null){r.flags&=32767,we=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,we=null;return}}else if(r=vh(r,t,qe),r!==null){we=r;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);ke===0&&(ke=5)}function yr(e,t,r){var n=ae,a=st.transition;try{st.transition=null,ae=1,Eh(e,t,r,n)}finally{st.transition=a,ae=n}return null}function Eh(e,t,r,n){do sn();while(Gt!==null);if(ne&6)throw Error(I(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(I(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(op(e,l),e===Ce&&(we=Ce=null,Ee=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Vs||(Vs=!0,bm(ca,function(){return sn(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=st.transition,st.transition=null;var i=ae;ae=1;var o=ne;ne|=4,vo.current=null,jh(e,r),mm(r,e),Kp(li),da=!!ai,li=ai=null,e.current=r,Nh(r),Zf(),ne=o,ae=i,st.transition=l}else e.current=r;if(Vs&&(Vs=!1,Gt=e,_a=a),l=e.pendingLanes,l===0&&(rr=null),rp(r.stateNode),We(e,ve()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Ca)throw Ca=!1,e=Ci,Ci=null,e;return _a&1&&e.tag!==0&&sn(),l=e.pendingLanes,l&1?e===_i?Wn++:(Wn=0,_i=e):Wn=0,dr(),null}function sn(){if(Gt!==null){var e=Ju(_a),t=st.transition,r=ae;try{if(st.transition=null,ae=16>e?16:e,Gt===null)var n=!1;else{if(e=Gt,Gt=null,_a=0,ne&6)throw Error(I(331));var a=ne;for(ne|=4,V=e.current;V!==null;){var l=V,i=l.child;if(V.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(V=u;V!==null;){var p=V;switch(p.tag){case 0:case 11:case 15:Vn(8,p,l)}var f=p.child;if(f!==null)f.return=p,V=f;else for(;V!==null;){p=V;var x=p.sibling,d=p.return;if(cm(p),p===u){V=null;break}if(x!==null){x.return=d,V=x;break}V=d}}}var y=l.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var C=w.sibling;w.sibling=null,w=C}while(w!==null)}}V=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,V=i;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Vn(9,l,l.return)}var g=l.sibling;if(g!==null){g.return=l.return,V=g;break e}V=l.return}}var h=e.current;for(V=h;V!==null;){i=V;var m=i.child;if(i.subtreeFlags&2064&&m!==null)m.return=i,V=m;else e:for(i=h;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Oa(9,o)}}catch(j){ye(o,o.return,j)}if(o===i){V=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,V=b;break e}V=o.return}}if(ne=a,dr(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(Da,e)}catch{}n=!0}return n}finally{ae=r,st.transition=t}}return!1}function Wc(e,t,r){t=fn(r,t),t=Jd(e,t,1),e=tr(e,t,1),t=Re(),e!==null&&(vs(e,1,t),We(e,t))}function ye(e,t,r){if(e.tag===3)Wc(e,e,r);else for(;t!==null;){if(t.tag===3){Wc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(rr===null||!rr.has(n))){e=fn(r,e),e=Zd(t,e,1),t=tr(t,e,1),e=Re(),t!==null&&(vs(t,1,e),We(t,e));break}}t=t.return}}function zh(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Re(),e.pingedLanes|=e.suspendedLanes&r,Ce===e&&(Ee&r)===r&&(ke===4||ke===3&&(Ee&130023424)===Ee&&500>ve()-bo?kr(e,0):wo|=r),We(e,t)}function vm(e,t){t===0&&(e.mode&1?(t=Is,Is<<=1,!(Is&130023424)&&(Is=4194304)):t=1);var r=Re();e=Lt(e,t),e!==null&&(vs(e,t,r),We(e,r))}function Ph(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),vm(e,r)}function Fh(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(I(314))}n!==null&&n.delete(t),vm(e,r)}var wm;wm=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ve.current)Be=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Be=!1,yh(e,t,r);Be=!!(e.flags&131072)}else Be=!1,me&&t.flags&1048576&&kd(t,ya,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ta(e,t),e=t.pendingProps;var a=cn(t,Te.current);nn(t,r),a=po(null,t,n,e,a,r);var l=ho();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(n)?(l=!0,ga(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,oo(t),a.updater=Ua,t.stateNode=a,a._reactInternals=t,hi(t,n,e,r),t=yi(null,t,n,!0,l,r)):(t.tag=0,me&&l&&to(t),Le(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ta(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Ih(n),e=ft(n,e),a){case 0:t=xi(null,t,n,e,r);break e;case 1:t=Tc(null,t,n,e,r);break e;case 11:t=Ic(null,t,n,e,r);break e;case 14:t=Mc(null,t,n,ft(n.type,e),r);break e}throw Error(I(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ft(n,a),xi(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ft(n,a),Tc(e,t,n,a,r);case 3:e:{if(nm(t),e===null)throw Error(I(387));n=t.pendingProps,l=t.memoizedState,a=l.element,Pd(e,t),ba(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=fn(Error(I(423)),t),t=Lc(e,t,n,r,a);break e}else if(n!==a){a=fn(Error(I(424)),t),t=Lc(e,t,n,r,a);break e}else for(Ke=er(t.stateNode.containerInfo.firstChild),Ge=t,me=!0,ht=null,r=Ed(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(un(),n===a){t=Rt(e,t,r);break e}Le(e,t,n,r)}t=t.child}return t;case 5:return Fd(t),e===null&&mi(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,ii(n,a)?i=null:l!==null&&ii(n,l)&&(t.flags|=32),rm(e,t),Le(e,t,i,r),t.child;case 6:return e===null&&mi(t),null;case 13:return sm(e,t,r);case 4:return co(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=dn(t,null,n,r):Le(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ft(n,a),Ic(e,t,n,a,r);case 7:return Le(e,t,t.pendingProps,r),t.child;case 8:return Le(e,t,t.pendingProps.children,r),t.child;case 12:return Le(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ie(va,n._currentValue),n._currentValue=i,l!==null)if(vt(l.value,i)){if(l.children===a.children&&!Ve.current){t=Rt(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=It(-1,r&-r),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var p=u.pending;p===null?c.next=c:(c.next=p.next,p.next=c),u.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),fi(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(I(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),fi(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}Le(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,nn(t,r),a=at(a),n=n(a),t.flags|=1,Le(e,t,n,r),t.child;case 14:return n=t.type,a=ft(n,t.pendingProps),a=ft(n.type,a),Mc(e,t,n,a,r);case 15:return em(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:ft(n,a),ta(e,t),t.tag=1,He(n)?(e=!0,ga(t)):e=!1,nn(t,r),Xd(t,n,a),hi(t,n,a,r),yi(null,t,n,!0,e,r);case 19:return am(e,t,r);case 22:return tm(e,t,r)}throw Error(I(156,t.tag))};function bm(e,t){return Ku(e,t)}function Dh(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,r,n){return new Dh(e,t,r,n)}function So(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ih(e){if(typeof e=="function")return So(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vi)return 11;if(e===Hi)return 14}return 2}function sr(e,t){var r=e.alternate;return r===null?(r=nt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function sa(e,t,r,n,a,l){var i=2;if(n=e,typeof e=="function")So(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Br:return Sr(r.children,a,l,t);case Bi:i=8,a|=8;break;case Ul:return e=nt(12,r,t,a|2),e.elementType=Ul,e.lanes=l,e;case Ol:return e=nt(13,r,t,a),e.elementType=Ol,e.lanes=l,e;case Al:return e=nt(19,r,t,a),e.elementType=Al,e.lanes=l,e;case Fu:return Ba(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zu:i=10;break e;case Pu:i=9;break e;case Vi:i=11;break e;case Hi:i=14;break e;case Ht:i=16,n=null;break e}throw Error(I(130,e==null?e:typeof e,""))}return t=nt(i,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function Sr(e,t,r,n){return e=nt(7,e,n,t),e.lanes=r,e}function Ba(e,t,r,n){return e=nt(22,e,n,t),e.elementType=Fu,e.lanes=r,e.stateNode={isHidden:!1},e}function zl(e,t,r){return e=nt(6,e,null,t),e.lanes=r,e}function Pl(e,t,r){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mh(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ul(0),this.expirationTimes=ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ul(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Co(e,t,r,n,a,l,i,o,c){return e=new Mh(e,t,r,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=nt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},oo(l),e}function Th(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ar,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function jm(e){if(!e)return ir;e=e._reactInternals;e:{if(Mr(e)!==e||e.tag!==1)throw Error(I(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(I(171))}if(e.tag===1){var r=e.type;if(He(r))return jd(e,r,t)}return t}function Nm(e,t,r,n,a,l,i,o,c){return e=Co(r,n,!0,e,a,l,i,o,c),e.context=jm(null),r=e.current,n=Re(),a=nr(r),l=It(n,a),l.callback=t??null,tr(r,l,a),e.current.lanes=a,vs(e,a,n),We(e,n),e}function Va(e,t,r,n){var a=t.current,l=Re(),i=nr(a);return r=jm(r),t.context===null?t.context=r:t.pendingContext=r,t=It(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=tr(a,t,i),e!==null&&(yt(e,a,i,l),Js(e,a,i)),i}function za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function _o(e,t){Qc(e,t),(e=e.alternate)&&Qc(e,t)}function Lh(){return null}var km=typeof reportError=="function"?reportError:function(e){console.error(e)};function Eo(e){this._internalRoot=e}Ha.prototype.render=Eo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(I(409));Va(e,t,null,null)};Ha.prototype.unmount=Eo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Dr(function(){Va(null,e,null,null)}),t[Tt]=null}};function Ha(e){this._internalRoot=e}Ha.prototype.unstable_scheduleHydration=function(e){if(e){var t=td();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Qt.length&&t!==0&&t<Qt[r].priority;r++);Qt.splice(r,0,e),r===0&&nd(e)}};function zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Wa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qc(){}function Rh(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var u=za(i);l.call(u)}}var i=Nm(t,n,e,0,null,!1,!1,"",qc);return e._reactRootContainer=i,e[Tt]=i.current,ns(e.nodeType===8?e.parentNode:e),Dr(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var u=za(c);o.call(u)}}var c=Co(e,0,!1,null,null,!1,!1,"",qc);return e._reactRootContainer=c,e[Tt]=c.current,ns(e.nodeType===8?e.parentNode:e),Dr(function(){Va(t,c,r,n)}),c}function Qa(e,t,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=za(i);o.call(c)}}Va(t,i,e,a)}else i=Rh(r,t,e,a,n);return za(i)}Zu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Mn(t.pendingLanes);r!==0&&(qi(t,r|1),We(t,ve()),!(ne&6)&&(pn=ve()+500,dr()))}break;case 13:Dr(function(){var n=Lt(e,1);if(n!==null){var a=Re();yt(n,e,1,a)}}),_o(e,1)}};Ki=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var r=Re();yt(t,e,134217728,r)}_o(e,134217728)}};ed=function(e){if(e.tag===13){var t=nr(e),r=Lt(e,t);if(r!==null){var n=Re();yt(r,e,t,n)}_o(e,t)}};td=function(){return ae};rd=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};Xl=function(e,t,r){switch(t){case"input":if(Hl(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=La(n);if(!a)throw Error(I(90));Iu(n),Hl(n,a)}}}break;case"textarea":Tu(e,r);break;case"select":t=r.value,t!=null&&Zr(e,!!r.multiple,t,!1)}};Bu=jo;Vu=Dr;var $h={usingClientEntryPoint:!1,Events:[bs,Qr,La,Ou,Au,jo]},Fn={findFiberByHostInstance:wr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Uh={bundleType:Fn.bundleType,version:Fn.version,rendererPackageName:Fn.rendererPackageName,rendererConfig:Fn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qu(e),e===null?null:e.stateNode},findFiberByHostInstance:Fn.findFiberByHostInstance||Lh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hs.isDisabled&&Hs.supportsFiber)try{Da=Hs.inject(Uh),kt=Hs}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$h;Xe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zo(t))throw Error(I(200));return Th(e,t,null,r)};Xe.createRoot=function(e,t){if(!zo(e))throw Error(I(299));var r=!1,n="",a=km;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Co(e,1,!1,null,null,r,!1,n,a),e[Tt]=t.current,ns(e.nodeType===8?e.parentNode:e),new Eo(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(I(188)):(e=Object.keys(e).join(","),Error(I(268,e)));return e=Qu(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return Dr(e)};Xe.hydrate=function(e,t,r){if(!Wa(t))throw Error(I(200));return Qa(null,e,t,!0,r)};Xe.hydrateRoot=function(e,t,r){if(!zo(e))throw Error(I(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=km;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Nm(t,null,e,1,r??null,a,!1,l,i),e[Tt]=t.current,ns(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Ha(t)};Xe.render=function(e,t,r){if(!Wa(t))throw Error(I(200));return Qa(null,e,t,!1,r)};Xe.unmountComponentAtNode=function(e){if(!Wa(e))throw Error(I(40));return e._reactRootContainer?(Dr(function(){Qa(null,null,e,!1,function(){e._reactRootContainer=null,e[Tt]=null})}),!0):!1};Xe.unstable_batchedUpdates=jo;Xe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Wa(r))throw Error(I(200));if(e==null||e._reactInternals===void 0)throw Error(I(38));return Qa(e,t,r,!1,n)};Xe.version="18.3.1-next-f1338f8080-20240426";function Sm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sm)}catch(e){console.error(e)}}Sm(),Su.exports=Xe;var Ns=Su.exports;const Oh=fu(Ns);var Cm,Kc=Ns;Cm=Kc.createRoot,Kc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ms(){return ms=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ms.apply(this,arguments)}var Yt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Yt||(Yt={}));const Gc="popstate";function Ah(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:i,hash:o}=n.location;return Pi("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Em(a)}return Vh(t,r,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _m(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bh(){return Math.random().toString(36).substr(2,8)}function Yc(e,t){return{usr:e.state,key:e.key,idx:t}}function Pi(e,t,r,n){return r===void 0&&(r=null),ms({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?bn(t):t,{state:r,key:t&&t.key||n||Bh()})}function Em(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function bn(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Vh(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=Yt.Pop,c=null,u=p();u==null&&(u=0,i.replaceState(ms({},i.state,{idx:u}),""));function p(){return(i.state||{idx:null}).idx}function f(){o=Yt.Pop;let C=p(),g=C==null?null:C-u;u=C,c&&c({action:o,location:w.location,delta:g})}function x(C,g){o=Yt.Push;let h=Pi(w.location,C,g);u=p()+1;let m=Yc(h,u),b=w.createHref(h);try{i.pushState(m,"",b)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(b)}l&&c&&c({action:o,location:w.location,delta:1})}function d(C,g){o=Yt.Replace;let h=Pi(w.location,C,g);u=p();let m=Yc(h,u),b=w.createHref(h);i.replaceState(m,"",b),l&&c&&c({action:o,location:w.location,delta:0})}function y(C){let g=a.location.origin!=="null"?a.location.origin:a.location.href,h=typeof C=="string"?C:Em(C);return h=h.replace(/ $/,"%20"),be(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let w={get action(){return o},get location(){return e(a,i)},listen(C){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Gc,f),c=C,()=>{a.removeEventListener(Gc,f),c=null}},createHref(C){return t(a,C)},createURL:y,encodeLocation(C){let g=y(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:x,replace:d,go(C){return i.go(C)}};return w}var Xc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Xc||(Xc={}));function Hh(e,t,r){return r===void 0&&(r="/"),Wh(e,t,r,!1)}function Wh(e,t,r,n){let a=typeof t=="string"?bn(t):t,l=Fm(a.pathname||"/",r);if(l==null)return null;let i=zm(e);Qh(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let u=n0(l);o=t0(i[c],u,n)}return o}function zm(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(be(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Cr([n,c.relativePath]),p=r.concat(c);l.children&&l.children.length>0&&(be(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),zm(l.children,t,p,u)),!(l.path==null&&!l.index)&&t.push({path:u,score:Zh(u,l.index),routesMeta:p})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of Pm(l.path))a(l,i,c)}),t}function Pm(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=Pm(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Qh(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:e0(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const qh=/^:[\w-]+$/,Kh=3,Gh=2,Yh=1,Xh=10,Jh=-2,Jc=e=>e==="*";function Zh(e,t){let r=e.split("/"),n=r.length;return r.some(Jc)&&(n+=Jh),t&&(n+=Gh),r.filter(a=>!Jc(a)).reduce((a,l)=>a+(qh.test(l)?Kh:l===""?Yh:Xh),n)}function e0(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function t0(e,t,r){let{routesMeta:n}=e,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,p=l==="/"?t:t.slice(l.length)||"/",f=Zc({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},p),x=c.route;if(!f&&u&&r&&!n[n.length-1].route.index&&(f=Zc({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!f)return null;Object.assign(a,f.params),i.push({params:a,pathname:Cr([l,f.pathname]),pathnameBase:i0(Cr([l,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(l=Cr([l,f.pathnameBase]))}return i}function Zc(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=r0(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((u,p,f)=>{let{paramName:x,isOptional:d}=p;if(x==="*"){let w=o[f]||"";i=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[f];return d&&!y?u[x]=void 0:u[x]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:l,pathnameBase:i,pattern:e}}function r0(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),_m(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function n0(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _m(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fm(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function s0(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?bn(e):e;return{pathname:r?r.startsWith("/")?r:a0(r,t):t,search:o0(n),hash:c0(a)}}function a0(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Fl(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function l0(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Dm(e,t){let r=l0(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Im(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=bn(e):(a=ms({},e),be(!a.pathname||!a.pathname.includes("?"),Fl("?","pathname","search",a)),be(!a.pathname||!a.pathname.includes("#"),Fl("#","pathname","hash",a)),be(!a.search||!a.search.includes("#"),Fl("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let f=t.length-1;if(!n&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),f-=1;a.pathname=x.join("/")}o=f>=0?t[f]:"/"}let c=s0(a,o),u=i&&i!=="/"&&i.endsWith("/"),p=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||p)&&(c.pathname+="/"),c}const Cr=e=>e.join("/").replace(/\/\/+/g,"/"),i0=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),o0=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,c0=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function u0(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Mm=["post","put","patch","delete"];new Set(Mm);const d0=["get",...Mm];new Set(d0);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fs(){return fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fs.apply(this,arguments)}const Po=v.createContext(null),m0=v.createContext(null),ks=v.createContext(null),qa=v.createContext(null),Tr=v.createContext({outlet:null,matches:[],isDataRoute:!1}),Tm=v.createContext(null);function Ss(){return v.useContext(qa)!=null}function Ka(){return Ss()||be(!1),v.useContext(qa).location}function Lm(e){v.useContext(ks).static||v.useLayoutEffect(e)}function Ga(){let{isDataRoute:e}=v.useContext(Tr);return e?S0():f0()}function f0(){Ss()||be(!1);let e=v.useContext(Po),{basename:t,future:r,navigator:n}=v.useContext(ks),{matches:a}=v.useContext(Tr),{pathname:l}=Ka(),i=JSON.stringify(Dm(a,r.v7_relativeSplatPath)),o=v.useRef(!1);return Lm(()=>{o.current=!0}),v.useCallback(function(u,p){if(p===void 0&&(p={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=Im(u,JSON.parse(i),l,p.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Cr([t,f.pathname])),(p.replace?n.replace:n.push)(f,p.state,p)},[t,n,i,l,e])}function p0(e,t){return h0(e,t)}function h0(e,t,r,n){Ss()||be(!1);let{navigator:a,static:l}=v.useContext(ks),{matches:i}=v.useContext(Tr),o=i[i.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let p=Ka(),f;if(t){var x;let g=typeof t=="string"?bn(t):t;u==="/"||(x=g.pathname)!=null&&x.startsWith(u)||be(!1),f=g}else f=p;let d=f.pathname||"/",y=d;if(u!=="/"){let g=u.replace(/^\//,"").split("/");y="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let w=!l&&r&&r.matches&&r.matches.length>0?r.matches:Hh(e,{pathname:y}),C=w0(w&&w.map(g=>Object.assign({},g,{params:Object.assign({},c,g.params),pathname:Cr([u,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?u:Cr([u,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),i,r,n);return t&&C?v.createElement(qa.Provider,{value:{location:fs({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Yt.Pop}},C):C}function g0(){let e=k0(),t=u0(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),r?v.createElement("pre",{style:a},r):null,null)}const x0=v.createElement(g0,null);class y0 extends v.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?v.createElement(Tr.Provider,{value:this.props.routeContext},v.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function v0(e){let{routeContext:t,match:r,children:n}=e,a=v.useContext(Po);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),v.createElement(Tr.Provider,{value:t},n)}function w0(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let p=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);p>=0||be(!1),i=i.slice(0,Math.min(i.length,p+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<i.length;p++){let f=i[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=p),f.route.id){let{loaderData:x,errors:d}=r,y=f.route.loader&&x[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((p,f,x)=>{let d,y=!1,w=null,C=null;r&&(d=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||x0,c&&(u<0&&x===0?(y=!0,C=null):u===x&&(y=!0,C=f.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,x+1)),h=()=>{let m;return d?m=w:y?m=C:f.route.Component?m=v.createElement(f.route.Component,null):f.route.element?m=f.route.element:m=p,v.createElement(v0,{match:f,routeContext:{outlet:p,matches:g,isDataRoute:r!=null},children:m})};return r&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?v.createElement(y0,{location:r.location,revalidation:r.revalidation,component:w,error:d,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var Rm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rm||{}),Pa=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pa||{});function b0(e){let t=v.useContext(Po);return t||be(!1),t}function j0(e){let t=v.useContext(m0);return t||be(!1),t}function N0(e){let t=v.useContext(Tr);return t||be(!1),t}function $m(e){let t=N0(),r=t.matches[t.matches.length-1];return r.route.id||be(!1),r.route.id}function k0(){var e;let t=v.useContext(Tm),r=j0(Pa.UseRouteError),n=$m(Pa.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function S0(){let{router:e}=b0(Rm.UseNavigateStable),t=$m(Pa.UseNavigateStable),r=v.useRef(!1);return Lm(()=>{r.current=!0}),v.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,fs({fromRouteId:t},l)))},[e,t])}function C0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Fo(e){let{to:t,replace:r,state:n,relative:a}=e;Ss()||be(!1);let{future:l,static:i}=v.useContext(ks),{matches:o}=v.useContext(Tr),{pathname:c}=Ka(),u=Ga(),p=Im(t,Dm(o,l.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(p);return v.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Ln(e){be(!1)}function _0(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Yt.Pop,navigator:l,static:i=!1,future:o}=e;Ss()&&be(!1);let c=t.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:c,navigator:l,static:i,future:fs({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=bn(n));let{pathname:p="/",search:f="",hash:x="",state:d=null,key:y="default"}=n,w=v.useMemo(()=>{let C=Fm(p,c);return C==null?null:{location:{pathname:C,search:f,hash:x,state:d,key:y},navigationType:a}},[c,p,f,x,d,y,a]);return w==null?null:v.createElement(ks.Provider,{value:u},v.createElement(qa.Provider,{children:r,value:w}))}function E0(e){let{children:t,location:r}=e;return p0(Fi(t),r)}new Promise(()=>{});function Fi(e,t){t===void 0&&(t=[]);let r=[];return v.Children.forEach(e,(n,a)=>{if(!v.isValidElement(n))return;let l=[...t,a];if(n.type===v.Fragment){r.push.apply(r,Fi(n.props.children,l));return}n.type!==Ln&&be(!1),!n.props.index||!n.props.children||be(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Fi(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const z0="6";try{window.__reactRouterVersion=z0}catch{}const P0="startTransition",eu=zf[P0];function F0(e){let{basename:t,children:r,future:n,window:a}=e,l=v.useRef();l.current==null&&(l.current=Ah({window:a,v5Compat:!0}));let i=l.current,[o,c]=v.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},p=v.useCallback(f=>{u&&eu?eu(()=>c(f)):c(f)},[c,u]);return v.useLayoutEffect(()=>i.listen(p),[i,p]),v.useEffect(()=>C0(n),[n]),v.createElement(_0,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}var tu;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tu||(tu={}));var ru;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ru||(ru={}));var D0=e=>{switch(e){case"success":return T0;case"info":return R0;case"warning":return L0;case"error":return $0;default:return null}},I0=Array(12).fill(0),M0=({visible:e,className:t})=>L.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},L.createElement("div",{className:"sonner-spinner"},I0.map((r,n)=>L.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),T0=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),L0=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),R0=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$0=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},L.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),U0=L.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},L.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),L.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),O0=()=>{let[e,t]=L.useState(document.hidden);return L.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Di=1,A0=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,a=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Di++,l=this.toasts.find(o=>o.id===a),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(o=>o.id===a?(this.publish({...o,...e,id:a,title:r}),{...o,...e,id:a,dismissible:i,title:r}):o):this.addToast({title:r,...n,dismissible:i,id:a}),a},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),a=r!==void 0,l,i=n.then(async c=>{if(l=["resolve",c],L.isValidElement(c))a=!1,this.create({id:r,type:"default",message:c});else if(V0(c)&&!c.ok){a=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,p=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:p})}else if(t.success!==void 0){a=!1;let u=typeof t.success=="function"?await t.success(c):t.success,p=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:p})}}).catch(async c=>{if(l=["reject",c],t.error!==void 0){a=!1;let u=typeof t.error=="function"?await t.error(c):t.error,p=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:p})}}).finally(()=>{var c;a&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),o=()=>new Promise((c,u)=>i.then(()=>l[0]==="reject"?u(l[1]):c(l[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{let r=(t==null?void 0:t.id)||Di++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Oe=new A0,B0=(e,t)=>{let r=(t==null?void 0:t.id)||Di++;return Oe.addToast({title:e,...t,id:r}),r},V0=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",H0=B0,W0=()=>Oe.toasts,Q0=()=>Oe.getActiveToasts(),D=Object.assign(H0,{success:Oe.success,info:Oe.info,warning:Oe.warning,error:Oe.error,custom:Oe.custom,message:Oe.message,promise:Oe.promise,dismiss:Oe.dismiss,loading:Oe.loading},{getHistory:W0,getToasts:Q0});function q0(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}q0(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ws(e){return e.label!==void 0}var K0=3,G0="32px",Y0="16px",nu=4e3,X0=356,J0=14,Z0=20,eg=200;function mt(...e){return e.filter(Boolean).join(" ")}function tg(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var rg=e=>{var t,r,n,a,l,i,o,c,u,p,f;let{invert:x,toast:d,unstyled:y,interacting:w,setHeights:C,visibleToasts:g,heights:h,index:m,toasts:b,expanded:j,removeToast:k,defaultRichColors:P,closeButton:M,style:F,cancelButtonStyle:N,actionButtonStyle:H,className:z="",descriptionClassName:J="",duration:se,position:ee,gap:$,loadingIcon:U,expandByDefault:_,classNames:E,icons:A,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:B}=e,[Y,te]=L.useState(null),[T,K]=L.useState(null),[Q,je]=L.useState(!1),[it,fr]=L.useState(!1),[pr,jn]=L.useState(!1),[Cs,rl]=L.useState(!1),[S,Z]=L.useState(!1),[fe,q]=L.useState(0),[rf,Mo]=L.useState(0),Nn=L.useRef(d.duration||se||nu),To=L.useRef(null),hr=L.useRef(null),nf=m===0,sf=m+1<=g,Ze=d.type,Lr=d.dismissible!==!1,af=d.className||"",lf=d.descriptionClassName||"",_s=L.useMemo(()=>h.findIndex(X=>X.toastId===d.id)||0,[h,d.id]),of=L.useMemo(()=>{var X;return(X=d.closeButton)!=null?X:M},[d.closeButton,M]),Lo=L.useMemo(()=>d.duration||se||nu,[d.duration,se]),nl=L.useRef(0),Rr=L.useRef(0),Ro=L.useRef(0),$r=L.useRef(null),[cf,uf]=ee.split("-"),$o=L.useMemo(()=>h.reduce((X,le,ue)=>ue>=_s?X:X+le.height,0),[h,_s]),Uo=O0(),df=d.invert||x,sl=Ze==="loading";Rr.current=L.useMemo(()=>_s*$+$o,[_s,$o]),L.useEffect(()=>{Nn.current=Lo},[Lo]),L.useEffect(()=>{je(!0)},[]),L.useEffect(()=>{let X=hr.current;if(X){let le=X.getBoundingClientRect().height;return Mo(le),C(ue=>[{toastId:d.id,height:le,position:d.position},...ue]),()=>C(ue=>ue.filter(ot=>ot.toastId!==d.id))}},[C,d.id]),L.useLayoutEffect(()=>{if(!Q)return;let X=hr.current,le=X.style.height;X.style.height="auto";let ue=X.getBoundingClientRect().height;X.style.height=le,Mo(ue),C(ot=>ot.find(ct=>ct.toastId===d.id)?ot.map(ct=>ct.toastId===d.id?{...ct,height:ue}:ct):[{toastId:d.id,height:ue,position:d.position},...ot])},[Q,d.title,d.description,C,d.id]);let Ot=L.useCallback(()=>{fr(!0),q(Rr.current),C(X=>X.filter(le=>le.toastId!==d.id)),setTimeout(()=>{k(d)},eg)},[d,k,C,Rr]);L.useEffect(()=>{if(d.promise&&Ze==="loading"||d.duration===1/0||d.type==="loading")return;let X;return j||w||B&&Uo?(()=>{if(Ro.current<nl.current){let le=new Date().getTime()-nl.current;Nn.current=Nn.current-le}Ro.current=new Date().getTime()})():Nn.current!==1/0&&(nl.current=new Date().getTime(),X=setTimeout(()=>{var le;(le=d.onAutoClose)==null||le.call(d,d),Ot()},Nn.current)),()=>clearTimeout(X)},[j,w,d,Ze,B,Uo,Ot]),L.useEffect(()=>{d.delete&&Ot()},[Ot,d.delete]);function mf(){var X,le,ue;return A!=null&&A.loading?L.createElement("div",{className:mt(E==null?void 0:E.loader,(X=d==null?void 0:d.classNames)==null?void 0:X.loader,"sonner-loader"),"data-visible":Ze==="loading"},A.loading):U?L.createElement("div",{className:mt(E==null?void 0:E.loader,(le=d==null?void 0:d.classNames)==null?void 0:le.loader,"sonner-loader"),"data-visible":Ze==="loading"},U):L.createElement(M0,{className:mt(E==null?void 0:E.loader,(ue=d==null?void 0:d.classNames)==null?void 0:ue.loader),visible:Ze==="loading"})}return L.createElement("li",{tabIndex:0,ref:hr,className:mt(z,af,E==null?void 0:E.toast,(t=d==null?void 0:d.classNames)==null?void 0:t.toast,E==null?void 0:E.default,E==null?void 0:E[Ze],(r=d==null?void 0:d.classNames)==null?void 0:r[Ze]),"data-sonner-toast":"","data-rich-colors":(n=d.richColors)!=null?n:P,"data-styled":!(d.jsx||d.unstyled||y),"data-mounted":Q,"data-promise":!!d.promise,"data-swiped":S,"data-removed":it,"data-visible":sf,"data-y-position":cf,"data-x-position":uf,"data-index":m,"data-front":nf,"data-swiping":pr,"data-dismissible":Lr,"data-type":Ze,"data-invert":df,"data-swipe-out":Cs,"data-swipe-direction":T,"data-expanded":!!(j||_&&Q),style:{"--index":m,"--toasts-before":m,"--z-index":b.length-m,"--offset":`${it?fe:Rr.current}px`,"--initial-height":_?"auto":`${rf}px`,...F,...d.style},onDragEnd:()=>{jn(!1),te(null),$r.current=null},onPointerDown:X=>{sl||!Lr||(To.current=new Date,q(Rr.current),X.target.setPointerCapture(X.pointerId),X.target.tagName!=="BUTTON"&&(jn(!0),$r.current={x:X.clientX,y:X.clientY}))},onPointerUp:()=>{var X,le,ue,ot;if(Cs||!Lr)return;$r.current=null;let ct=Number(((X=hr.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),At=Number(((le=hr.current)==null?void 0:le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),gr=new Date().getTime()-((ue=To.current)==null?void 0:ue.getTime()),ut=Y==="x"?ct:At,Bt=Math.abs(ut)/gr;if(Math.abs(ut)>=Z0||Bt>.11){q(Rr.current),(ot=d.onDismiss)==null||ot.call(d,d),K(Y==="x"?ct>0?"right":"left":At>0?"down":"up"),Ot(),rl(!0),Z(!1);return}jn(!1),te(null)},onPointerMove:X=>{var le,ue,ot,ct;if(!$r.current||!Lr||((le=window.getSelection())==null?void 0:le.toString().length)>0)return;let At=X.clientY-$r.current.y,gr=X.clientX-$r.current.x,ut=(ue=e.swipeDirections)!=null?ue:tg(ee);!Y&&(Math.abs(gr)>1||Math.abs(At)>1)&&te(Math.abs(gr)>Math.abs(At)?"x":"y");let Bt={x:0,y:0};Y==="y"?(ut.includes("top")||ut.includes("bottom"))&&(ut.includes("top")&&At<0||ut.includes("bottom")&&At>0)&&(Bt.y=At):Y==="x"&&(ut.includes("left")||ut.includes("right"))&&(ut.includes("left")&&gr<0||ut.includes("right")&&gr>0)&&(Bt.x=gr),(Math.abs(Bt.x)>0||Math.abs(Bt.y)>0)&&Z(!0),(ot=hr.current)==null||ot.style.setProperty("--swipe-amount-x",`${Bt.x}px`),(ct=hr.current)==null||ct.style.setProperty("--swipe-amount-y",`${Bt.y}px`)}},of&&!d.jsx?L.createElement("button",{"aria-label":G,"data-disabled":sl,"data-close-button":!0,onClick:sl||!Lr?()=>{}:()=>{var X;Ot(),(X=d.onDismiss)==null||X.call(d,d)},className:mt(E==null?void 0:E.closeButton,(a=d==null?void 0:d.classNames)==null?void 0:a.closeButton)},(l=A==null?void 0:A.close)!=null?l:U0):null,d.jsx||v.isValidElement(d.title)?d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title:L.createElement(L.Fragment,null,Ze||d.icon||d.promise?L.createElement("div",{"data-icon":"",className:mt(E==null?void 0:E.icon,(i=d==null?void 0:d.classNames)==null?void 0:i.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||mf():null,d.type!=="loading"?d.icon||(A==null?void 0:A[Ze])||D0(Ze):null):null,L.createElement("div",{"data-content":"",className:mt(E==null?void 0:E.content,(o=d==null?void 0:d.classNames)==null?void 0:o.content)},L.createElement("div",{"data-title":"",className:mt(E==null?void 0:E.title,(c=d==null?void 0:d.classNames)==null?void 0:c.title)},typeof d.title=="function"?d.title():d.title),d.description?L.createElement("div",{"data-description":"",className:mt(J,lf,E==null?void 0:E.description,(u=d==null?void 0:d.classNames)==null?void 0:u.description)},typeof d.description=="function"?d.description():d.description):null),v.isValidElement(d.cancel)?d.cancel:d.cancel&&Ws(d.cancel)?L.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||N,onClick:X=>{var le,ue;Ws(d.cancel)&&Lr&&((ue=(le=d.cancel).onClick)==null||ue.call(le,X),Ot())},className:mt(E==null?void 0:E.cancelButton,(p=d==null?void 0:d.classNames)==null?void 0:p.cancelButton)},d.cancel.label):null,v.isValidElement(d.action)?d.action:d.action&&Ws(d.action)?L.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||H,onClick:X=>{var le,ue;Ws(d.action)&&((ue=(le=d.action).onClick)==null||ue.call(le,X),!X.defaultPrevented&&Ot())},className:mt(E==null?void 0:E.actionButton,(f=d==null?void 0:d.classNames)==null?void 0:f.actionButton)},d.action.label):null))};function su(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function ng(e,t){let r={};return[e,t].forEach((n,a)=>{let l=a===1,i=l?"--mobile-offset":"--offset",o=l?Y0:G0;function c(u){["top","right","bottom","left"].forEach(p=>{r[`${i}-${p}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${i}-${u}`]=o:r[`${i}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(o)}),r}var sg=v.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:i,className:o,offset:c,mobileOffset:u,theme:p="light",richColors:f,duration:x,style:d,visibleToasts:y=K0,toastOptions:w,dir:C=su(),gap:g=J0,loadingIcon:h,icons:m,containerAriaLabel:b="Notifications",pauseWhenPageIsHidden:j}=e,[k,P]=L.useState([]),M=L.useMemo(()=>Array.from(new Set([n].concat(k.filter(B=>B.position).map(B=>B.position)))),[k,n]),[F,N]=L.useState([]),[H,z]=L.useState(!1),[J,se]=L.useState(!1),[ee,$]=L.useState(p!=="system"?p:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),U=L.useRef(null),_=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=L.useRef(null),A=L.useRef(!1),G=L.useCallback(B=>{P(Y=>{var te;return(te=Y.find(T=>T.id===B.id))!=null&&te.delete||Oe.dismiss(B.id),Y.filter(({id:T})=>T!==B.id)})},[]);return L.useEffect(()=>Oe.subscribe(B=>{if(B.dismiss){P(Y=>Y.map(te=>te.id===B.id?{...te,delete:!0}:te));return}setTimeout(()=>{Oh.flushSync(()=>{P(Y=>{let te=Y.findIndex(T=>T.id===B.id);return te!==-1?[...Y.slice(0,te),{...Y[te],...B},...Y.slice(te+1)]:[B,...Y]})})})}),[]),L.useEffect(()=>{if(p!=="system"){$(p);return}if(p==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:Y})=>{$(Y?"dark":"light")})}catch{B.addListener(({matches:te})=>{try{$(te?"dark":"light")}catch(T){console.error(T)}})}},[p]),L.useEffect(()=>{k.length<=1&&z(!1)},[k]),L.useEffect(()=>{let B=Y=>{var te,T;a.every(K=>Y[K]||Y.code===K)&&(z(!0),(te=U.current)==null||te.focus()),Y.code==="Escape"&&(document.activeElement===U.current||(T=U.current)!=null&&T.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[a]),L.useEffect(()=>{if(U.current)return()=>{E.current&&(E.current.focus({preventScroll:!0}),E.current=null,A.current=!1)}},[U.current]),L.createElement("section",{ref:t,"aria-label":`${b} ${_}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((B,Y)=>{var te;let[T,K]=B.split("-");return k.length?L.createElement("ol",{key:B,dir:C==="auto"?su():C,tabIndex:-1,ref:U,className:o,"data-sonner-toaster":!0,"data-theme":ee,"data-y-position":T,"data-lifted":H&&k.length>1&&!l,"data-x-position":K,style:{"--front-toast-height":`${((te=F[0])==null?void 0:te.height)||0}px`,"--width":`${X0}px`,"--gap":`${g}px`,...d,...ng(c,u)},onBlur:Q=>{A.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(A.current=!1,E.current&&(E.current.focus({preventScroll:!0}),E.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||A.current||(A.current=!0,E.current=Q.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{J||z(!1)},onDragEnd:()=>z(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||se(!0)},onPointerUp:()=>se(!1)},k.filter(Q=>!Q.position&&Y===0||Q.position===B).map((Q,je)=>{var it,fr;return L.createElement(rg,{key:Q.id,icons:m,index:je,toast:Q,defaultRichColors:f,duration:(it=w==null?void 0:w.duration)!=null?it:x,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:r,visibleToasts:y,closeButton:(fr=w==null?void 0:w.closeButton)!=null?fr:i,interacting:J,position:B,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:G,toasts:k.filter(pr=>pr.position==Q.position),heights:F.filter(pr=>pr.position==Q.position),setHeights:N,expandByDefault:l,gap:g,loadingIcon:h,expanded:H,pauseWhenPageIsHidden:j,swipeDirections:e.swipeDirections})})):null}))});const Do=()=>({backend:"xserver",baseUrl:void 0,apiKey:void 0,credentials:{supabaseUrl:void 0,supabaseKey:void 0,xserverEndpoint:"http://kohinata3.xsrv.jp",apiToken:void 0}});class ag{constructor(t){this.authToken=null,this.config=t}setAuthToken(t){this.authToken=t}getHeaders(){var r,n;const t={"Content-Type":"application/json"};switch(this.authToken&&(t.Authorization=`Bearer ${this.authToken}`),this.config.backend){case"supabase":(r=this.config.credentials)!=null&&r.supabaseKey&&(t.apikey=this.config.credentials.supabaseKey,this.authToken||(t.Authorization=`Bearer ${this.config.credentials.supabaseKey}`));break;case"xserver":(n=this.config.credentials)!=null&&n.apiToken&&(t["X-API-Token"]=this.config.credentials.apiToken);break}return t}getBaseUrl(){var t,r;switch(this.config.backend){case"supabase":return((t=this.config.credentials)==null?void 0:t.supabaseUrl)||"";case"xserver":return((r=this.config.credentials)==null?void 0:r.xserverEndpoint)||"";default:return this.config.baseUrl||""}}getConfig(){return this.config}async get(t){try{const r=await fetch(`${this.getBaseUrl()}${t}`,{method:"GET",headers:this.getHeaders()}),n=await r.json();return r.ok?{success:!0,data:this.transformResponse(n)}:{success:!1,error:n.error||n.message||"Request failed"}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Network error"}}}async post(t,r){try{const n=await fetch(`${this.getBaseUrl()}${t}`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify(this.transformRequest(r))}),a=await n.json();return n.ok?{success:!0,data:this.transformResponse(a),message:a.message}:{success:!1,error:a.error||a.message||"Request failed"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Network error"}}}async postFormData(t,r){var n;try{const a={};this.authToken&&(a.Authorization=`Bearer ${this.authToken}`),this.config.backend==="xserver"&&((n=this.config.credentials)!=null&&n.apiToken)&&(a["X-API-Token"]=this.config.credentials.apiToken);const l=await fetch(`${this.getBaseUrl()}${t}`,{method:"POST",headers:a,body:r}),i=await l.json();return l.ok?{success:!0,data:this.transformResponse(i),message:i.message}:{success:!1,error:i.error||i.message||"Request failed"}}catch(a){return{success:!1,error:a instanceof Error?a.message:"Network error"}}}async put(t,r){try{const n=await fetch(`${this.getBaseUrl()}${t}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(this.transformRequest(r))}),a=await n.json();return n.ok?{success:!0,data:this.transformResponse(a),message:a.message}:{success:!1,error:a.error||a.message||"Request failed"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Network error"}}}async delete(t,r){try{const n={method:"DELETE",headers:this.getHeaders()};r&&(n.body=JSON.stringify(this.transformRequest(r)));const a=await fetch(`${this.getBaseUrl()}${t}`,n),l=await a.json();return a.ok?{success:!0,data:this.transformResponse(l),message:l.message}:{success:!1,error:l.error||l.message||"Request failed"}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Network error"}}}async downloadFile(t){try{const r=await fetch(`${this.getBaseUrl()}${t}`,{method:"GET",headers:this.getHeaders()});if(!r.ok)return{success:!1,error:(await r.json().catch(()=>({error:"Download failed"}))).error||"Download failed"};const n=r.headers.get("Content-Disposition");let a="download";if(n){const i=n.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);i&&(a=decodeURIComponent(i[1].replace(/['"]/g,"")))}return{success:!0,blob:await r.blob(),filename:a}}catch(r){return{success:!1,error:r instanceof Error?r.message:"Download error"}}}transformResponse(t){switch(this.config.backend){case"supabase":return Array.isArray(t),t;case"xserver":return t.status==="success"&&t.data!==void 0?t.data:t;default:return t}}transformRequest(t){switch(this.config.backend){case"supabase":return t;case"xserver":return t;default:return t}}}const R=new ag(Do()),et=e=>{R.setAuthToken(e)},an=async e=>{const r=new TextEncoder().encode(e+"file-manager-salt"),n=await crypto.subtle.digest("SHA-256",r);return Array.from(new Uint8Array(n)).map(l=>l.toString(16).padStart(2,"0")).join("")},Dl=async(e,t)=>await an(e)===t,lg=e=>{const t=btoa(JSON.stringify({alg:"HS256",typ:"JWT"})),r={id:e.id,email:e.email,role:e.role,name:e.name,exp:Date.now()+24*60*60*1e3},n=JSON.stringify(r),a=btoa(encodeURIComponent(n).replace(/%([0-9A-F]{2})/g,function(o,c){return String.fromCharCode(parseInt(c,16))})),l=btoa(`${t}.${a}.secret`);return`${t}.${a}.${l}`},Um=e=>{try{const t=e.split(".");if(t.length!==3)return null;const r=t[1],n=decodeURIComponent(atob(r).split("").map(function(l){return"%"+("00"+l.charCodeAt(0).toString(16)).slice(-2)}).join("")),a=JSON.parse(n);return a.exp<Date.now()?null:{id:a.id,email:a.email,name:a.name||"",role:a.role}}catch{return null}},Qe={setToken:e=>{localStorage.setItem("auth_token",e)},getToken:()=>localStorage.getItem("auth_token"),removeToken:()=>{localStorage.removeItem("auth_token")},setUser:e=>{localStorage.setItem("current_user",JSON.stringify(e))},getUser:()=>{const e=localStorage.getItem("current_user");return e?JSON.parse(e):null},removeUser:()=>{localStorage.removeItem("current_user")}},vr={getAttempts:e=>{const t=localStorage.getItem(`login_attempts_${e}`);return t?parseInt(t):0},incrementAttempts:e=>{const r=vr.getAttempts(e)+1;return localStorage.setItem(`login_attempts_${e}`,r.toString()),localStorage.setItem(`login_attempts_time_${e}`,Date.now().toString()),r},resetAttempts:e=>{localStorage.removeItem(`login_attempts_${e}`),localStorage.removeItem(`login_attempts_time_${e}`)},isLocked:e=>{const t=vr.getAttempts(e),r=localStorage.getItem(`login_attempts_time_${e}`);return t>=5&&r?Date.now()-parseInt(r)<18e5:!1},getRemainingLockTime:e=>{const t=localStorage.getItem(`login_attempts_time_${e}`);if(!t)return 0;const r=30*60*1e3,n=Date.now()-parseInt(t);return Math.max(0,r-n)}},hn=e=>{const t=[];return e.length<8&&t.push("8"),/[A-Z]/.test(e)||t.push(""),/[a-z]/.test(e)||t.push(""),/\d/.test(e)||t.push(""),/[!@#$%^&*(),.?":{}|<>]/.test(e)||t.push(""),{isValid:t.length===0,errors:t}},Ya=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e);let Il=null;const ig=async()=>{const e=new Map,t=await an("Admin123!");e.set("admin@example.com",{user:{id:"1",email:"admin@example.com",name:"",role:"super_admin"},passwordHash:t,createdAt:new Date().toISOString(),isActive:!0});const r=await an("Test123!");return e.set("test@example.com",{user:{id:"2",email:"test@example.com",name:"",role:"user"},passwordHash:r,createdAt:new Date().toISOString(),isActive:!0}),e};class og{constructor(){this.config=Do()}async ensureMockDatabase(){return Il||(Il=await ig()),Il}async signIn(t){switch(this.config.backend){case"supabase":return this.supabaseSignIn(t);case"xserver":return this.xserverSignIn(t);default:return this.mockSignIn(t)}}async signUp(t){switch(this.config.backend){case"supabase":return this.supabaseSignUp(t);case"xserver":return this.xserverSignUp(t);default:return this.mockSignUp(t)}}async signOut(){switch(this.config.backend){case"supabase":return this.supabaseSignOut();case"xserver":return this.xserverSignOut();default:return this.mockSignOut()}}async resetPassword(t){switch(this.config.backend){case"supabase":return this.supabaseResetPassword(t);case"xserver":return this.xserverResetPassword(t);default:return this.mockResetPassword(t)}}async changePassword(t,r){switch(this.config.backend){case"supabase":return this.supabaseChangePassword(t,r);case"xserver":return this.xserverChangePassword(t,r);default:return this.mockChangePassword(t,r)}}async verifySession(t){switch(this.config.backend){case"supabase":return this.supabaseVerifySession(t);case"xserver":return this.xserverVerifySession(t);default:return this.mockVerifySession(t)}}async supabaseSignIn(t){var i,o;const r=await R.post("/auth/v1/token?grant_type=password",{email:t.emailOrName,password:t.password});if(!r.success)return r;const{access_token:n,refresh_token:a,user:l}=r.data;return et(n),{success:!0,data:{user:{id:l.id,email:l.email,name:((i=l.user_metadata)==null?void 0:i.name)||l.email,role:((o=l.user_metadata)==null?void 0:o.role)||"user"},token:n,refreshToken:a}}}async supabaseSignUp(t){return R.post("/auth/v1/signup",{email:t.email,password:t.password,data:{name:t.name,role:"user"}})}async supabaseSignOut(){return et(null),R.post("/auth/v1/logout",{})}async supabaseResetPassword(t){return R.post("/auth/v1/recover",{email:t})}async supabaseChangePassword(t,r){return R.put("/auth/v1/user",{password:r})}async supabaseVerifySession(t){return et(t),R.get("/auth/v1/user")}async xserverSignIn(t){const r=await R.post("/api/auth/login.php",{email_or_name:t.emailOrName,password:t.password});return r.success&&r.data&&et(r.data.token),r}async xserverSignUp(t){var n;const r=await R.post("/api/auth/register.php",{email:t.email,password:t.password,name:t.name});return r.success&&((n=r.data)!=null&&n.token)&&et(r.data.token),r}async xserverSignOut(){const t=await R.post("/api/auth/logout.php",{});return et(null),t}async xserverResetPassword(t){return R.post("/api/auth/reset-password.php",{email:t})}async xserverChangePassword(t,r){return R.post("/api/auth/change-password.php",{current_password:t,new_password:r})}async xserverVerifySession(t){return et(t),R.get("/api/auth/verify.php")}async mockSignIn(t){console.log("MockSignIn attempt:",t.emailOrName);const r=await this.ensureMockDatabase();if(vr.isLocked(t.emailOrName))return{success:!1,error:`${Math.ceil(vr.getRemainingLockTime(t.emailOrName)/6e4)}`};let n=r.get(t.emailOrName);if(!n){const i=Array.from(r.entries()).find(([o,c])=>c.user.name===t.emailOrName&&c.isActive);i&&(n=i[1])}if(!n||!n.isActive)return vr.incrementAttempts(t.emailOrName),{success:!1,error:""};if(!await Dl(t.password,n.passwordHash)){const i=vr.incrementAttempts(t.emailOrName),o=Math.max(0,5-i);return o===0?{success:!1,error:"30"}:{success:!1,error:`: ${o}`}}vr.resetAttempts(t.emailOrName),n.lastLoginAt=new Date().toISOString();const l=lg(n.user);return{success:!0,data:{user:n.user,token:l}}}async mockSignUp(t){const r=await this.ensureMockDatabase();if(!Ya(t.email))return{success:!1,error:""};const n=hn(t.password);if(!n.isValid)return{success:!1,error:`:
${n.errors.join(`
`)}`};if(t.name.trim().length<2)return{success:!1,error:"2"};if(r.has(t.email))return{success:!1,error:""};if(Array.from(r.values()).some(c=>c.user.name===t.name.trim()))return{success:!1,error:""};const l=await an(t.password),i={id:`user_${Date.now()}`,email:t.email.toLowerCase().trim(),name:t.name.trim(),role:"user"},o={user:i,passwordHash:l,createdAt:new Date().toISOString(),isActive:!0};return r.set(t.email.toLowerCase().trim(),o),{success:!0,data:{user:i}}}async mockSignOut(){return{success:!0}}async mockResetPassword(t){const n=(await this.ensureMockDatabase()).get(t.toLowerCase().trim());if(!n||!n.isActive)return{success:!1,error:""};const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*";let l="";l+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(Math.random()*26)],l+="abcdefghijklmnopqrstuvwxyz"[Math.floor(Math.random()*26)],l+="0123456789"[Math.floor(Math.random()*10)],l+="!@#$%^&*"[Math.floor(Math.random()*8)];for(let o=0;o<4;o++)l+=a[Math.floor(Math.random()*a.length)];l=l.split("").sort(()=>Math.random()-.5).join("");const i=await an(l);return n.passwordHash=i,{success:!0,data:{tempPassword:l}}}async mockChangePassword(t,r){const n=Qe.getUser();if(!n)return{success:!1,error:""};const l=(await this.ensureMockDatabase()).get(n.email);if(!l)return{success:!1,error:""};if(!await Dl(t,l.passwordHash))return{success:!1,error:""};const o=hn(r);if(!o.isValid)return{success:!1,error:`:
${o.errors.join(`
`)}`};if(await Dl(r,l.passwordHash))return{success:!1,error:""};const u=await an(r);return l.passwordHash=u,{success:!0}}async mockVerifySession(t){const r=Um(t);return r?{success:!0,data:r}:{success:!1,error:"Invalid token"}}}const Or=new og,O={users:new Map,folders:new Map,files:new Map,branches:new Map,departments:new Map,detailedPermissions:new Map,notices:new Map},cg=()=>{try{const e=localStorage.getItem("mock_branches"),t=localStorage.getItem("mock_departments");e&&JSON.parse(e).forEach(l=>O.branches.set(l.id,l)),t&&JSON.parse(t).forEach(l=>O.departments.set(l.id,l));const r=localStorage.getItem("mock_permissions");if(r){const a=JSON.parse(r);Array.isArray(a)&&a.forEach(([l,i])=>O.detailedPermissions.set(l,i))}const n=localStorage.getItem("mock_notices");if(n){const a=JSON.parse(n);Array.isArray(a)&&a.forEach(([l,i])=>O.notices.set(l,i))}else[{id:"1",title:"",content:"1220 22:0024:00",date:"2025/12/10",category:"maintenance",importance:"high"},{id:"2",title:"",content:"PDF",date:"2025/12/12",category:"update",importance:"normal"},{id:"3",title:"",content:"122913",date:"2025/12/01",category:"info",importance:"normal"}].forEach(l=>O.notices.set(l.id,l))}catch(e){console.error("Failed to restore mock storage",e)}},Ml=()=>{const e=Array.from(O.branches.values());localStorage.setItem("mock_branches",JSON.stringify(e))},Tl=()=>{const e=Array.from(O.departments.values());localStorage.setItem("mock_departments",JSON.stringify(e))},Ll=()=>{const e=Array.from(O.detailedPermissions.entries());localStorage.setItem("mock_permissions",JSON.stringify(e))},au=()=>{const e=Array.from(O.users.values());localStorage.setItem("mock_users",JSON.stringify(e))},lu=()=>{const e=Array.from(O.notices.entries());localStorage.setItem("mock_notices",JSON.stringify(e))},ug=()=>{try{const e=localStorage.getItem("mock_users");e&&JSON.parse(e).forEach(r=>O.users.set(r.id,r))}catch(e){console.error("Failed to restore mock users",e)}};cg();ug();class dg{constructor(){this.config=Do()}async getUsers(){switch(this.config.backend){case"supabase":return this.supabaseGetUsers();case"xserver":return this.xserverGetUsers();default:return this.mockGetUsers()}}async deleteUser(t){switch(this.config.backend){case"supabase":return this.supabaseDeleteUser(t);case"xserver":return this.xserverDeleteUser(t);default:return this.mockDeleteUser(t)}}async createUser(t){switch(this.config.backend){case"xserver":return R.post("/api/users/create.php",t);default:const r=t.branch_id?O.branches.get(t.branch_id):null,n=t.department_id?O.departments.get(t.department_id):null,a={id:t.email,name:t.name,email:t.email,role:t.role||"user",branchId:t.branch_id,branchName:r==null?void 0:r.name,departmentId:t.department_id,departmentName:n==null?void 0:n.name,position:t.position,employeeCode:t.employee_code,isActive:!0};return O.users.set(a.id,a),au(),{success:!0,data:a}}}async updateUser(t,r){switch(this.config.backend){case"xserver":return R.post("/api/users/update.php",{user_id:t,...r});default:const n=O.users.get(t);if(!n)return{success:!1,error:""};const a=r.branch_id?O.branches.get(r.branch_id):void 0,l=r.department_id?O.departments.get(r.department_id):void 0,i={...n,name:r.name||n.name,role:r.role||n.role,isActive:r.is_active!==void 0?r.is_active:n.isActive};return r.branch_id!==void 0&&(i.branchId=r.branch_id,i.branchName=a==null?void 0:a.name),r.department_id!==void 0&&(i.departmentId=r.department_id,i.departmentName=l==null?void 0:l.name),O.users.set(t,i),au(),{success:!0,data:i}}}async getFolders(){switch(this.config.backend){case"supabase":return this.supabaseGetFolders();case"xserver":return this.xserverGetFolders();default:return this.mockGetFolders()}}async createFolder(t){switch(this.config.backend){case"supabase":return this.supabaseCreateFolder(t);case"xserver":return this.xserverCreateFolder(t);default:return this.mockCreateFolder(t)}}async updateFolder(t){switch(this.config.backend){case"supabase":return this.supabaseUpdateFolder(t);case"xserver":return this.xserverUpdateFolder(t);default:return this.mockUpdateFolder(t)}}async deleteFolder(t){switch(this.config.backend){case"supabase":return this.supabaseDeleteFolder(t);case"xserver":return this.xserverDeleteFolder(t);default:return this.mockDeleteFolder(t)}}async getNotices(){switch(this.config.backend){case"xserver":return R.get("/api/notices/list.php");default:return this.mockGetNotices()}}async addNotice(t){switch(this.config.backend){case"xserver":return R.post("/api/notices/create.php",t);default:return this.mockAddNotice(t)}}async deleteNotice(t){switch(this.config.backend){case"xserver":return R.post("/api/notices/delete.php",{id:t});default:return this.mockDeleteNotice(t)}}async updateFolderPermissions(t){switch(this.config.backend){case"supabase":return this.supabaseUpdateFolderPermissions(t);case"xserver":return this.xserverUpdateFolderPermissions(t);default:return this.mockUpdateFolderPermissions(t)}}async getFiles(t){switch(this.config.backend){case"supabase":return this.supabaseGetFiles(t);case"xserver":return this.xserverGetFiles(t);default:return this.mockGetFiles(t)}}async uploadFile(t){switch(this.config.backend){case"supabase":return this.supabaseUploadFile(t);case"xserver":return this.xserverUploadFile(t);default:return this.mockUploadFile(t)}}async deleteFile(t){switch(this.config.backend){case"supabase":return this.supabaseDeleteFile(t);case"xserver":return this.xserverDeleteFile(t);default:return this.mockDeleteFile(t)}}async downloadFile(t){switch(this.config.backend){case"supabase":return this.supabaseDownloadFile(t);case"xserver":return this.xserverDownloadFile(t);default:return this.mockDownloadFile(t)}}async getTrashItems(){switch(this.config.backend){case"xserver":return R.get("/api/trash/list.php");default:return{success:!0,data:[]}}}async restoreFromTrash(t,r){switch(this.config.backend){case"xserver":return R.post("/api/trash/restore.php",{id:t,type:r});default:return{success:!0}}}async permanentlyDelete(t,r){switch(this.config.backend){case"xserver":return R.post("/api/trash/delete.php",{id:t,type:r});default:return{success:!0}}}async emptyTrash(){switch(this.config.backend){case"xserver":return R.post("/api/trash/empty.php",{});default:return{success:!0,data:{deleted_count:0}}}}async getShareLinks(){switch(this.config.backend){case"xserver":return R.get("/api/share/list.php");default:return{success:!0,data:[]}}}async createShareLink(t){switch(this.config.backend){case"xserver":return R.post("/api/share/create.php",t);default:return{success:!1,error:"Not implemented"}}}async deleteShareLink(t){switch(this.config.backend){case"xserver":return R.post("/api/share/delete.php",{share_id:t});default:return{success:!0}}}async getShareLinkInfo(t){switch(this.config.backend){case"xserver":return R.get(`/api/share/get.php?token=${t}`);default:return{success:!1,error:"Not implemented"}}}async getFavorites(){switch(this.config.backend){case"xserver":return R.get("/api/favorites/list.php");default:return{success:!0,data:[]}}}async addFavorite(t,r){switch(this.config.backend){case"xserver":return R.post("/api/favorites/add.php",{resource_type:t,resource_id:r});default:return{success:!0,data:{id:""}}}}async removeFavorite(t,r){switch(this.config.backend){case"xserver":return R.post("/api/favorites/remove.php",{resource_type:t,resource_id:r});default:return{success:!0}}}async getRecentFiles(t=20){switch(this.config.backend){case"xserver":return R.get(`/api/recent/list.php?limit=${t}`);default:return{success:!0,data:[]}}}async trackFileAccess(t){switch(this.config.backend){case"xserver":return R.post("/api/recent/track.php",{file_id:t});default:return{success:!0}}}async getActivityLogs(t={}){switch(this.config.backend){case"xserver":const r=new URLSearchParams;return t.page&&r.append("page",String(t.page)),t.per_page&&r.append("per_page",String(t.per_page)),t.action&&r.append("action",t.action),t.resource_type&&r.append("resource_type",t.resource_type),t.user_id&&r.append("user_id",t.user_id),R.get(`/api/activity/list.php?${r.toString()}`);default:return{success:!0,data:{data:[],pagination:{page:1,per_page:20,total:0,total_pages:0}}}}}async getStorageUsage(){switch(this.config.backend){case"xserver":return R.get("/api/storage/usage.php");default:return{success:!0,data:{used:0,quota:1073741824,percentage:0,available:1073741824,breakdown:{documents:{size:0,count:0},images:{size:0,count:0},videos:{size:0,count:0},audio:{size:0,count:0},others:{size:0,count:0}}}}}}async search(t,r=50,n=0){switch(this.config.backend){case"xserver":return R.post("/api/search/search.php",{query:t.query||"",type:t.type||"all",file_type:t.fileType,extensions:t.extensions,min_size:t.minSize,max_size:t.maxSize,date_from:t.dateFrom,date_to:t.dateTo,folder_id:t.folderId,sort_by:t.sortBy||"created_at",sort_order:t.sortOrder||"DESC",limit:r,offset:n});default:return{success:!0,data:{data:{files:[],folders:[]},meta:{total_files:0,total_folders:0,total:0,limit:r,offset:n,query:t.query||""}}}}}async getFolderPath(t){switch(this.config.backend){case"xserver":const r=t?`?folder_id=${t}`:"";return R.get(`/api/folders/path.php${r}`);default:return{success:!0,data:{path:[{id:null,name:"",parent_id:null}],current:t}}}}async moveFile(t,r){switch(this.config.backend){case"xserver":return R.post("/api/files/move.php",{file_id:t,target_folder_id:r});default:return{success:!0,data:{file_id:t,new_folder_id:r}}}}async moveFolder(t,r){switch(this.config.backend){case"xserver":return R.post("/api/folders/move.php",{folder_id:t,target_parent_id:r});default:return{success:!0,data:{folder_id:t,new_parent_id:r}}}}async getFileVersions(t){switch(this.config.backend){case"xserver":return R.get(`/api/versions/list.php?file_id=${t}`);default:return{success:!0,data:{file:{id:t,name:"",type:"",current_size:0},versions:[],total_versions:0}}}}async createFileVersion(t,r,n){switch(this.config.backend){case"xserver":const a=new FormData;return a.append("file",r),a.append("file_id",t),n&&a.append("comment",n),R.postFormData("/api/versions/create.php",a);default:return{success:!0,data:{version_id:"",version_number:1,size:r.size}}}}async restoreFileVersion(t){switch(this.config.backend){case"xserver":return R.post("/api/versions/restore.php",{version_id:t});default:return{success:!0,data:{file_id:"",restored_version:1}}}}async getBranches(){switch(this.config.backend){case"xserver":return R.get("/api/branches/list.php");default:return{success:!0,data:Array.from(O.branches.values())}}}async createBranch(t){switch(this.config.backend){case"xserver":return R.post("/api/branches/create.php",t);default:const r={id:crypto.randomUUID(),name:t.name,code:t.code,address:t.address,phone:t.phone,managerId:t.managerId,managerName:t.managerName,isActive:!0,displayOrder:t.displayOrder||O.branches.size+1,userCount:0,departmentCount:0,createdAt:new Date().toISOString()};return O.branches.set(r.id,r),Ml(),{success:!0,data:r}}}async updateBranch(t,r){switch(this.config.backend){case"xserver":return R.post("/api/branches/update.php",{id:t,...r});default:const n=O.branches.get(t);if(!n)return{success:!1,error:""};const a={...n,...r};return O.branches.set(t,a),Ml(),{success:!0,data:a}}}async deleteBranch(t,r){switch(this.config.backend){case"xserver":return R.post("/api/branches/delete.php",{id:t,force:r});default:return O.branches.delete(t),Ml(),{success:!0}}}async getDepartments(t){switch(this.config.backend){case"xserver":const r=t?`?branch_id=${t}`:"";return R.get(`/api/departments/list.php${r}`);default:let n=Array.from(O.departments.values());return t&&(n=n.filter(a=>a.branchId===t)),n=n.map(a=>{const l=a.branchId?O.branches.get(a.branchId):null;return{...a,branchName:l==null?void 0:l.name}}),{success:!0,data:n}}}async createDepartment(t){switch(this.config.backend){case"xserver":return R.post("/api/departments/create.php",t);default:const r=t.branchId?O.branches.get(t.branchId):null,n={id:crypto.randomUUID(),name:t.name,branchId:t.branchId,branchName:r==null?void 0:r.name,code:t.code,parentId:t.parentId,description:t.description,isActive:!0,displayOrder:t.displayOrder||O.departments.size+1,userCount:0,createdAt:new Date().toISOString()};return O.departments.set(n.id,n),Tl(),{success:!0,data:n}}}async updateDepartment(t,r){switch(this.config.backend){case"xserver":return R.post("/api/departments/update.php",{id:t,...r});default:const n=O.departments.get(t);if(!n)return{success:!1,error:""};const a=r.branchId?O.branches.get(r.branchId):null,l={...n,...r,branchName:(a==null?void 0:a.name)||n.branchName};return O.departments.set(t,l),Tl(),{success:!0,data:l}}}async deleteDepartment(t,r){switch(this.config.backend){case"xserver":return R.post("/api/departments/delete.php",{id:t,force:r});default:return O.departments.delete(t),Tl(),{success:!0}}}async getFolderPermissions(t){switch(this.config.backend){case"xserver":return R.get(`/api/folders/permissions-list.php?folder_id=${t}`);default:let r=O.detailedPermissions.get(t);if(!r){const n=O.folders.get(t);r={users:[],branches:[],departments:[]},n&&n.folder_permissions.forEach(a=>{const l=O.users.get(a.user_id);l&&r.users.push({id:crypto.randomUUID(),userId:l.id,userName:l.name,userEmail:l.email,permissionLevel:"view",createdAt:new Date().toISOString()})}),O.detailedPermissions.set(t,r),Ll()}return{success:!0,data:r}}}async grantFolderPermission(t){switch(this.config.backend){case"xserver":return R.post("/api/folders/permissions-grant.php",{folder_id:t.folderId,target_type:t.targetType,target_id:t.targetId,permission_level:t.permissionLevel});default:let r=O.detailedPermissions.get(t.folderId);r||(r={users:[],branches:[],departments:[]});const n=crypto.randomUUID();let a="";if(t.targetType==="user"){const l=O.users.get(t.targetId);if(!l)return{success:!1,error:""};if(r.users.some(o=>o.userId===t.targetId))return{success:!1,error:""};a=l.name,r.users.push({id:n,userId:l.id,userName:l.name,userEmail:l.email,permissionLevel:t.permissionLevel,createdAt:new Date().toISOString()});const i=O.folders.get(t.folderId);i&&(i.folder_permissions.some(o=>o.user_id===l.id)||i.folder_permissions.push({user_id:l.id}))}else if(t.targetType==="branch"){const l=O.branches.get(t.targetId);if(!l)return{success:!1,error:""};if(r.branches.some(i=>i.branchId===t.targetId))return{success:!1,error:""};a=l.name,r.branches.push({id:n,branchId:l.id,branchName:l.name,branchCode:l.code,permissionLevel:t.permissionLevel,createdAt:new Date().toISOString()})}else if(t.targetType==="department"){const l=O.departments.get(t.targetId);if(!l)return{success:!1,error:""};if(r.departments.some(i=>i.departmentId===t.targetId))return{success:!1,error:""};a=l.name,r.departments.push({id:n,departmentId:l.id,departmentName:l.name,departmentCode:l.code,permissionLevel:t.permissionLevel,createdAt:new Date().toISOString()})}return O.detailedPermissions.set(t.folderId,r),Ll(),{success:!0,data:{targetType:t.targetType,targetId:t.targetId,targetName:a,permissionLevel:t.permissionLevel}}}}async revokeFolderPermission(t){switch(this.config.backend){case"xserver":return R.post("/api/folders/permissions-revoke.php",{folder_id:t.folderId,target_type:t.targetType,target_id:t.targetId});default:let r=O.detailedPermissions.get(t.folderId);if(!r)return{success:!1,error:""};if(t.targetType==="user"){r.users=r.users.filter(a=>a.userId!==t.targetId);const n=O.folders.get(t.folderId);n&&(n.folder_permissions=n.folder_permissions.filter(a=>a.user_id!==t.targetId))}else t.targetType==="branch"?r.branches=r.branches.filter(n=>n.branchId!==t.targetId):t.targetType==="department"&&(r.departments=r.departments.filter(n=>n.departmentId!==t.targetId));return O.detailedPermissions.set(t.folderId,r),Ll(),{success:!0}}}async supabaseGetUsers(){return R.get("/rest/v1/users?select=id,name,role,is_active")}async supabaseDeleteUser(t){return R.delete(`/rest/v1/users?id=eq.${t}`)}async supabaseGetFolders(){return R.get("/rest/v1/folders?select=*,folder_permissions(*)")}async supabaseCreateFolder(t){const r=await R.post("/rest/v1/folders",{name:t.name,created_by:t.created_by,created_at:new Date().toISOString()});return r.success&&r.data&&await R.post("/rest/v1/folder_permissions",{folder_id:r.data.id,user_id:t.created_by}),r}async supabaseUpdateFolder(t){return R.put(`/rest/v1/folders?id=eq.${t.folder_id}`,{name:t.name})}async supabaseDeleteFolder(t){return await R.delete(`/rest/v1/files?folder_id=eq.${t}`),await R.delete(`/rest/v1/folder_permissions?folder_id=eq.${t}`),R.delete(`/rest/v1/folders?id=eq.${t}`)}async supabaseUpdateFolderPermissions(t){return t.action==="grant"?R.post("/rest/v1/folder_permissions",{folder_id:t.folder_id,user_id:t.user_id}):R.delete(`/rest/v1/folder_permissions?folder_id=eq.${t.folder_id}&user_id=eq.${t.user_id}`)}async supabaseGetFiles(t){const r=t?`?folder_id=eq.${t}`:"";return R.get(`/rest/v1/files${r}`)}async supabaseUploadFile(t){return R.post("/rest/v1/files",{name:t.name,type:t.type,size:t.size,folder_id:t.folder_id,created_by:t.created_by,storage_path:`${t.folder_id}/${Date.now()}-${t.name}`,created_at:new Date().toISOString()})}async supabaseDeleteFile(t){return R.delete(`/rest/v1/files?id=eq.${t}`)}async supabaseDownloadFile(t){return{success:!1,error:"Not implemented for Supabase"}}async xserverGetUsers(){return R.get("/api/users/list.php")}async xserverDeleteUser(t){return R.post("/api/users/delete.php",{user_id:t})}async xserverGetFolders(){return R.get("/api/folders/list.php")}async xserverCreateFolder(t){return R.post("/api/folders/create.php",{name:t.name,created_by:t.created_by})}async xserverUpdateFolder(t){return R.post("/api/folders/update.php",{folder_id:t.folder_id,name:t.name})}async xserverDeleteFolder(t){return R.post("/api/folders/delete.php",{folder_id:t})}async xserverUpdateFolderPermissions(t){return R.post("/api/folders/permissions.php",{folder_id:t.folder_id,user_id:t.user_id,action:t.action})}async xserverGetFiles(t){const r=t?`?folder_id=${t}`:"";return R.get(`/api/files/list.php${r}`)}async xserverUploadFile(t){if(t.file){const r=new FormData;return r.append("file",t.file),r.append("folder_id",t.folder_id),r.append("created_by",t.created_by),R.postFormData("/api/files/upload.php",r)}return R.post("/api/files/create.php",{name:t.name,type:t.type,size:t.size,folder_id:t.folder_id,created_by:t.created_by})}async xserverDeleteFile(t){return R.post("/api/files/delete.php",{file_id:t})}async xserverDownloadFile(t){return R.downloadFile(`/api/files/download.php?file_id=${t}`)}async mockGetUsers(){return{success:!0,data:Array.from(O.users.values())}}async mockDeleteUser(t){return O.users.delete(t),O.folders.forEach(r=>{r.folder_permissions=r.folder_permissions.filter(n=>n.user_id!==t)}),{success:!0}}async mockGetFolders(){return{success:!0,data:Array.from(O.folders.values())}}async mockCreateFolder(t){const r={id:crypto.randomUUID(),name:t.name,created_by:t.created_by,created_at:new Date().toISOString(),folder_permissions:[{user_id:t.created_by}]};return O.folders.set(r.id,r),{success:!0,data:r}}async mockUpdateFolder(t){const r=O.folders.get(t.folder_id);return r?(r.name=t.name,O.folders.set(t.folder_id,r),{success:!0,data:r}):{success:!1,error:""}}async mockDeleteFolder(t){return O.folders.delete(t),O.files.forEach((r,n)=>{r.folder_id===t&&O.files.delete(n)}),{success:!0}}async mockUpdateFolderPermissions(t){const r=O.folders.get(t.folder_id);return r?(t.action==="grant"?r.folder_permissions.some(n=>n.user_id===t.user_id)||r.folder_permissions.push({user_id:t.user_id}):r.folder_permissions=r.folder_permissions.filter(n=>n.user_id!==t.user_id),O.folders.set(t.folder_id,r),{success:!0}):{success:!1,error:""}}async mockGetFiles(t){let r=Array.from(O.files.values());return t&&(r=r.filter(n=>n.folder_id===t)),{success:!0,data:r}}async mockUploadFile(t){const r={id:crypto.randomUUID(),name:t.name,type:t.type,size:t.size,folder_id:t.folder_id,created_by:t.created_by,storage_path:`${t.folder_id}/${Date.now()}-${t.name}`,created_at:new Date().toISOString()};return O.files.set(r.id,r),{success:!0,data:r}}async mockDeleteFile(t){return O.files.delete(t),{success:!0}}async mockDownloadFile(t){const r=O.files.get(t);return r?{success:!0,blob:new Blob(["Mock file content"],{type:"text/plain"}),filename:r.name}:{success:!1,error:""}}async mockGetNotices(){return{success:!0,data:Array.from(O.notices.values()).sort((r,n)=>new Date(n.date).getTime()-new Date(r.date).getTime())}}async mockAddNotice(t){const r={id:Math.random().toString(36).substr(2,9),date:new Date().toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit"}),...t};return O.notices.set(r.id,r),lu(),{success:!0,data:r}}async mockDeleteNotice(t){return O.notices.delete(t),lu(),{success:!0}}addUserToMockStorage(t){O.users.set(t.id,t)}removeUserFromMockStorage(t){O.users.delete(t)}getMockStorage(){return O}initializeDefaultFolder(t){if(O.folders.size===0){const r={id:"1",name:"",created_by:t,created_at:new Date().toISOString(),folder_permissions:[{user_id:t}]};O.folders.set(r.id,r)}}}const he=new dg,Om=v.createContext(void 0),mg=({children:e})=>{const[t,r]=v.useState(null),[n,a]=v.useState(!0);v.useEffect(()=>{(async()=>{await l(),a(!1)})()},[]);const l=async()=>{try{const f=Qe.getToken(),x=Qe.getUser();if(f&&x){et(f);const d=await Or.verifySession(f);d.success&&d.data?(r(d.data),Qe.setUser(d.data)):(Qe.removeToken(),Qe.removeUser(),et(null),r(null))}}catch(f){console.error(":",f),Qe.removeToken(),Qe.removeUser(),et(null),r(null)}},i=async(f,x)=>{try{const d=await Or.signIn({emailOrName:f,password:x});if(!d.success)throw new Error(d.error||"");const{user:y,token:w}=d.data;w&&(Qe.setToken(w),et(w)),Qe.setUser(y),r(y),D.success(`${y.name}`)}catch(d){const y=d instanceof Error?d.message:"";throw D.error(y),d}},o=async(f,x,d)=>{try{if(!Ya(f))throw new Error("");const y=hn(x);if(!y.isValid)throw new Error(`:
${y.errors.join(`
`)}`);if(d.trim().length<2)throw new Error("2");const w=await Or.signUp({email:f,password:x,name:d});if(!w.success)throw new Error(w.error||"");const{user:C,token:g}=w.data;he.addUserToMockStorage({id:C.id,name:C.name,role:C.role,isActive:!0}),D.success("")}catch(y){const w=y instanceof Error?y.message:"";throw D.error(w),y}},c=async()=>{try{await Or.signOut(),Qe.removeToken(),Qe.removeUser(),et(null),r(null),D.success("")}catch(f){throw D.error(""),f}},u=async f=>{var x;try{const d=await Or.resetPassword(f);if(!d.success)throw new Error(d.error||"");const y=((x=d.data)==null?void 0:x.tempPassword)||"";return y?D.success(`: ${y}`,{duration:1e4}):D.success(""),y}catch(d){const y=d instanceof Error?d.message:"";throw D.error(y),d}},p=async(f,x)=>{try{const d=hn(x);if(!d.isValid)throw new Error(`:
${d.errors.join(`
`)}`);const y=await Or.changePassword(f,x);if(!y.success)throw new Error(y.error||"");D.success("")}catch(d){const y=d instanceof Error?d.message:"";throw D.error(y),d}};return s.jsx(Om.Provider,{value:{session:t,loading:n,signIn:i,signUp:o,signOut:c,resetPassword:u,changePassword:p,refreshSession:l},children:e})},Pe=()=>{const e=v.useContext(Om);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var fg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),W=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...u},p)=>v.createElement("svg",{ref:p,...fg,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${pg(e)}`,o].join(" "),...u},[...t.map(([f,x])=>v.createElement(f,x)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=W("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=W("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=W("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _r=W("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=W("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=W("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bm=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=W("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vm=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hm=W("Cog",[["path",{d:"M12 20a8 8 0 1 0 0-16 8 8 0 0 0 0 16Z",key:"sobvz5"}],["path",{d:"M12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4Z",key:"11i496"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 22v-2",key:"1osdcq"}],["path",{d:"m17 20.66-1-1.73",key:"eq3orb"}],["path",{d:"M11 10.27 7 3.34",key:"16pf9h"}],["path",{d:"m20.66 17-1.73-1",key:"sg0v6f"}],["path",{d:"m3.34 7 1.73 1",key:"1ulond"}],["path",{d:"M14 12h8",key:"4f43i9"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"m20.66 7-1.73 1",key:"1ow05n"}],["path",{d:"m3.34 17 1.73-1",key:"nuk764"}],["path",{d:"m17 3.34-1 1.73",key:"2wel8s"}],["path",{d:"m11 13.73-4 6.93",key:"794ttg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=W("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=W("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=W("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=W("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=W("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=W("FileType",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 13v-1h6v1",key:"1bb014"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"M11 18h2",key:"12mj7e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=W("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=W("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=W("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wm=W("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=W("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=W("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=W("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=W("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=W("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nr=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=W("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=W("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=W("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zg=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=W("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=W("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pg=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=W("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=W("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=W("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=W("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xn=W("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ig=W("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=W("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=W("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xm=({size:e="md",showText:t=!0,className:r=""})=>{const[n,a]=v.useState(!1),l={sm:{icon:40,text:"text-xl"},md:{icon:48,text:"text-2xl"},lg:{icon:64,text:"text-3xl"},xl:{icon:120,text:"text-5xl"}},{icon:i,text:o}=l[e],c=()=>s.jsxs("svg",{width:i,height:i,viewBox:"0 0 64 64",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"flex-shrink-0",children:[s.jsx("rect",{x:"12",y:"8",width:"40",height:"48",rx:"4",fill:"#64D2C3"}),s.jsx("path",{d:"M40 8L52 20H44C41.7909 20 40 18.2091 40 16V8Z",fill:"#74B4E8"}),s.jsx("path",{d:"M28 4C25.7909 4 24 5.79086 24 8V28C24 32.4183 27.5817 36 32 36C36.4183 36 40 32.4183 40 28V12",stroke:"#FFB85F",strokeWidth:"4",strokeLinecap:"round",fill:"none"}),s.jsx("path",{d:"M32 12V28C32 30.2091 33.7909 32 36 32",stroke:"#FFB85F",strokeWidth:"3",strokeLinecap:"round",fill:"none"}),s.jsx("rect",{x:"18",y:"28",width:"20",height:"3",rx:"1.5",fill:"#E0F2FE"}),s.jsx("rect",{x:"18",y:"35",width:"16",height:"3",rx:"1.5",fill:"#E0F2FE"}),s.jsx("rect",{x:"18",y:"42",width:"24",height:"3",rx:"1.5",fill:"#E0F2FE"}),s.jsx("rect",{x:"18",y:"49",width:"12",height:"3",rx:"1.5",fill:"#E0F2FE"})]});return s.jsxs("div",{className:`flex items-center ${r}`,children:[n?s.jsx(c,{}):s.jsx("img",{src:"/logo.png?v=5",alt:"File CLIP",width:i,height:i,className:"flex-shrink-0 object-contain",onError:()=>a(!0)}),t&&s.jsxs("div",{className:`ml-2 font-bold ${o}`,children:[s.jsx("span",{className:"text-[#4A90E2]",children:"File"}),s.jsx("span",{className:"text-[#FFB85F]",children:" CLIP"})]})]})},Tg=({onClose:e,onSubmit:t})=>{const[r,n]=v.useState(""),[a,l]=v.useState(!1),i=async o=>{if(o.preventDefault(),!Ya(r)){D.error("");return}l(!0);try{await t(r),e()}catch{}finally{l(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-fadeIn",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:""}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",disabled:a,children:s.jsx(_t,{size:24})})]}),s.jsx("p",{className:"text-gray-600 mb-4",children:""}),s.jsxs("form",{onSubmit:i,children:[s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",value:r,onChange:o=>n(o.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"example@domain.com",required:!0,disabled:a})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md disabled:opacity-50",disabled:a,children:""}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:a,children:a?"...":""})]})]})]})})},Lg=({onClose:e,onSubmit:t})=>{const[r,n]=v.useState(""),[a,l]=v.useState(""),[i,o]=v.useState(""),[c,u]=v.useState(""),[p,f]=v.useState(!1),[x,d]=v.useState(!1),[y,w]=v.useState(!1),[C,g]=v.useState({isValid:!1,errors:[]});v.useEffect(()=>{g(a?hn(a):{isValid:!1,errors:[]})},[a]);const h=async m=>{if(m.preventDefault(),!Ya(r)){D.error("");return}if(!C.isValid){D.error("");return}if(a!==i){D.error("");return}if(c.trim().length<2){D.error("2");return}w(!0);try{await t(r,a,c),e()}catch{}finally{w(!1)}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6 animate-fadeIn max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:""}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",disabled:y,children:s.jsx(_t,{size:24})})]}),s.jsxs("form",{onSubmit:h,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"email",value:r,onChange:m=>n(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"example@domain.com",required:!0,disabled:y})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(or,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:c,onChange:m=>u(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,disabled:y})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:p?"text":"password",value:a,onChange:m=>l(m.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,disabled:y}),s.jsx("button",{type:"button",onClick:()=>f(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:y,children:p?s.jsx(ln,{size:20}):s.jsx(Ct,{size:20})})]}),a&&s.jsx("div",{className:"mt-2 text-sm",children:s.jsxs("div",{className:"space-y-1",children:[C.errors.map((m,b)=>s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx(ps,{size:16,className:"mr-1"}),m]},b)),C.isValid&&s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(hs,{size:16,className:"mr-1"}),""]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:x?"text":"password",value:i,onChange:m=>o(m.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,disabled:y}),s.jsx("button",{type:"button",onClick:()=>d(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:y,children:x?s.jsx(ln,{size:20}):s.jsx(Ct,{size:20})})]}),i&&a!==i&&s.jsxs("div",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(ps,{size:16,className:"mr-1"}),""]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-2",children:[s.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-md disabled:opacity-50",disabled:y,children:""}),s.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",disabled:y||!C.isValid||a!==i,children:y?"...":""})]})]})]})})},Rg=()=>{const[e,t]=v.useState(""),[r,n]=v.useState(""),[a,l]=v.useState(!1),[i,o]=v.useState(!1),[c,u]=v.useState(!1),[p,f]=v.useState(!1),x=Ga(),{signIn:d,signUp:y,resetPassword:w}=Pe(),C=async m=>{m.preventDefault(),o(!0);try{await d(e,r),x("/")}catch(b){console.error("Login error:",b)}finally{o(!1)}},g=async m=>{await w(m)},h=async(m,b,j)=>{await y(m,b,j)};return s.jsxs("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center p-4 relative",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-gray-200/50 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-gray-200/50 rounded-full blur-3xl"})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md w-full max-w-md p-8 relative z-10 border-t-4 border-[#FFB85F]",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center mb-4",children:s.jsx("div",{className:"p-2 rounded-lg bg-white ring-1 ring-gray-100 shadow-sm",children:s.jsx(Xm,{size:"xl",showText:!1})})}),s.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:[s.jsx("span",{className:"text-[#4A90E2]",children:"File"}),s.jsx("span",{className:"text-[#FFB85F] ml-1",children:"CLIP"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-2 font-medium tracking-wide",children:"SECURE FILE SHARING"})]}),s.jsxs("form",{onSubmit:C,className:"space-y-5",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Za,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",value:e,onChange:m=>t(m.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#4A90E2] focus:border-transparent transition-shadow",placeholder:"",required:!0,disabled:i})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:a?"text":"password",value:r,onChange:m=>n(m.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#4A90E2] focus:border-transparent transition-shadow",placeholder:"",required:!0,disabled:i}),s.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",disabled:i,children:a?s.jsx(ln,{size:20}):s.jsx(Ct,{size:20})})]}),s.jsx("div",{className:"text-right mt-1",children:s.jsx("button",{type:"button",onClick:()=>u(!0),className:"text-xs text-[#4A90E2] hover:text-blue-700 hover:underline",disabled:i,children:""})})]}),s.jsx("button",{type:"submit",disabled:i,className:`w-full py-2.5 px-4 bg-[#4A90E2] text-white rounded-md font-medium hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all shadow-sm ${i?"opacity-75 cursor-not-allowed":""}`,children:i?"...":""})]}),s.jsx("div",{className:"mt-6 text-center pt-4 border-t border-gray-100",children:s.jsxs("p",{className:"text-sm text-gray-600",children:[""," ",s.jsx("button",{type:"button",onClick:()=>f(!0),className:"text-[#FFB85F] hover:text-orange-500 hover:underline font-medium transition-colors",disabled:i,children:""})]})}),s.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[s.jsxs("h3",{className:"text-xs font-semibold text-gray-500 mb-2 uppercase tracking-wider flex items-center",children:[s.jsx("svg",{className:"w-3 h-3 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),""]}),s.jsxs("div",{className:"text-xs text-gray-600 space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 pb-1",children:[s.jsx("span",{className:"font-medium text-gray-700",children:""}),s.jsx("code",{className:"bg-white px-2 py-0.5 rounded border border-gray-200 text-gray-600 font-mono",children:"admin@example.com / Admin123!"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-1",children:[s.jsx("span",{className:"font-medium text-gray-700",children:""}),s.jsx("code",{className:"bg-white px-2 py-0.5 rounded border border-gray-200 text-gray-600 font-mono",children:"test@example.com / Test123!"})]})]})]})]}),c&&s.jsx(Tg,{onClose:()=>u(!1),onSubmit:g}),p&&s.jsx(Lg,{onClose:()=>f(!1),onSubmit:h})]})},Ie=e=>["super_admin","branch_admin","department_admin"].includes(e),Jm=e=>e==="super_admin",$g=e=>["super_admin","branch_admin"].includes(e),xs=e=>({super_admin:"",branch_admin:"",department_admin:"",user:""})[e]||e,Ug=({onClose:e})=>{const{session:t,changePassword:r,signOut:n}=Pe(),[a,l]=v.useState(""),[i,o]=v.useState(""),[c,u]=v.useState(""),[p,f]=v.useState(!1),[x,d]=v.useState(!1),[y,w]=v.useState(!1),[C,g]=v.useState(!1),[h,m]=v.useState({isValid:!1,errors:[]});L.useEffect(()=>{m(i?hn(i):{isValid:!1,errors:[]})},[i]);const b=async k=>{if(k.preventDefault(),!h.isValid){D.error("");return}if(i!==c){D.error("");return}g(!0);try{await r(a,i),l(""),o(""),u("")}catch{}finally{g(!1)}},j=async()=>{try{await n(),e()}catch{}};return t?s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl p-6 max-h-[90vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:""}),s.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-xl",children:""})]}),s.jsxs("div",{className:"mb-8 p-4 bg-gray-50 rounded-lg",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(or,{className:"mr-2",size:20}),""]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 bg-white p-2 rounded border",children:t.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 bg-white p-2 rounded border",children:t.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"ID"}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 bg-white p-2 rounded border",children:t.id})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700",children:""}),s.jsx("p",{className:"mt-1 text-sm text-gray-900 bg-white p-2 rounded border",children:s.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Ie(t.role)?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"}`,children:xs(t.role)})})]})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center",children:[s.jsx(Nr,{className:"mr-2",size:20}),""]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:p?"text":"password",value:a,onChange:k=>l(k.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,disabled:C}),s.jsx("button",{type:"button",onClick:()=>f(!p),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:C,children:p?s.jsx(ln,{size:20}):s.jsx(Ct,{size:20})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:x?"text":"password",value:i,onChange:k=>o(k.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,disabled:C}),s.jsx("button",{type:"button",onClick:()=>d(!x),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:C,children:x?s.jsx(ln,{size:20}):s.jsx(Ct,{size:20})})]}),i&&s.jsx("div",{className:"mt-2 text-sm",children:s.jsxs("div",{className:"space-y-1",children:[h.errors.map((k,P)=>s.jsxs("div",{className:"flex items-center text-red-600",children:[s.jsx(ps,{size:16,className:"mr-1"}),k]},P)),h.isValid&&s.jsxs("div",{className:"flex items-center text-green-600",children:[s.jsx(hs,{size:16,className:"mr-1"}),""]})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("div",{className:"relative",children:[s.jsx(Nr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:y?"text":"password",value:c,onChange:k=>u(k.target.value),className:"w-full pl-10 pr-12 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0,disabled:C}),s.jsx("button",{type:"button",onClick:()=>w(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",disabled:C,children:y?s.jsx(ln,{size:20}):s.jsx(Ct,{size:20})})]}),c&&i!==c&&s.jsxs("div",{className:"mt-1 text-sm text-red-600 flex items-center",children:[s.jsx(ps,{size:16,className:"mr-1"}),""]})]}),s.jsxs("button",{type:"submit",disabled:C||!h.isValid||i!==c||!a,className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Gm,{className:"mr-2",size:20}),C?"...":""]})]})]}),s.jsxs("div",{className:"mb-8 p-4 bg-blue-50 rounded-lg",children:[s.jsx("h3",{className:"text-lg font-semibold mb-2 text-blue-800",children:""}),s.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:" "}),s.jsx("li",{children:" 530"})]})]}),s.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[s.jsx("button",{onClick:j,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:""}),s.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400",children:""})]})]})}):null},Og=()=>{const{session:e,signOut:t}=Pe(),r=Ga(),[n,a]=v.useState(!1),[l,i]=v.useState(!1),o=async()=>{try{await t()}catch{}},c=e==null?void 0:e.role,u=e?Ie(c):!1;return s.jsxs(s.Fragment,{children:[s.jsx("header",{className:"bg-gray-900 border-t-4 border-[#FFB85F] shadow-md",children:s.jsxs("div",{className:"w-full px-8 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"bg-white rounded-lg p-2 shadow-sm ring-2 ring-[#4A90E2]/20",children:s.jsx(Xm,{size:"lg",showText:!1})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold tracking-tight flex items-center",children:[s.jsx("span",{className:"text-[#4A90E2]",children:"File"}),s.jsx("span",{className:"text-[#FFB85F] ml-1",children:"CLIP"})]}),s.jsx("p",{className:"text-xs text-gray-400 font-medium tracking-wide",children:"SECURE FILE SHARING"})]})]}),e&&s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center text-sm bg-gray-800 text-gray-200 rounded-full px-4 py-1.5 border border-gray-700",children:[u?s.jsx($t,{size:16,className:"mr-2 text-[#FFB85F]"}):s.jsx(or,{size:16,className:"mr-2 text-[#4A90E2]"}),s.jsx("span",{className:"font-medium",children:e.name})]}),s.jsx("div",{className:"hidden md:flex text-xs px-2 py-1 bg-gray-800 text-gray-400 rounded-md font-medium border border-gray-700",children:xs(c)}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>i(!l),className:"p-2 rounded-full hover:bg-gray-800 text-gray-300 hover:text-white transition-colors focus:outline-none",title:"",children:s.jsx(Eg,{size:24})}),l&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>i(!1)}),s.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg py-1 text-gray-700 z-20 animate-fadeIn ring-1 ring-black ring-opacity-5",children:[s.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 md:hidden",children:[s.jsx("p",{className:"text-xs font-semibold text-gray-500",children:""}),s.jsx("p",{className:"text-sm font-medium truncate text-gray-900",children:e.name}),s.jsx("p",{className:"text-xs text-gray-500",children:xs(c)})]}),u&&s.jsxs("button",{onClick:()=>{r("/settings"),i(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center group",children:[s.jsx(Hm,{size:16,className:"mr-3 text-blue-600 group-hover:text-blue-700"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:""}),s.jsx("div",{className:"text-xs text-gray-500",children:""})]})]}),s.jsxs("button",{onClick:()=>{a(!0),i(!1)},className:"w-full text-left px-4 py-2 hover:bg-gray-50 flex items-center group",children:[s.jsx(Ym,{size:16,className:"mr-3 text-gray-500 group-hover:text-gray-700"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900",children:""}),s.jsx("div",{className:"text-xs text-gray-500",children:""})]})]}),s.jsx("div",{className:"border-t border-gray-100 my-1"}),s.jsxs("button",{onClick:()=>{o(),i(!1)},className:"w-full text-left px-4 py-2 hover:bg-red-50 text-red-600 flex items-center group",children:[s.jsx(Cg,{size:16,className:"mr-3 group-hover:text-red-700"}),s.jsx("span",{className:"text-sm font-medium",children:""})]})]})]})]})]})]})}),n&&s.jsx(Ug,{onClose:()=>a(!1)})]})},Zm=v.createContext(void 0),mr=()=>{const e=v.useContext(Zm);if(e===void 0)throw new Error("useFileSystem must be used within a FileSystemProvider");return e},de={users:new Map,folders:new Map,files:new Map},Qs=new Map,Mi=new Set,Ag=e=>(Mi.add(e),()=>Mi.delete(e)),ef=()=>{Mi.forEach(e=>e())},Bg=e=>{de.users.delete(e),ef()},Vg=({children:e})=>{const{session:t}=Pe(),[r,n]=v.useState([]),[a,l]=v.useState([]),[i,o]=v.useState([]),[c,u]=v.useState(null),[p,f]=v.useState([]),x=()=>{n(Array.from(de.users.values())),l(Array.from(de.folders.values())),o(Array.from(de.files.values()))};v.useEffect(()=>{const $=Ag(x);return()=>{$()}},[]);const d=async()=>{try{const $=await he.getNotices();$.success&&$.data&&f($.data)}catch($){console.error("Failed to fetch notices:",$)}};v.useEffect(()=>{if(t){const $={id:t.id,name:t.name,email:t.email,role:t.role,isActive:!0};if(de.users.set(t.id,$),ef(),de.folders.size===0){const U={id:"1",name:"",created_by:t.id,created_at:new Date().toISOString(),folder_permissions:[{user_id:t.id}]};de.folders.set(U.id,U),x()}d()}},[t]);const y=t?{id:t.id,name:t.name,email:t.email,role:t.role,isActive:!0}:{id:"guest",name:"Guest User",email:"guest@example.com",role:"user",isActive:!1},ee={users:r,folders:a,files:i,currentUser:y,currentFolderId:c,switchUser:$=>{console.warn("User switching is now handled by authentication")},addFolder:async $=>{if(!$.trim()||!t){D.error("");return}try{const U={id:crypto.randomUUID(),name:$,created_by:t.id,created_at:new Date().toISOString(),folder_permissions:[{user_id:t.id}]};de.folders.set(U.id,U),x(),D.success("")}catch{D.error("")}},deleteFolder:async $=>{try{de.folders.delete($),Array.from(de.files.values()).filter(_=>_.folder_id===$).forEach(_=>{de.files.delete(_.id)}),x(),c===$&&u(null),D.success("")}catch{D.error("")}},updateFolderPermissions:async($,U)=>{try{const _=de.folders.get($);if(!_)return;const A=_.folder_permissions.some(B=>B.user_id===U)?_.folder_permissions.filter(B=>B.user_id!==U):[..._.folder_permissions,{user_id:U}],G={..._,folder_permissions:A};de.folders.set($,G),x(),D.success("")}catch{D.error("")}},addFile:async($,U,_,E)=>{if(!$.trim()||!_||!t){D.error("");return}try{const A=crypto.randomUUID(),G={id:A,name:$,type:U,size:(E==null?void 0:E.size)||0,folder_id:_,created_by:t.id,storage_path:`${_}/${Date.now()}-${$}`,created_at:new Date().toISOString()};E&&await new Promise(B=>{const Y=new FileReader;Y.onload=()=>{Y.result&&Qs.set(A,Y.result),B()},Y.onerror=()=>{console.error("Failed to read file:",$),B()},Y.readAsDataURL(E)}),de.files.set(G.id,G),x(),D.success("")}catch{D.error("")}},renameFile:async($,U)=>{if(!U.trim()){D.error("");return}try{const _=de.files.get($);if(!_)throw new Error("File not found");let E=U;if(_.name.includes(".")){const G=_.name.split(".").pop();G&&!U.toLowerCase().endsWith(`.${G.toLowerCase()}`)&&(E=`${U}.${G}`)}const A={..._,name:E};de.files.set($,A),x(),D.success("")}catch{D.error("")}},downloadFile:async($,U)=>{try{const _=Qs.get($);let E,A=!1;if(_)E=_;else{const B=`This is a sample content for ${U}.

In a real application, this would fetch the actual file data from storage.`,Y=new Blob([B],{type:"text/plain"});E=window.URL.createObjectURL(Y),A=!0}const G=document.createElement("a");G.href=E,G.download=U,document.body.appendChild(G),G.click(),document.body.removeChild(G),A&&window.URL.revokeObjectURL(E),D.success("")}catch{D.error("")}},deleteFile:async $=>{try{de.files.delete($),Qs.delete($),x(),D.success("")}catch{D.error("")}},setCurrentFolder:$=>{u($)},deleteUser:async $=>{try{const U=de.users.get($);if(U&&Jm(U.role)){D.error("");return}if($===y.id){D.error("");return}Array.from(de.folders.values()).forEach(_=>{const E=_.folder_permissions.filter(A=>A.user_id!==$);de.folders.set(_.id,{..._,folder_permissions:E})}),Bg($),D.success("")}catch{D.error("")}},createUser:async $=>{try{const U=await he.createUser($);if(U.success&&U.data){const _=U.data;de.users.set(_.id,_),x(),D.success("")}else throw new Error(U.error||"")}catch(U){throw U instanceof Error?D.error(U.message):D.error(""),U}},updateUser:async($,U)=>{try{const _=await he.updateUser($,U);if(_.success&&_.data){const E=_.data;de.users.set(E.id,E),x(),D.success("")}else throw new Error(_.error||"")}catch(_){throw _ instanceof Error?D.error(_.message):D.error(""),_}},refreshUsers:async()=>{try{const $=await he.getUsers();$.success&&$.data&&(de.users.clear(),$.data.forEach(U=>{de.users.set(U.id,U)}),x())}catch($){console.error("Failed to refresh users:",$)}},getFileDataUrl:$=>Qs.get($)||null,notices:p,addNotice:async($,U,_)=>{try{const E=await he.addNotice({title:$,content:U,category:_,importance:"normal"});E.success?(D.success(""),await d()):D.error(E.error||"")}catch(E){console.error("Error adding notice:",E),D.error("")}},deleteNotice:async $=>{try{const U=await he.deleteNotice($);U.success?(D.success(""),await d()):D.error(U.error||"")}catch(U){console.error("Error deleting notice:",U),D.error("")}}};return s.jsx(Zm.Provider,{value:ee,children:e})},Et={view:{label:"",icon:s.jsx(Ct,{size:14}),color:"bg-gray-100 text-gray-700"},edit:{label:"",icon:s.jsx(Dg,{size:14}),color:"bg-blue-100 text-blue-700"},manage:{label:"",icon:s.jsx($t,{size:14}),color:"bg-purple-100 text-purple-700"}},Hg=({folderId:e,folderName:t,onClose:r})=>{const{session:n}=Pe(),[a,l]=v.useState({users:[],branches:[],departments:[]}),[i,o]=v.useState(!0),[c,u]=v.useState("users"),[p,f]=v.useState(!1),[x,d]=v.useState("user"),[y,w]=v.useState([]),[C,g]=v.useState("view"),[h,m]=v.useState([]),[b,j]=v.useState([]),[k,P]=v.useState([]),M=async()=>{o(!0);try{const[z,J,se,ee]=await Promise.all([he.getFolderPermissions(e),he.getUsers(),he.getBranches(),he.getDepartments()]);z.success&&z.data&&l(z.data),J.success&&J.data&&m(J.data),se.success&&se.data&&j(se.data),ee.success&&ee.data&&P(ee.data)}catch{D.error("")}finally{o(!1)}};v.useEffect(()=>{M()},[e]);const F=async()=>{if(y.length===0){D.error("");return}try{let z=0,J=0;for(const se of y)(await he.grantFolderPermission({folderId:e,targetType:x,targetId:se,permissionLevel:C})).success?z++:J++;z>0?(D.success(`${z}${J>0?`${J}`:""}`),f(!1),w([]),M()):D.error("")}catch{D.error("")}},N=async(z,J,se)=>{if(confirm(`${se}`))try{const ee=await he.revokeFolderPermission({folderId:e,targetType:z,targetId:J});ee.success?(D.success(""),M()):D.error(ee.error||"")}catch{D.error("")}},H=()=>{switch(x){case"user":const z=new Set(a.users.map(ee=>ee.userId));return h.filter(ee=>!z.has(ee.id)&&ee.isActive);case"branch":const J=new Set(a.branches.map(ee=>ee.branchId));return b.filter(ee=>!J.has(ee.id)&&ee.isActive);case"department":const se=new Set(a.departments.map(ee=>ee.departmentId));return k.filter(ee=>!se.has(ee.id)&&ee.isActive);default:return[]}};return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] flex flex-col",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[s.jsx($t,{size:18,className:"mr-2 text-purple-600"}),""]}),s.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[": ",t]})]}),s.jsx("button",{onClick:r,className:"p-1 rounded-full hover:bg-gray-100",children:s.jsx(_t,{size:20})})]}),s.jsxs("div",{className:"flex border-b px-4",children:[s.jsxs("button",{onClick:()=>{u("users"),d("user"),f(!1)},className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${c==="users"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(or,{size:16,className:"inline mr-1"})," (",a.users.length,")"]}),s.jsxs("button",{onClick:()=>{u("branches"),d("branch"),f(!1)},className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${c==="branches"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(_r,{size:16,className:"inline mr-1"})," (",a.branches.length,")"]}),s.jsxs("button",{onClick:()=>{u("departments"),d("department"),f(!1)},className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${c==="departments"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(gs,{size:16,className:"inline mr-1"})," (",a.departments.length,")"]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:i?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"..."}):s.jsxs(s.Fragment,{children:[(n==null?void 0:n.role)==="super_admin"&&s.jsxs("div",{className:"mb-4 bg-purple-50 border border-purple-200 rounded-lg p-3 flex items-start",children:[s.jsx($t,{size:18,className:"text-purple-600 mt-0.5 mr-2 flex-shrink-0"}),s.jsxs("div",{className:"text-sm text-purple-800",children:[s.jsx("p",{className:"font-medium",children:""}),s.jsx("p",{className:"mt-1",children:" "})]})]}),c==="users"&&s.jsx("div",{className:"space-y-3",children:a.users.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[s.jsx("p",{className:"text-gray-500 mb-2",children:""}),Ie(n==null?void 0:n.role)&&s.jsxs("button",{onClick:()=>{d("user"),f(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center justify-center w-full",children:[s.jsx(jt,{size:16,className:"mr-1"}),""]})]}):s.jsxs(s.Fragment,{children:[a.users.map(z=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(or,{size:18,className:"mr-2 text-gray-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:z.userName}),z.userEmail&&s.jsx("div",{className:"text-xs text-gray-500",children:z.userEmail})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:`flex items-center px-2 py-1 rounded text-xs ${Et[z.permissionLevel].color}`,children:[Et[z.permissionLevel].icon,s.jsx("span",{className:"ml-1",children:Et[z.permissionLevel].label})]}),s.jsx("button",{onClick:()=>N("user",z.userId,z.userName),className:"p-1 hover:bg-red-100 rounded text-red-500",children:s.jsx(ar,{size:14})})]})]},z.id)),!p&&Ie(n==null?void 0:n.role)&&s.jsxs("button",{onClick:()=>{d("user"),f(!0)},className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors flex items-center justify-center",children:[s.jsx(jt,{size:16,className:"mr-1"}),""]})]})}),c==="branches"&&s.jsx("div",{className:"space-y-3",children:a.branches.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[s.jsx("p",{className:"text-gray-500 mb-2",children:""}),Ie(n==null?void 0:n.role)&&s.jsxs("button",{onClick:()=>{d("branch"),f(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center justify-center w-full",children:[s.jsx(jt,{size:16,className:"mr-1"}),""]})]}):s.jsxs(s.Fragment,{children:[a.branches.map(z=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(_r,{size:18,className:"mr-2 text-blue-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:z.branchName}),z.branchCode&&s.jsx("div",{className:"text-xs text-gray-500",children:z.branchCode})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:`flex items-center px-2 py-1 rounded text-xs ${Et[z.permissionLevel].color}`,children:[Et[z.permissionLevel].icon,s.jsx("span",{className:"ml-1",children:Et[z.permissionLevel].label})]}),s.jsx("button",{onClick:()=>N("branch",z.branchId,z.branchName),className:"p-1 hover:bg-red-100 rounded text-red-500",children:s.jsx(ar,{size:14})})]})]},z.id)),!p&&Ie(n==null?void 0:n.role)&&s.jsxs("button",{onClick:()=>{d("branch"),f(!0)},className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors flex items-center justify-center",children:[s.jsx(jt,{size:16,className:"mr-1"}),""]})]})}),c==="departments"&&s.jsx("div",{className:"space-y-3",children:a.departments.length===0?s.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border border-dashed border-gray-300",children:[s.jsx("p",{className:"text-gray-500 mb-2",children:""}),Ie(n==null?void 0:n.role)&&s.jsxs("button",{onClick:()=>{d("department"),f(!0)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center justify-center w-full",children:[s.jsx(jt,{size:16,className:"mr-1"}),""]})]}):s.jsxs(s.Fragment,{children:[a.departments.map(z=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(gs,{size:18,className:"mr-2 text-green-500"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:z.departmentName}),s.jsxs("div",{className:"text-xs text-gray-500",children:[z.branchName||"",z.departmentCode&&` (${z.departmentCode})`]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:`flex items-center px-2 py-1 rounded text-xs ${Et[z.permissionLevel].color}`,children:[Et[z.permissionLevel].icon,s.jsx("span",{className:"ml-1",children:Et[z.permissionLevel].label})]}),s.jsx("button",{onClick:()=>N("department",z.departmentId,z.departmentName),className:"p-1 hover:bg-red-100 rounded text-red-500",children:s.jsx(ar,{size:14})})]})]},z.id)),!p&&Ie(n==null?void 0:n.role)&&s.jsxs("button",{onClick:()=>{d("department"),f(!0)},className:"w-full py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-500 hover:border-blue-500 hover:text-blue-500 transition-colors flex items-center justify-center",children:[s.jsx(jt,{size:16,className:"mr-1"}),""]})]})})]})}),p&&s.jsx("div",{className:"border-t p-4 bg-gray-50",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("div",{className:"w-1/3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{value:x,onChange:z=>{d(z.target.value),w([])},className:"w-full px-3 py-2 border rounded-md bg-white focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",children:[s.jsx("option",{value:"user",children:""}),s.jsx("option",{value:"branch",children:""}),s.jsx("option",{value:"department",children:""})]})]}),s.jsxs("div",{className:"w-1/3",children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{value:C,onChange:z=>g(z.target.value),className:"w-full px-3 py-2 border rounded-md bg-white focus:ring-2 focus:ring-blue-100 focus:border-blue-400 outline-none transition-all",children:[s.jsx("option",{value:"view",children:""}),s.jsx("option",{value:"edit",children:""}),s.jsx("option",{value:"manage",children:""})]})]})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-center mb-1",children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[" (",y.length,")"]}),s.jsx("button",{type:"button",onClick:()=>{const z=H();y.length===z.length?w([]):w(z.map(J=>J.id))},className:"text-xs text-blue-600 hover:text-blue-800",children:y.length===H().length?"":""})]}),s.jsx("div",{className:"border rounded-md max-h-48 overflow-y-auto bg-white p-2",children:H().length===0?s.jsx("div",{className:"text-center py-4 text-gray-400 text-sm",children:""}):s.jsx("div",{className:"space-y-1",children:H().map(z=>s.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:y.includes(z.id),onChange:J=>{J.target.checked?w([...y,z.id]):w(y.filter(se=>se!==z.id))},className:"mr-3 h-4 w-4 text-blue-600 rounded border-gray-300 focus:ring-blue-500"}),s.jsxs("span",{className:"text-sm text-gray-700",children:[x==="user"&&z.name,x==="branch"&&`${z.name} ${z.code?`(${z.code})`:""}`,x==="department"&&`${z.branchName?`[${z.branchName}] `:""}${z.name}`]})]},z.id))})})]}),s.jsxs("div",{className:"flex justify-end space-x-2 pt-2",children:[s.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors",children:""}),s.jsxs("button",{onClick:F,disabled:y.length===0,className:`px-4 py-2 text-white rounded-md flex items-center transition-colors ${y.length===0?"bg-blue-300 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,children:[s.jsx(Ii,{size:16,className:"mr-1"}),y.length>0?`${y.length}`:""]})]})]})}),s.jsxs("div",{className:"border-t p-4 flex justify-between",children:[!p&&Ie(n==null?void 0:n.role)&&s.jsxs("button",{onClick:()=>f(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 flex items-center",children:[s.jsx(jt,{size:16,className:"mr-1"}),""]}),s.jsx("div",{className:"flex-1"}),s.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300",children:""})]})]})})},Wg=()=>{const{folders:e,currentFolderId:t,addFolder:r,deleteFolder:n,setCurrentFolder:a}=mr(),{session:l}=Pe(),[i,o]=v.useState(!1),[c,u]=v.useState(""),[p,f]=v.useState(null),x=e.filter(y=>y.folder_permissions.some(w=>w.user_id===(l==null?void 0:l.id))||y.created_by===(l==null?void 0:l.id)),d=async()=>{c.trim()&&(await r(c),u(""),o(!1))};return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 flex-1 flex flex-col overflow-hidden transition-all",children:[s.jsxs("div",{className:"flex justify-between items-center mb-3 pb-2 border-b border-gray-200",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[s.jsx(qn,{size:18,className:"mr-2 text-orange-500"}),""]}),Ie(l==null?void 0:l.role)&&s.jsx("button",{onClick:()=>o(!i),className:"p-1.5 rounded-full bg-orange-50 text-orange-600 hover:bg-orange-100 transition-colors",title:"",children:s.jsx(Ng,{size:16})})]}),i&&s.jsxs("div",{className:"mb-3 p-3 bg-orange-50 rounded-md border border-orange-100 animate-fadeIn",children:[s.jsx("input",{type:"text",value:c,onChange:y=>u(y.target.value),placeholder:"",className:"w-full mb-2 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-orange-500",autoFocus:!0}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:d,className:"flex-1 px-3 py-1.5 bg-orange-600 text-white rounded-md hover:bg-orange-700 transition-colors",children:""}),s.jsx("button",{onClick:()=>{o(!1),u("")},className:"px-3 py-1.5 bg-gray-200 text-gray-800 rounded-md hover:bg-gray-300 transition-colors",children:""})]})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:x.length>=0?s.jsxs("ul",{className:"space-y-1",children:[s.jsx("li",{className:"animate-fadeIn",children:s.jsxs("div",{className:`flex items-center p-2 rounded-md cursor-pointer transition-colors ${t===null?"bg-orange-50 border border-orange-200":"hover:bg-gray-50 border border-transparent"}`,onClick:()=>a(null),children:[s.jsx("div",{className:`mr-2 flex items-center justify-center w-[18px] ${t===null?"text-orange-500":"text-gray-400"}`,children:s.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[s.jsx("path",{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),s.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]})}),s.jsx("span",{className:"flex-1 truncate font-medium",children:""})]})}),x.map(y=>s.jsx("li",{className:"animate-fadeIn",children:s.jsxs("div",{className:`flex items-center p-2 rounded-md cursor-pointer transition-colors ${t===y.id?"bg-orange-50 border border-orange-200":"hover:bg-gray-50 border border-transparent"}`,onClick:()=>a(y.id),children:[s.jsx(qn,{size:18,className:`mr-2 ${t===y.id?"text-orange-500":"text-gray-400"}`}),s.jsx("span",{className:"flex-1 truncate",children:y.name}),Ie(l==null?void 0:l.role)&&s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("button",{onClick:w=>{w.stopPropagation(),f({id:y.id,name:y.name})},className:"p-1 rounded hover:bg-purple-100 transition-colors",title:"",children:s.jsx($t,{size:16,className:"text-purple-500"})}),s.jsx("button",{onClick:w=>{w.stopPropagation(),confirm(`${y.name}`)&&n(y.id)},className:"p-1 rounded hover:bg-red-100 transition-colors",title:"",children:s.jsx(aa,{size:16,className:"text-gray-500 hover:text-red-500"})})]})]})},y.id))]}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-gray-500",children:[s.jsx(qn,{size:32,className:"mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:""})]})}),p&&s.jsx(Hg,{folderId:p.id,folderName:p.name,onClose:()=>f(null)})]})},ou=({folderId:e,onClose:t,initialFiles:r})=>{var te;const{addFile:n,files:a,deleteFile:l,folders:i}=mr(),{session:o}=Pe(),[c,u]=v.useState(!1),p=v.useRef(null),[f,x]=v.useState(r||[]),[d,y]=v.useState("idle"),[w,C]=v.useState(0),[g,h]=v.useState(null),[m,b]=v.useState([]),j=i.filter(T=>T.created_by===(o==null?void 0:o.id)||T.folder_permissions.some(K=>K.user_id===(o==null?void 0:o.id))),[k,P]=v.useState(e||(j.length>0?j[0].id:"")),[M,F]=v.useState(!1);v.useEffect(()=>{e&&P(e)},[e]);const N=T=>{x(K=>[...K,...T])},H=T=>{x(K=>K.filter((Q,je)=>je!==T))},z=a.filter(T=>T.folder_id===k),J=T=>z.find(K=>K.name===T),se=async()=>{if(f.length>0){const T=[];for(const K of f){const Q=J(K.name);if(Q){b([...f.slice(f.indexOf(K))]),h({newFile:K,existingFileId:Q.id});return}T.push(K)}await U(T)}},ee=async()=>{if(!g)return;await l(g.existingFileId);const T=m;h(null),b([]);const K=[];for(const Q of T){const je=J(Q.name);if(je&&Q!==g.newFile){b([...T.slice(T.indexOf(Q))]),h({newFile:Q,existingFileId:je.id}),K.length>0&&await U(K);return}K.push(Q)}await U(K)},$=async()=>{if(!g)return;const T=m.filter(Q=>Q!==g.newFile);if(h(null),b([]),T.length===0){D.info("");return}const K=[];for(const Q of T){const je=J(Q.name);if(je){b([...T.slice(T.indexOf(Q))]),h({newFile:Q,existingFileId:je.id}),K.length>0&&await U(K);return}K.push(Q)}K.length>0&&await U(K)},U=async T=>{if(T.length===0)return;y("uploading");const K=T.length;let Q=0;for(const je of T)try{await new Promise(it=>setTimeout(it,500)),await n(je.name,B(je.name),k,je),Q++,C(Q/K*100)}catch(it){console.error(it),D.error(`${je.name}`)}y("success"),setTimeout(()=>{t(),D.success(`${K}`)},1500)},_=T=>{T.preventDefault(),d==="idle"&&u(!0)},E=()=>{u(!1)},A=T=>{T.preventDefault(),u(!1),d==="idle"&&T.dataTransfer.files&&T.dataTransfer.files.length>0&&N(Array.from(T.dataTransfer.files))},G=T=>{T.target.files&&T.target.files.length>0&&N(Array.from(T.target.files))},B=T=>T.endsWith(".pdf")?"pdf":T.match(/\.(doc|docx)$/i)?"word":T.match(/\.(xls|xlsx)$/i)?"excel":T.match(/\.(jpg|jpeg|png|gif)$/i)?"image":T.match(/\.(mp4|mov|avi|wmv|flv|mkv)$/i)?"video":"other",Y=T=>{switch(B(T)){case"pdf":return s.jsx(gt,{className:"text-red-500",size:24});case"word":return s.jsx(gn,{className:"text-blue-500",size:24});case"excel":return s.jsx(Xa,{className:"text-green-500",size:24});case"image":return s.jsx(Ja,{className:"text-purple-500",size:24});case"video":return s.jsx(el,{className:"text-orange-500",size:24});default:return s.jsx(gt,{className:"text-gray-500",size:24})}};return g?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4 transition-all duration-300",children:s.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl w-full max-w-[95vw] sm:max-w-md p-5 sm:p-8 text-center animate-bounce-in relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-orange-50 to-white -z-10"}),s.jsx("div",{className:"w-14 h-14 sm:w-20 sm:h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:s.jsx(Io,{size:28,className:"text-orange-500 sm:w-10 sm:h-10"})}),s.jsx("h2",{className:"text-base sm:text-xl font-bold text-gray-800 mb-2 sm:mb-3",children:""}),s.jsx("p",{className:"text-gray-600 mb-1 sm:mb-2 text-sm sm:text-base",children:s.jsxs("span",{className:"font-semibold text-orange-600 break-all",children:["",g.newFile.name,""]})}),s.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mb-4 sm:mb-6",children:""}),s.jsxs("div",{className:"flex gap-2 sm:gap-3 justify-center",children:[s.jsx("button",{onClick:$,className:"px-4 sm:px-6 py-2 sm:py-2.5 text-gray-600 hover:bg-gray-100 rounded-lg sm:rounded-xl transition-colors font-medium text-xs sm:text-sm border border-gray-200",children:""}),s.jsx("button",{onClick:ee,className:"px-4 sm:px-6 py-2 sm:py-2.5 bg-gradient-to-r from-orange-500 to-orange-400 text-white rounded-lg sm:rounded-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all font-bold text-xs sm:text-sm",children:""})]})]})}):d==="success"?s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4 transition-all duration-300",children:s.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl w-full max-w-[90vw] sm:max-w-sm p-6 sm:p-8 text-center animate-bounce-in relative overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-[#64D2C3]/10 to-white -z-10"}),s.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 bg-[#64D2C3]/20 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6 animate-scale-up",children:s.jsx(hs,{size:32,className:"text-[#64D2C3] sm:w-12 sm:h-12"})}),s.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-1 sm:mb-2",children:"!"}),s.jsxs("p",{className:"text-gray-500 text-sm sm:text-base",children:[f.length,""]})]})}):s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-2 sm:p-4 animate-fadeIn transition-all duration-300",children:s.jsxs("div",{className:"bg-white rounded-2xl sm:rounded-3xl shadow-2xl w-full max-w-[95vw] sm:max-w-lg overflow-hidden relative flex flex-col max-h-[95vh] sm:max-h-[90vh]",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-gray-100 bg-gray-50/50",children:[s.jsxs("h2",{className:"text-base sm:text-xl font-bold flex items-center text-gray-800",children:[s.jsx("div",{className:"p-1.5 sm:p-2 bg-[#64D2C3]/20 rounded-lg mr-2 sm:mr-3",children:s.jsx(xn,{size:18,className:"text-[#64D2C3] sm:w-5 sm:h-5"})}),""]}),s.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 rounded-full hover:bg-gray-200 transition-colors text-gray-400 hover:text-gray-600",disabled:d==="uploading",children:s.jsx(_t,{size:18,className:"sm:w-5 sm:h-5"})})]}),!e&&s.jsx("div",{className:"px-4 sm:px-6 pt-4 pb-0",children:s.jsxs("div",{className:"relative",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-500 mb-1 uppercase tracking-wider",children:""}),s.jsxs("button",{onClick:()=>F(!M),className:"w-full flex items-center justify-between p-3 bg-white border border-gray-200 rounded-xl hover:border-[#64D2C3] hover:ring-2 hover:ring-[#64D2C3]/20 transition-all text-left group",disabled:d==="uploading",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-1.5 bg-orange-50 rounded-lg mr-3 group-hover:bg-orange-100 transition-colors",children:s.jsx(qn,{size:18,className:"text-orange-500"})}),s.jsx("span",{className:"font-medium text-gray-700",children:((te=i.find(T=>T.id===k))==null?void 0:te.name)||""})]}),s.jsx(Am,{size:18,className:`text-gray-400 transition-transform ${M?"rotate-180":""}`})]}),M&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>F(!1)}),s.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-gray-100 z-20 max-h-48 overflow-y-auto animate-fadeIn custom-scrollbar",children:j.length>0?j.map(T=>s.jsxs("button",{onClick:()=>{P(T.id),F(!1)},className:`w-full flex items-center p-3 hover:bg-gray-50 transition-colors text-left ${k===T.id?"bg-[#64D2C3]/5 text-[#4ABFB0]":"text-gray-700"}`,children:[s.jsx(qn,{size:16,className:`mr-3 ${k===T.id?"text-[#64D2C3]":"text-gray-400"}`}),s.jsx("span",{className:"font-medium",children:T.name}),k===T.id&&s.jsx(hs,{size:16,className:"ml-auto text-[#64D2C3]"})]},T.id)):s.jsx("div",{className:"p-4 text-center text-gray-500 text-sm",children:""})})]})]})}),s.jsxs("div",{className:"p-4 sm:p-6 flex-1 overflow-y-auto",children:[s.jsxs("div",{className:`border-2 sm:border-3 border-dashed rounded-xl sm:rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 flex flex-col items-center justify-center transition-all duration-300 ${c?"border-[#64D2C3] bg-[#64D2C3]/10 scale-102":"border-gray-200 hover:border-[#64D2C3] hover:bg-gray-50"}`,onDragOver:_,onDragLeave:E,onDrop:A,children:[s.jsx("input",{type:"file",ref:p,onChange:G,className:"hidden",multiple:!0,accept:".pdf,.doc,.docx,.xlsx,.xls,.jpg,.jpeg,.png,.gif,.mp4,.mov,.avi,.wmv,.flv,.mkv"}),s.jsx("div",{className:"mb-3 sm:mb-4 p-2.5 sm:p-3 bg-[#64D2C3]/20 rounded-full animate-bounce-slow",children:s.jsx(xn,{size:20,className:"text-[#64D2C3] sm:w-6 sm:h-6"})}),s.jsx("p",{className:"text-center mb-1 font-bold text-gray-700 text-sm sm:text-base",children:""}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400 text-center mb-3 sm:mb-4",children:""}),s.jsx("button",{onClick:()=>{var T;return(T=p.current)==null?void 0:T.click()},className:"px-3 sm:px-4 py-1.5 sm:py-2 bg-white border border-gray-200 text-gray-700 text-xs sm:text-sm font-medium rounded-lg sm:rounded-xl hover:bg-gray-50 hover:border-gray-300 transition-all shadow-sm hover:shadow",children:""})]}),f.length>0&&s.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[s.jsxs("h3",{className:"font-semibold text-gray-500 text-[10px] sm:text-xs uppercase tracking-wider pl-1",children:[" (",f.length,")"]}),s.jsx("div",{className:"space-y-1.5 sm:space-y-2 max-h-[150px] sm:max-h-[200px] overflow-y-auto pr-1 sm:pr-2 custom-scrollbar",children:f.map((T,K)=>s.jsxs("div",{className:"flex items-center p-2 sm:p-3 bg-gray-50 rounded-lg sm:rounded-xl border border-gray-100 animate-fadeIn",children:[s.jsx("div",{className:"p-1.5 sm:p-2 bg-white rounded-lg shadow-sm mr-2 sm:mr-3 flex-shrink-0",children:Y(T.name)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-gray-700 text-xs sm:text-sm truncate",children:T.name}),s.jsxs("p",{className:"text-[10px] sm:text-xs text-gray-400",children:[(T.size/1024/1024).toFixed(2)," MB"]})]}),d!=="uploading"&&s.jsx("button",{onClick:()=>H(K),className:"p-1 sm:p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors flex-shrink-0",children:s.jsx(ar,{size:14,className:"sm:w-4 sm:h-4"})})]},`${T.name}-${K}`))})]}),d==="uploading"&&s.jsxs("div",{className:"mt-3 sm:mt-4",children:[s.jsxs("div",{className:"flex justify-between text-[10px] sm:text-xs font-medium text-gray-500 mb-1",children:[s.jsx("span",{children:"..."}),s.jsxs("span",{children:[Math.round(w),"%"]})]}),s.jsx("div",{className:"w-full bg-gray-100 rounded-full h-2 sm:h-2.5 overflow-hidden",children:s.jsx("div",{className:"bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] h-full rounded-full transition-all duration-300 animate-progress-stripe",style:{width:`${w}%`}})})]})]}),s.jsxs("div",{className:"flex items-center justify-end p-3 sm:p-6 border-t border-gray-100 bg-gray-50/50 gap-2 sm:gap-3",children:[s.jsx("button",{onClick:t,disabled:d==="uploading",className:"px-3 sm:px-5 py-2 sm:py-2.5 text-gray-600 hover:bg-gray-200 rounded-lg sm:rounded-xl transition-colors font-medium text-xs sm:text-sm",children:""}),s.jsx("button",{onClick:se,className:`px-4 sm:px-8 py-2 sm:py-2.5 bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] text-white rounded-lg sm:rounded-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all font-bold text-xs sm:text-sm flex items-center ${f.length===0||d==="uploading"||!k?"opacity-50 cursor-not-allowed transform-none":""}`,disabled:f.length===0||d==="uploading"||!k,children:d==="uploading"?s.jsxs(s.Fragment,{children:[s.jsx(qm,{size:16,className:"mr-1.5 sm:mr-2 animate-spin sm:w-[18px] sm:h-[18px]"}),s.jsx("span",{className:"hidden sm:inline",children:"..."}),s.jsx("span",{className:"sm:hidden",children:"..."})]}):s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"hidden sm:inline",children:[" (",f.length,")"]}),s.jsxs("span",{className:"sm:hidden",children:[" (",f.length,")"]})]})})]})]})})},cu=({file:e,onClose:t,onNext:r,onPrev:n,hasNext:a=!1,hasPrev:l=!1})=>{const{getFileDataUrl:i,downloadFile:o}=mr(),[c,u]=v.useState(null),[p,f]=v.useState(!0);v.useEffect(()=>{f(!0);const j=i(e.id);u(j),f(!1)},[e.id,i]),v.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="unset"}),[]),v.useEffect(()=>{const j=k=>{k.key==="Escape"&&t(),k.key==="ArrowRight"&&a&&r&&r(),k.key==="ArrowLeft"&&l&&n&&n()};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[t,r,n,a,l]);const x=e.type==="image"||e.name.match(/\.(jpg|jpeg|png|gif|webp|svg)$/i),d=e.type==="video"||e.name.match(/\.(mp4|mov|avi|wmv|flv|mkv|webm)$/i),y=e.type==="pdf"||e.name.match(/\.pdf$/i),w=e.type==="word"||e.name.match(/\.(doc|docx)$/i),C=e.type==="excel"||e.name.match(/\.(xls|xlsx)$/i),g=j=>{if(j===0)return"0 B";const k=1024,P=["B","KB","MB","GB"],M=Math.floor(Math.log(j)/Math.log(k));return parseFloat((j/Math.pow(k,M)).toFixed(2))+" "+P[M]},h=()=>x?s.jsx(Ja,{size:48,className:"text-purple-400"}):d?s.jsx(el,{size:48,className:"text-orange-400"}):y?s.jsx(gn,{size:48,className:"text-red-400"}):w?s.jsx(gn,{size:48,className:"text-blue-400"}):C?s.jsx(Xa,{size:48,className:"text-green-400"}):s.jsx(gt,{size:48,className:"text-gray-400"}),m=()=>{o(e.id,e.name)},b=()=>p?s.jsx("div",{className:"w-full h-full flex items-center justify-center",children:s.jsx(qm,{size:48,className:"text-[#64D2C3] animate-spin"})}):x&&c?s.jsx("img",{src:c,alt:e.name,className:"max-w-full max-h-[70vh] sm:max-h-[80vh] object-contain rounded-lg shadow-2xl"}):d&&c?s.jsx("video",{src:c,controls:!0,autoPlay:!1,className:"max-w-full max-h-[70vh] sm:max-h-[80vh] rounded-lg shadow-2xl",children:""}):y&&c?s.jsx("iframe",{src:c,title:e.name,className:"w-full h-[70vh] sm:h-[80vh] max-w-4xl rounded-lg bg-white"}):s.jsxs("div",{className:"w-64 h-64 sm:w-80 sm:h-80 bg-gray-800/80 backdrop-blur rounded-2xl flex flex-col items-center justify-center text-gray-400 p-6 sm:p-8",children:[s.jsx("div",{className:"mb-4 p-4 bg-gray-700/50 rounded-full",children:c?h():s.jsx(ps,{size:48,className:"text-yellow-400"})}),s.jsx("p",{className:"text-base sm:text-lg font-medium text-gray-200 text-center truncate max-w-full px-2",children:e.name}),c?s.jsx("p",{className:"text-xs sm:text-sm mt-2 text-gray-400 text-center",children:""}):s.jsx("p",{className:"text-xs sm:text-sm mt-2 text-yellow-400 text-center",children:""}),s.jsxs("button",{onClick:m,className:"mt-4 px-4 py-2 bg-[#64D2C3] text-white rounded-lg text-sm font-medium hover:bg-[#4ABFB0] transition-colors flex items-center gap-2",children:[s.jsx(Qn,{size:16}),""]})]});return s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm animate-fadeIn",children:[s.jsxs("div",{className:"absolute top-0 left-0 right-0 p-3 sm:p-4 flex items-center justify-between bg-gradient-to-b from-black/60 to-transparent z-50",children:[s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[s.jsx("div",{className:"p-1.5 sm:p-2 bg-white/10 rounded-lg flex-shrink-0",children:h()}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("h3",{className:"text-sm sm:text-lg font-medium text-white truncate",children:e.name}),s.jsx("p",{className:"text-[10px] sm:text-xs text-gray-400",children:g(e.size)})]})]}),s.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 flex-shrink-0",children:[s.jsx("button",{onClick:m,className:"p-2 sm:p-2.5 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"",children:s.jsx(Qn,{size:18,className:"sm:w-5 sm:h-5"})}),s.jsx("button",{onClick:t,className:"p-2 sm:p-2.5 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-colors",title:"",children:s.jsx(_t,{size:18,className:"sm:w-5 sm:h-5"})})]})]}),l&&s.jsx("button",{onClick:j=>{j.stopPropagation(),n==null||n()},className:"absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-all group z-40",children:s.jsx(vg,{size:28,className:"sm:w-9 sm:h-9 group-hover:-translate-x-1 transition-transform"})}),a&&s.jsx("button",{onClick:j=>{j.stopPropagation(),r==null||r()},className:"absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 p-2 sm:p-3 text-white/70 hover:text-white hover:bg-white/10 rounded-full transition-all group z-40",children:s.jsx(Bm,{size:28,className:"sm:w-9 sm:h-9 group-hover:translate-x-1 transition-transform"})}),s.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4 pt-20 sm:p-12 sm:pt-24",onClick:t,children:s.jsx("div",{className:"relative max-w-full max-h-full flex flex-col items-center",onClick:j=>j.stopPropagation(),children:b()})}),s.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-3 sm:p-4 flex items-center justify-center bg-gradient-to-t from-black/60 to-transparent z-50",children:s.jsxs("div",{className:"flex items-center gap-4 text-[10px] sm:text-xs text-gray-500",children:[s.jsx("span",{className:"hidden sm:inline",children:"ESC "}),(l||a)&&s.jsx("span",{className:"hidden sm:inline",children:"  "})]})})]})},Qg=({onUploadClick:e,onFileClick:t})=>{const{files:r,folders:n,currentUser:a,notices:l,addNotice:i,deleteNotice:o}=mr(),{session:c}=Pe(),u=Jm(c==null?void 0:c.role),[p,f]=v.useState(!1),[x,d]=v.useState(""),[y,w]=v.useState(""),[C,g]=v.useState("info"),h=v.useMemo(()=>{const N=n.filter(H=>H.folder_permissions.some(z=>z.user_id===(a==null?void 0:a.id))||H.created_by===(a==null?void 0:a.id)).map(H=>H.id);return r.filter(H=>N.includes(H.folder_id)).sort((H,z)=>new Date(z.created_at||0).getTime()-new Date(H.created_at||0).getTime()).slice(0,5)},[r,n,a]),m=async N=>{if(N.preventDefault(),!(!x.trim()||!y.trim()))try{await i(x,y,C),d(""),w(""),f(!1),D.success("")}catch{D.error("")}},b=async N=>{confirm("")&&(await o(N),D.success(""))},j=N=>{switch(N){case"pdf":return s.jsx(gt,{className:"text-red-500"});case"excel":return s.jsx(Xa,{className:"text-green-500"});case"word":return s.jsx(gn,{className:"text-blue-500"});case"image":return s.jsx(Ja,{className:"text-purple-500"});case"video":return s.jsx(el,{className:"text-orange-500"});default:return s.jsx(gt,{className:"text-gray-400"})}},k=N=>{var H;return((H=n.find(z=>z.id===N))==null?void 0:H.name)||""},P=N=>{switch(N){case"maintenance":return s.jsx(Io,{size:14,className:"text-red-500"});case"update":return s.jsx(hs,{size:14,className:"text-green-500"});default:return s.jsx(Qm,{size:14,className:"text-blue-500"})}},M=N=>{switch(N){case"maintenance":return"";case"update":return"";default:return""}},F=N=>{switch(N){case"maintenance":return"bg-red-50 text-red-600 border-red-100";case"update":return"bg-green-50 text-green-600 border-green-100";default:return"bg-blue-50 text-blue-600 border-blue-100"}};return s.jsxs("div",{className:"h-full flex flex-col justify-between overflow-y-auto custom-scrollbar p-6",children:[s.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center min-h-[300px]",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("div",{className:"absolute inset-0 bg-[#64D2C3]/20 rounded-full blur-xl opacity-50 group-hover:opacity-100 transition-opacity duration-500 animate-pulse-slow"}),s.jsx("div",{className:"relative w-24 h-24 bg-white rounded-full shadow-lg flex items-center justify-center mb-6 border border-gray-100 group-hover:scale-105 transition-transform duration-300",children:s.jsx(xn,{size:40,className:"text-[#64D2C3]"})})]}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3 tracking-wide",children:""}),s.jsxs("p",{className:"text-gray-500 text-center max-w-md leading-relaxed mb-8",children:["",s.jsx("br",{}),""]}),s.jsxs("button",{onClick:e,className:"px-8 py-3 bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] text-white rounded-full shadow-md hover:shadow-lg hover:translate-y-[-2px] transition-all duration-300 font-medium flex items-center",children:[s.jsx(xn,{size:18,className:"mr-2"}),""]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-8 w-full animate-slideUp",children:[s.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl shadow-sm border border-white/50 p-6 flex flex-col hover:shadow-md transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center",children:[s.jsx(iu,{size:18,className:"mr-2 text-orange-400"}),""]}),s.jsxs("div",{className:"flex items-center gap-2",children:[u&&s.jsx("button",{onClick:()=>f(!p),className:"p-1.5 rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"",children:s.jsx(jt,{size:16})}),s.jsx("button",{className:"text-xs text-blue-500 hover:underline",children:""})]})]}),p&&s.jsxs("form",{onSubmit:m,className:"mb-4 p-4 bg-gray-50 rounded-xl border border-gray-100 animate-fadeIn",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:""}),s.jsx("input",{type:"text",value:x,onChange:N=>d(N.target.value),className:"w-full text-sm p-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100",placeholder:"",required:!0})]}),s.jsxs("div",{className:"mb-3",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:""}),s.jsx("textarea",{value:y,onChange:N=>w(N.target.value),className:"w-full text-sm p-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-100",placeholder:"",rows:3,required:!0})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:""}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:()=>g("info"),className:`px-3 py-1 text-xs rounded-full border ${C==="info"?"bg-blue-50 border-blue-200 text-blue-600 font-medium":"bg-white border-gray-200 text-gray-500"}`,children:""}),s.jsx("button",{type:"button",onClick:()=>g("update"),className:`px-3 py-1 text-xs rounded-full border ${C==="update"?"bg-green-50 border-green-200 text-green-600 font-medium":"bg-white border-gray-200 text-gray-500"}`,children:""}),s.jsx("button",{type:"button",onClick:()=>g("maintenance"),className:`px-3 py-1 text-xs rounded-full border ${C==="maintenance"?"bg-red-50 border-red-200 text-red-600 font-medium":"bg-white border-gray-200 text-gray-500"}`,children:""})]})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-3 py-1.5 text-xs text-gray-500 hover:bg-gray-200 rounded-lg transition-colors",children:""}),s.jsx("button",{type:"submit",className:"px-3 py-1.5 text-xs bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors shadow-sm",children:""})]})]}),s.jsx("div",{className:"space-y-3 flex-1 overflow-y-auto max-h-[250px] custom-scrollbar pr-1",children:l.length>0?l.map(N=>s.jsxs("div",{className:"group relative bg-gray-50/50 p-3 rounded-xl hover:bg-gray-50 border border-transparent hover:border-gray-100 transition-all",children:[s.jsxs("div",{className:"flex justify-between items-start mb-1",children:[s.jsxs("span",{className:`text-[10px] px-2 py-0.5 rounded-full border flex items-center gap-1 ${F(N.category)}`,children:[P(N.category),M(N.category)]}),s.jsx("span",{className:`text-[10px] text-gray-400 ${u?"mr-6":""}`,children:N.date})]}),s.jsx("h4",{className:"text-sm font-bold text-gray-800 mb-1 leading-snug",children:N.title}),s.jsx("p",{className:"text-xs text-gray-500 leading-relaxed line-clamp-2",children:N.content}),u&&s.jsx("button",{onClick:H=>{H.stopPropagation(),b(N.id)},className:"absolute top-2 right-2 p-1.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg opacity-0 group-hover:opacity-100 transition-all",title:"",children:s.jsx(ar,{size:14})})]},N.id)):s.jsxs("div",{className:"text-center py-8 text-gray-400 text-sm",children:[s.jsx(iu,{size:24,className:"mx-auto mb-2 opacity-30"}),s.jsx("p",{children:""})]})})]}),s.jsxs("div",{className:"bg-white/80 backdrop-blur-md rounded-2xl shadow-sm border border-white/50 p-6 flex flex-col hover:shadow-md transition-shadow duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"font-bold text-gray-700 flex items-center",children:[s.jsx(Vm,{size:18,className:"mr-2 text-blue-500"}),""]}),s.jsxs("span",{className:"text-xs text-gray-400",children:[h.length," files"]})]}),s.jsx("div",{className:"space-y-3 flex-1",children:h.length>0?h.map(N=>s.jsxs("div",{onClick:()=>t(N),className:"group flex items-center p-2 hover:bg-blue-50/50 rounded-lg transition-colors cursor-pointer",children:[s.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm mr-3 border border-gray-100 group-hover:border-blue-100",children:j(N.type)}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-gray-800 truncate",children:N.name}),s.jsxs("p",{className:"text-xs text-gray-500 truncate flex items-center",children:[s.jsx("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-[10px] mr-1.5",children:k(N.folder_id)}),new Date(N.created_at||"").toLocaleDateString()]})]}),s.jsx(bg,{size:14,className:"text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity"})]},N.id)):s.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 text-sm",children:[s.jsx(gt,{size:24,className:"mb-2 opacity-50"}),s.jsx("p",{children:""})]})})]})]})]})},qg=({x:e,y:t,items:r,onClose:n})=>{const a=v.useRef(null),[l,i]=v.useState({x:e,y:t}),[o,c]=v.useState(!1);v.useEffect(()=>{const p=d=>{a.current&&!a.current.contains(d.target)&&n()},f=()=>{n()},x=d=>{d.key==="Escape"&&n()};return document.addEventListener("mousedown",p),document.addEventListener("scroll",f,!0),document.addEventListener("keydown",x),()=>{document.removeEventListener("mousedown",p),document.removeEventListener("scroll",f,!0),document.removeEventListener("keydown",x)}},[n]),v.useEffect(()=>{if(a.current){const p=a.current.getBoundingClientRect(),f=window.innerWidth,x=window.innerHeight,d=8;let y=e,w=t;e+p.width>f-d&&(y=Math.max(d,e-p.width)),t+p.height>x-d&&(w=Math.max(d,t-p.height)),i({x:y,y:w}),c(!0)}},[e,t]);const u=s.jsx("div",{ref:a,className:`fixed z-[9999] bg-white/95 backdrop-blur-xl rounded-xl shadow-2xl border border-gray-200/60 py-2 min-w-[160px] transition-opacity duration-100 ${o?"opacity-100":"opacity-0"}`,style:{left:`${l.x}px`,top:`${l.y}px`,pointerEvents:"auto"},children:r.map((p,f)=>p.divider?s.jsx("div",{className:"border-t border-gray-100 my-1 mx-2"},f):s.jsxs("button",{onClick:()=>{p.disabled||(p.onClick(),n())},disabled:p.disabled,className:`w-full px-3 py-2 text-left flex items-center gap-2.5 transition-all duration-100 ${p.disabled?"text-gray-400 cursor-not-allowed opacity-50":p.danger?"text-red-600 hover:bg-red-50":"text-gray-700 hover:bg-gray-100"}`,children:[p.icon&&s.jsx("span",{className:`w-4 h-4 flex items-center justify-center ${p.danger?"text-red-500":"text-gray-500"}`,children:p.icon}),s.jsx("span",{className:"text-sm",children:p.label})]},f))});return Ns.createPortal(u,document.body)},Rl={name_asc:"AZ",name_desc:"ZA",date_desc:"",date_asc:"",size_desc:"",size_asc:"",type:""},uu=({searchQuery:e=""})=>{const{folders:t,files:r,currentUser:n,currentFolderId:a,deleteFile:l,users:i,renameFile:o,downloadFile:c}=mr(),[u,p]=v.useState(!1),[f,x]=v.useState(!1),[d,y]=v.useState([]),[w,C]=v.useState("date_desc"),[g,h]=v.useState(!1),[m,b]=v.useState(null),[j,k]=v.useState(0),[P,M]=v.useState(null),[F,N]=v.useState("grid"),[H,z]=v.useState(null),[J,se]=v.useState(""),ee=(S,Z)=>{S.stopPropagation(),S.preventDefault(),z(Z.id),se(Z.name)},$=async S=>{if(!H||!J.trim()){z(null);return}await o(H,J),z(null)},U=async(S,Z)=>{S.stopPropagation(),S.preventDefault(),await c(Z.id,Z.name)},_=t.find(S=>S.id===a),E=e.trim().length>0,A=t.filter(S=>S.folder_permissions.some(Z=>Z.user_id===(n==null?void 0:n.id))||S.created_by===(n==null?void 0:n.id)).map(S=>S.id),G=E?r.filter(S=>A.includes(S.folder_id)&&S.name.toLowerCase().includes(e.toLowerCase())):r.filter(S=>S.folder_id===a),B=v.useMemo(()=>{const S=[...G];switch(w){case"name_asc":return S.sort((Z,fe)=>Z.name.localeCompare(fe.name,"ja"));case"name_desc":return S.sort((Z,fe)=>fe.name.localeCompare(Z.name,"ja"));case"date_desc":return S.sort((Z,fe)=>new Date(fe.created_at||0).getTime()-new Date(Z.created_at||0).getTime());case"date_asc":return S.sort((Z,fe)=>new Date(Z.created_at||0).getTime()-new Date(fe.created_at||0).getTime());case"size_desc":return S.sort((Z,fe)=>(fe.size||0)-(Z.size||0));case"size_asc":return S.sort((Z,fe)=>(Z.size||0)-(fe.size||0));case"type":return S.sort((Z,fe)=>Z.type.localeCompare(fe.type));default:return S}},[G,w]),Y=S=>S?S<1024?`${S} B`:S<1024*1024?`${(S/1024).toFixed(1)} KB`:`${(S/1024/1024).toFixed(2)} MB`:"",te=S=>S?new Date(S).toLocaleString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):"",T=(S,Z)=>{b(S),k(Z)},K=()=>{if(j<B.length-1){const S=j+1;b(B[S]),k(S)}},Q=()=>{if(j>0){const S=j-1;b(B[S]),k(S)}},je=(S,Z)=>{S.preventDefault(),M({x:S.clientX,y:S.clientY,file:Z})},it=S=>{const Z=Ie(n==null?void 0:n.role)||(n==null?void 0:n.id)===S.created_by;return[{label:"",icon:s.jsx(Ct,{size:16}),onClick:()=>T(S,B.indexOf(S))},{label:"",icon:s.jsx(Qn,{size:16}),onClick:()=>c(S.id,S.name)},{label:"",onClick:()=>{},divider:!0},{label:"",icon:s.jsx(Kn,{size:16}),onClick:()=>{z(S.id),se(S.name)},disabled:!Z},{label:"",onClick:()=>{},divider:!0},{label:"",icon:s.jsx(aa,{size:16}),onClick:()=>l(S.id),danger:!0,disabled:!Z}]},fr=S=>{switch(S){case"pdf":return s.jsx(gt,{className:"text-red-500"});case"excel":return s.jsx(Xa,{className:"text-green-500"});case"word":return s.jsx(gn,{className:"text-blue-500"});case"image":return s.jsx(Ja,{className:"text-purple-500"});case"video":return s.jsx(el,{className:"text-orange-500"});default:return s.jsx(gt,{className:"text-gray-400"})}},pr=S=>{var Z;return((Z=t.find(fe=>fe.id===S))==null?void 0:Z.name)||""};if(!a&&!E)return s.jsxs(s.Fragment,{children:[s.jsx(Qg,{onUploadClick:()=>{y([]),p(!0)},onFileClick:S=>{b(S),k(-1)}}),u&&s.jsx(ou,{folderId:a,initialFiles:d,onClose:()=>{p(!1),y([])}}),m&&s.jsx(cu,{file:m,onClose:()=>b(null),onNext:K,onPrev:Q,hasNext:!1,hasPrev:!1})]});const jn=S=>{S.preventDefault(),a&&x(!0)},Cs=S=>{S.preventDefault(),!S.currentTarget.contains(S.relatedTarget)&&x(!1)},rl=S=>{S.preventDefault(),x(!1),a&&S.dataTransfer.files&&S.dataTransfer.files.length>0&&(y(Array.from(S.dataTransfer.files)),p(!0))};return s.jsxs("div",{className:"relative bg-white/90 backdrop-blur rounded-2xl shadow-sm border border-gray-100 p-6 h-full flex flex-col transition-all duration-300 overflow-hidden",onDragOver:jn,onDragLeave:Cs,onDrop:rl,children:[f&&s.jsxs("div",{className:"absolute inset-0 z-50 bg-[#64D2C3]/10 backdrop-blur-sm border-4 border-dashed border-[#64D2C3] rounded-2xl flex flex-col items-center justify-center animate-fadeIn pointer-events-none",children:[s.jsx("div",{className:"bg-white p-6 rounded-full shadow-xl animate-bounce",children:s.jsx(xn,{size:48,className:"text-[#64D2C3]"})}),s.jsx("h3",{className:"mt-6 text-2xl font-bold text-[#4ABFB0] tracking-wider",children:"Drop to Upload!"}),s.jsx("p",{className:"text-[#64D2C3] font-medium mt-2",children:""})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 pb-4 border-b border-gray-100 gap-4 sm:gap-0",children:[s.jsx("h2",{className:"text-xl font-bold flex items-center text-gray-800",children:E?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-2 bg-orange-100 rounded-lg mr-3",children:s.jsx("svg",{className:"w-5 h-5 text-orange-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsxs("span",{className:"truncate",children:[": ",s.jsxs("span",{className:"text-orange-500",children:['"',e,'"']})]})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:s.jsx(gt,{size:20,className:"text-blue-600"})}),s.jsx("span",{className:"truncate",children:(_==null?void 0:_.name)||""})]})}),s.jsxs("div",{className:"flex items-center gap-2 self-end sm:self-auto",children:[s.jsxs("div",{className:"flex items-center bg-gray-100 rounded-lg p-1 mr-2",children:[s.jsx("button",{onClick:()=>N("grid"),className:`p-1.5 rounded-md transition-colors ${F==="grid"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,title:"",children:s.jsx(kg,{size:16})}),s.jsx("button",{onClick:()=>N("list"),className:`p-1.5 rounded-md transition-colors ${F==="list"?"bg-white shadow-sm text-blue-600":"text-gray-500 hover:text-gray-700"}`,title:"",children:s.jsx(Sg,{size:16})})]}),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{onClick:()=>h(!g),className:"flex items-center text-sm px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[s.jsx(xg,{size:16,className:"mr-2"}),s.jsx("span",{className:"hidden sm:inline",children:Rl[w]})]}),g&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>h(!1)}),s.jsx("div",{className:"absolute right-0 mt-1 bg-white rounded-lg shadow-lg border py-1 min-w-[160px] z-20 animate-fadeIn",children:Object.keys(Rl).map(S=>s.jsxs("button",{onClick:()=>{C(S),h(!1)},className:`w-full px-4 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${w===S?"text-blue-600 bg-blue-50":"text-gray-700"}`,children:[S.includes("name")&&s.jsx(jg,{size:14}),S.includes("date")&&s.jsx(yg,{size:14}),S.includes("size")&&s.jsx(Wm,{size:14}),S==="type"&&s.jsx(gt,{size:14}),Rl[S]]},S))})]})]}),!E&&s.jsxs("button",{onClick:()=>{y([]),p(!0)},className:"flex items-center text-sm px-4 py-2 bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] text-white rounded-xl hover:shadow-lg hover:scale-105 transition-all duration-200",children:[s.jsx(xn,{size:18,className:"mr-2"}),s.jsx("span",{className:"hidden md:inline font-medium",children:""})]})]})]}),s.jsx("div",{className:"text-sm text-gray-500 mb-3 flex items-center justify-between",children:s.jsxs("span",{children:[B.length,""]})}),s.jsx("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar",children:B.length>0?F==="grid"?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:B.map((S,Z)=>{var fe;return s.jsxs("div",{className:`group relative p-4 bg-white border rounded-xl hover:shadow-xl hover:-translate-y-1 transition-all duration-300 animate-fadeIn cursor-pointer ${H===S.id?"border-blue-500 ring-2 ring-blue-100":"border-gray-100"}`,style:{animationDelay:`${Math.min(Z*50,500)}ms`},onClick:q=>{H===S.id?q.stopPropagation():T(S,Z)},onContextMenu:q=>je(q,S),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsx("div",{className:"p-2 bg-gray-50 rounded-lg group-hover:bg-blue-50 transition-colors",children:fr(S.type)}),E&&s.jsx("span",{className:"text-[10px] px-2 py-1 bg-gray-100 text-gray-500 rounded-full truncate max-w-[100px]",children:pr(S.folder_id)})]}),s.jsxs("div",{className:"mb-2",children:[H===S.id?s.jsxs("div",{className:"flex items-center space-x-1",onClick:q=>q.stopPropagation(),children:[s.jsx("input",{type:"text",value:J,onChange:q=>se(q.target.value),onKeyDown:q=>{q.key==="Enter"&&$(),q.key==="Escape"&&z(null)},className:"w-full text-sm py-1 px-2 border border-blue-300 rounded focus:outline-none focus:border-blue-500",autoFocus:!0}),s.jsx("button",{onClick:()=>$(),className:"p-1 text-green-600 hover:bg-green-50 rounded",children:s.jsx(Ii,{size:14})}),s.jsx("button",{onClick:()=>z(null),className:"p-1 text-red-500 hover:bg-red-50 rounded",children:s.jsx(_t,{size:14})})]}):s.jsx("p",{className:"font-semibold text-gray-800 truncate",title:S.name,children:S.name}),s.jsxs("div",{className:"text-xs text-gray-400 mt-2 space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300 mr-1"}),((fe=i.find(q=>q.id===S.created_by))==null?void 0:fe.name)||""]}),S.size&&s.jsx("span",{className:"text-gray-300",children:Y(S.size)})]}),s.jsx("div",{className:"text-[10px] text-gray-300 text-right",children:te(S.created_at)})]})]}),s.jsxs("div",{className:`absolute top-4 right-4 flex space-x-1 transition-all duration-200 transform ${H===S.id?"opacity-0 pointer-events-none":"opacity-0 group-hover:opacity-100 translate-x-2 group-hover:translate-x-0"}`,children:[s.jsx("button",{onClick:q=>{q.stopPropagation(),T(S,Z)},className:"p-2 rounded-full bg-purple-50 text-purple-600 hover:bg-purple-600 hover:text-white shadow-sm transition-all",title:"",children:s.jsx(Ct,{size:16})}),s.jsx("button",{onClick:q=>U(q,S),className:"p-2 rounded-full bg-blue-50 text-blue-600 hover:bg-blue-600 hover:text-white shadow-sm transition-all",title:"",children:s.jsx(Qn,{size:16})}),(Ie(n.role)||n.id===S.created_by)&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:q=>ee(q,S),className:"p-2 rounded-full bg-orange-50 text-orange-600 hover:bg-orange-600 hover:text-white shadow-sm transition-all",title:"",children:s.jsx(Kn,{size:16})}),s.jsx("button",{onClick:q=>{q.stopPropagation(),l(S.id)},className:"p-2 rounded-full bg-red-50 text-red-500 hover:bg-red-500 hover:text-white shadow-sm transition-all",title:"",children:s.jsx(aa,{size:16})})]})]})]},S.id)})}):s.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:s.jsxs("table",{className:"w-full text-sm text-left",children:[s.jsx("thead",{className:"bg-gray-50 text-gray-500",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 font-medium w-12"}),s.jsx("th",{className:"px-4 py-3 font-medium",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium w-32",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium w-40",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium w-32",children:""}),s.jsx("th",{className:"px-4 py-3 font-medium w-24 text-right",children:""})]})}),s.jsx("tbody",{className:"divide-y divide-gray-100",children:B.map((S,Z)=>{var fe;return s.jsxs("tr",{className:`hover:bg-blue-50/50 transition-colors cursor-pointer group ${H===S.id?"bg-blue-50":""}`,onClick:q=>{H!==S.id&&T(S,Z)},onContextMenu:q=>je(q,S),children:[s.jsx("td",{className:"px-4 py-3",children:fr(S.type)}),s.jsx("td",{className:"px-4 py-3",children:H===S.id?s.jsxs("div",{className:"flex items-center space-x-1",onClick:q=>q.stopPropagation(),children:[s.jsx("input",{type:"text",value:J,onChange:q=>se(q.target.value),onKeyDown:q=>{q.key==="Enter"&&$(),q.key==="Escape"&&z(null)},className:"w-full text-sm py-1 px-2 border border-blue-300 rounded focus:outline-none focus:border-blue-500",autoFocus:!0,onClick:q=>q.stopPropagation()}),s.jsx("button",{onClick:q=>{q.stopPropagation(),$()},className:"p-1 text-green-600 hover:bg-green-50 rounded",children:s.jsx(Ii,{size:14})}),s.jsx("button",{onClick:q=>{q.stopPropagation(),z(null)},className:"p-1 text-red-500 hover:bg-red-50 rounded",children:s.jsx(_t,{size:14})})]}):s.jsx("span",{className:"font-medium text-gray-700",children:S.name})}),s.jsx("td",{className:"px-4 py-3 text-gray-500",children:Y(S.size)}),s.jsx("td",{className:"px-4 py-3 text-gray-500 text-xs",children:te(S.created_at)}),s.jsx("td",{className:"px-4 py-3 text-gray-500",children:s.jsxs("span",{className:"flex items-center",children:[s.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-300 mr-2"}),((fe=i.find(q=>q.id===S.created_by))==null?void 0:fe.name)||""]})}),s.jsx("td",{className:"px-4 py-3 text-right",children:s.jsxs("div",{className:"flex justify-end gap-1 opacity-100 sm:opacity-0 group-hover:opacity-100 transition-opacity",children:[s.jsx("button",{onClick:q=>{q.stopPropagation(),T(S,Z)},className:"p-1.5 text-purple-500 hover:bg-purple-50 rounded",title:"",children:s.jsx(Ct,{size:16})}),s.jsx("button",{onClick:q=>U(q,S),className:"p-1.5 text-blue-500 hover:bg-blue-50 rounded",title:"",children:s.jsx(Qn,{size:16})}),(Ie(n.role)||n.id===S.created_by)&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:q=>ee(q,S),className:"p-1.5 text-orange-500 hover:bg-orange-50 rounded",title:"",children:s.jsx(Kn,{size:16})}),s.jsx("button",{onClick:q=>{q.stopPropagation(),l(S.id)},className:"p-1.5 text-red-500 hover:bg-red-50 rounded",title:"",children:s.jsx(aa,{size:16})})]})]})})]},S.id)})})]})}):s.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-400",children:[s.jsx("div",{className:"w-24 h-24 bg-gray-50 rounded-full flex items-center justify-center mb-4",children:s.jsx(gt,{size:40,className:"text-gray-300"})}),s.jsx("p",{className:"text-lg font-medium text-gray-500",children:""}),!E&&s.jsx("button",{onClick:()=>{y([]),p(!0)},className:"mt-6 px-6 py-2 border-2 border-dashed border-[#64D2C3] text-[#4ABFB0] rounded-xl hover:bg-[#64D2C3]/10 transition-colors font-medium",children:""})]})}),u&&s.jsx(ou,{folderId:a,initialFiles:d,onClose:()=>{p(!1),y([])}}),m&&s.jsx(cu,{file:m,onClose:()=>b(null),onNext:K,onPrev:Q,hasNext:j!==-1&&j<B.length-1,hasPrev:j!==-1&&j>0}),P&&s.jsx(qg,{x:P.x,y:P.y,items:it(P.file),onClose:()=>M(null)})]})},Kg=()=>{const[e,t]=L.useState("");return s.jsxs("div",{className:"flex flex-col min-h-screen bg-gray-50/50",children:[s.jsx(Og,{}),s.jsx("div",{className:"container mx-auto px-4 py-4 md:px-6",children:s.jsxs("div",{className:"relative max-w-2xl mx-auto group",children:[s.jsx("div",{className:"absolute inset-0 bg-blue-400/20 rounded-full blur-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),s.jsxs("div",{className:"relative flex items-center bg-white rounded-full shadow-sm border-2 border-transparent focus-within:border-[#FFB85F] focus-within:ring-4 focus-within:ring-[#FFB85F]/10 transition-all duration-300",children:[s.jsx("div",{className:"pl-4 text-gray-400",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),s.jsx("input",{type:"text",value:e,onChange:r=>t(r.target.value),placeholder:"",className:"w-full py-3 px-4 bg-transparent rounded-full focus:outline-none text-gray-700 placeholder-gray-400"}),e&&s.jsx("button",{onClick:()=>t(""),className:"mr-3 p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-100 transition-colors",children:s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]})}),s.jsxs("div",{className:"flex flex-1 px-4 md:px-8 pb-6 gap-6 overflow-hidden w-full",children:[s.jsx("div",{className:`w-full md:w-64 flex-shrink-0 overflow-y-auto transition-opacity duration-300 ${e?"opacity-50 pointer-events-none md:opacity-100":""}`,children:s.jsx(Wg,{})}),s.jsx("div",{className:"flex-1 hidden md:block overflow-y-auto min-w-0",children:s.jsx(uu,{searchQuery:e})})]}),s.jsx("div",{className:"md:hidden px-4 pb-4 flex-1",children:s.jsx(uu,{searchQuery:e})})]})},Gg=()=>{const{session:e}=Pe();return e?s.jsx("div",{className:"min-h-screen bg-gray-100",children:s.jsx(Kg,{})}):null},du={super_admin:{manage_all_users:!0,manage_branch_users:!0,manage_dept_users:!0,manage_branches:!0,manage_departments:!0,view_audit_logs:!0,system_settings:!0},branch_admin:{manage_all_users:!1,manage_branch_users:!0,manage_dept_users:!0,manage_branches:!1,manage_departments:!0,view_audit_logs:!1,system_settings:!1},department_admin:{manage_all_users:!1,manage_branch_users:!1,manage_dept_users:!0,manage_branches:!1,manage_departments:!1,view_audit_logs:!1,system_settings:!1},user:{manage_all_users:!1,manage_branch_users:!1,manage_dept_users:!1,manage_branches:!1,manage_departments:!1,view_audit_logs:!1,system_settings:!1}},tf=v.createContext(void 0),Yg=({children:e})=>{const[t,r]=v.useState(du);v.useEffect(()=>{const i=localStorage.getItem("app_permissions");if(i)try{r(JSON.parse(i))}catch(o){console.error("Failed to parse permissions",o)}},[]);const n=(i,o,c)=>{r(u=>{const p={...u,[i]:{...u[i],[o]:c}};return localStorage.setItem("app_permissions",JSON.stringify(p)),p})},a=(i,o)=>{var c;return((c=t[i])==null?void 0:c[o])??!1},l=()=>{r(du),localStorage.removeItem("app_permissions")};return s.jsx(tf.Provider,{value:{permissions:t,updatePermission:n,hasPermission:a,resetPermissions:l},children:e})},tl=()=>{const e=v.useContext(tf);if(e===void 0)throw new Error("usePermission must be used within a PermissionProvider");return e},Xg=({user:e,branches:t,departments:r,onClose:n,onSave:a})=>{const{createUser:l,updateUser:i}=mr(),{session:o}=Pe(),[c,u]=v.useState((e==null?void 0:e.name)||""),[p,f]=v.useState((e==null?void 0:e.email)||""),[x,d]=v.useState(""),[y,w]=v.useState((e==null?void 0:e.role)||"user"),[C,g]=v.useState((e==null?void 0:e.branchId)||""),[h,m]=v.useState((e==null?void 0:e.departmentId)||""),[b,j]=v.useState(!1),k=o==null?void 0:o.role,P=()=>{const N=[{value:"user",label:""},{value:"department_admin",label:""},{value:"branch_admin",label:""},{value:"super_admin",label:""}],H={user:1,department_admin:2,branch_admin:3,super_admin:4},z=H[k]||1;return N.filter(J=>H[J.value]<=z)},M=r.filter(N=>N.isActive&&(!C||N.branchId===C||!N.branchId)),F=async N=>{if(N.preventDefault(),!c.trim()||!p.trim()){D.error("");return}if(!e&&!x.trim()){D.error("");return}j(!0);try{e?await i(e.id,{name:c,role:y,branch_id:C,department_id:h}):await l({email:p,password:x,name:c,role:y,branch_id:C||void 0,department_id:h||void 0}),a(),n()}catch{}finally{j(!1)}};return v.useEffect(()=>{!e&&o&&(k==="branch_admin"?g(o.branchId||""):k==="department_admin"&&(g(o.branchId||""),m(o.departmentId||"")))},[e,o,k]),s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[s.jsx(or,{size:18,className:"mr-2 text-[#64D2C3]"}),e?"":""]}),s.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-100",children:s.jsx(_t,{size:20})})]}),s.jsxs("form",{onSubmit:F,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:c,onChange:N=>u(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",value:p,onChange:N=>f(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"yamada@example.com",required:!0,disabled:!!e})]}),!e&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"password",value:x,onChange:N=>d(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"8",minLength:8,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("select",{value:y,onChange:N=>w(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:P().map(N=>s.jsx("option",{value:N.value,children:N.label},N.value))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{value:C,onChange:N=>{g(N.target.value),m("")},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:k==="branch_admin"||k==="department_admin",children:[s.jsx("option",{value:"",children:""}),t.filter(N=>N.isActive).map(N=>s.jsxs("option",{value:N.id,children:[N.name," ",N.code&&`(${N.code})`]},N.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{value:h,onChange:N=>m(N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:k==="department_admin",children:[s.jsx("option",{value:"",children:""}),M.map(N=>s.jsxs("option",{value:N.id,children:[N.branchName&&`[${N.branchName}] `,N.name]},N.id))]})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl",children:""}),s.jsx("button",{type:"submit",disabled:b,className:"px-4 py-2 bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50",children:b?"...":""})]})]})]})})},Jg=()=>{const{session:e}=Pe(),{users:t,deleteUser:r,refreshUsers:n}=mr(),{hasPermission:a}=tl(),[l,i]=v.useState([]),[o,c]=v.useState([]),[u,p]=v.useState(!0),[f,x]=v.useState(!1),[d,y]=v.useState(null),[w,C]=v.useState(""),g=async()=>{p(!0);try{const[j,k]=await Promise.all([he.getBranches(),he.getDepartments()]);if(await n(),e){const P=e.role;if(j.success&&j.data){let M=j.data;a(P,"manage_all_users")||(M=j.data.filter(F=>F.id===e.branchId)),i(M)}if(k.success&&k.data){let M=k.data;a(P,"manage_all_users")||(a(P,"manage_branch_users")?M=k.data.filter(F=>F.branchId===e.branchId):a(P,"manage_dept_users")&&(M=k.data.filter(F=>F.id===e.departmentId))),c(M)}}}catch{D.error("")}finally{p(!1)}};v.useEffect(()=>{g()},[e,a]);const h=async j=>{if(j.role==="super_admin"){D.error("");return}if(confirm(`${j.name}`))try{await r(j.id),D.success("")}catch{D.error("")}},m=t.filter(j=>{if(!(j.name.toLowerCase().includes(w.toLowerCase())||j.id.toLowerCase().includes(w.toLowerCase()))||!e)return!1;const P=e.role;return a(P,"manage_all_users")?!0:a(P,"manage_branch_users")?j.branchId===e.branchId:a(P,"manage_dept_users")?j.departmentId===e.departmentId:!1}),b=e&&(a(e.role,"manage_all_users")||a(e.role,"manage_branch_users")||a(e.role,"manage_dept_users"));return s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-semibold flex items-center",children:[s.jsx(or,{size:22,className:"mr-2 text-[#64D2C3]"}),""]}),b&&s.jsxs("button",{onClick:()=>x(!0),className:"flex items-center px-4 py-2 bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] text-white rounded-xl hover:shadow-lg hover:scale-105 transition-all duration-200 text-sm font-medium",children:[s.jsx(Mg,{size:18,className:"mr-2"}),""]})]}),s.jsx("div",{className:"mb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx(Pg,{size:18,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",value:w,onChange:j=>C(j.target.value),placeholder:"...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsx("div",{className:"space-y-3",children:u?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"..."}):m.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:w?"":""}):m.map(j=>{const k=["super_admin","branch_admin","department_admin"].includes(j.role),P={super_admin:"bg-purple-100 text-purple-700",branch_admin:"bg-blue-100 text-blue-700",department_admin:"bg-green-100 text-green-700",user:"bg-gray-100 text-gray-700"};return s.jsxs("div",{onClick:()=>{b&&(y(j),x(!0))},className:`flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors ${f&&(d==null?void 0:d.id)===j.id?"bg-blue-50 border-blue-200":""}`,children:[s.jsxs("div",{className:"flex items-center pointer-events-none",children:[" ",s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${k?"bg-blue-100":"bg-gray-100"}`,children:k?s.jsx($t,{size:20,className:"text-blue-600"}):s.jsx(or,{size:20,className:"text-gray-600"})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("div",{className:"font-medium",children:j.name}),s.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[s.jsx(Za,{size:14,className:"mr-1"}),j.id]})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",onClick:M=>M.stopPropagation(),children:[s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${P[j.role]||P.user}`,children:xs(j.role)}),j.role!=="super_admin"&&b&&s.jsx("button",{onClick:M=>{M.stopPropagation(),h(j)},className:"p-2 hover:bg-red-100 rounded text-red-500",title:"",children:s.jsx(ar,{size:16})})]})]},j.id)})}),f&&s.jsx(Xg,{user:d||void 0,branches:l,departments:o,onClose:()=>{x(!1),y(null)},onSave:()=>g()})]})},Zg=({branch:e,onClose:t,onSave:r})=>{const{users:n}=mr(),[a,l]=v.useState((e==null?void 0:e.name)||""),[i,o]=v.useState((e==null?void 0:e.code)||""),[c,u]=v.useState((e==null?void 0:e.address)||""),[p,f]=v.useState((e==null?void 0:e.phone)||""),[x,d]=v.useState((e==null?void 0:e.managerId)||""),[y,w]=v.useState(!1),C=n.filter(m=>m.role==="super_admin"||m.role==="branch_admin"),g=n.find(m=>m.id===x),h=async m=>{if(m.preventDefault(),!a.trim()){D.error("");return}w(!0);try{let b;const j=(g==null?void 0:g.name)||"";e?(b=await he.updateBranch(e.id,{name:a,code:i,address:c,phone:p,managerId:x,managerName:j}),b.success?(D.success(""),r(),t()):D.error(b.error||"")):(b=await he.createBranch({name:a,code:i,address:c,phone:p,managerId:x,managerName:j}),b.success?(D.success(""),r(),t()):D.error(b.error||""))}catch{D.error("")}finally{w(!1)}};return Ns.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[s.jsx(_r,{size:18,className:"mr-2 text-[#64D2C3]"}),e?"":""]}),s.jsx("button",{onClick:t,className:"p-1 rounded-full hover:bg-gray-100",children:s.jsx(_t,{size:20})})]}),s.jsxs("form",{onSubmit:h,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:a,onChange:m=>l(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",value:i,onChange:m=>o(m.target.value.toUpperCase()),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"TKY",maxLength:10})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",value:c,onChange:m=>u(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",value:p,onChange:m=>f(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"03-1234-5678"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{value:x,onChange:m=>d(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[#64D2C3] focus:border-transparent",children:[s.jsx("option",{value:"",children:""}),C.map(m=>s.jsxs("option",{value:m.id,children:[m.name," (",m.role==="super_admin"?"":"",")"]},m.id))]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl",children:""}),s.jsx("button",{type:"submit",disabled:y,className:"px-4 py-2 bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50",children:y?"...":""})]})]})]})}),document.body)},ex=({department:e,branches:t,departments:r,onClose:n,onSave:a})=>{const[l,i]=v.useState((e==null?void 0:e.name)||""),[o,c]=v.useState((e==null?void 0:e.code)||""),[u,p]=v.useState((e==null?void 0:e.branchId)||""),[f,x]=v.useState((e==null?void 0:e.parentId)||""),[d,y]=v.useState((e==null?void 0:e.description)||""),[w,C]=v.useState(!1),g=r.filter(m=>m.id!==(e==null?void 0:e.id)&&(!u||m.branchId===u||!m.branchId)),h=async m=>{if(m.preventDefault(),!l.trim()){D.error("");return}C(!0);try{let b;e?(b=await he.updateDepartment(e.id,{name:l,code:o,branchId:u||void 0,parentId:f||void 0,description:d}),b.success?(D.success(""),a(),n()):D.error(b.error||"")):(b=await he.createDepartment({name:l,code:o,branchId:u||void 0,parentId:f||void 0,description:d}),b.success?(D.success(""),a(),n()):D.error(b.error||""))}catch{D.error("")}finally{C(!1)}};return Ns.createPortal(s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[s.jsxs("div",{className:"flex justify-between items-center p-4 border-b",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center",children:[s.jsx(gs,{size:18,className:"mr-2 text-[#64D2C3]"}),e?"":""]}),s.jsx("button",{onClick:n,className:"p-1 rounded-full hover:bg-gray-100",children:s.jsx(_t,{size:20})})]}),s.jsxs("form",{onSubmit:h,className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:l,onChange:m=>i(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("input",{type:"text",value:o,onChange:m=>c(m.target.value.toUpperCase()),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"SALES",maxLength:10})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{value:u,onChange:m=>p(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:""}),t.filter(m=>m.isActive).map(m=>s.jsxs("option",{value:m.id,children:[m.name," ",m.code&&`(${m.code})`]},m.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsxs("select",{value:f,onChange:m=>x(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:""}),g.filter(m=>m.isActive).map(m=>s.jsxs("option",{value:m.id,children:[m.branchName&&`[${m.branchName}] `,m.name]},m.id))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),s.jsx("textarea",{value:d,onChange:m=>y(m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"...",rows:3})]}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 text-gray-700 hover:bg-gray-100 rounded-xl",children:""}),s.jsx("button",{type:"submit",disabled:w,className:"px-4 py-2 bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] text-white rounded-xl hover:shadow-lg transition-all disabled:opacity-50",children:w?"...":""})]})]})]})}),document.body)},tx=({fullWidth:e=!1})=>{const{session:t}=Pe(),{hasPermission:r}=tl(),[n,a]=v.useState("branches"),[l,i]=v.useState([]),[o,c]=v.useState([]),[u,p]=v.useState(!0),[f,x]=v.useState(new Set),[d,y]=v.useState(!1),[w,C]=v.useState(!1),[g,h]=v.useState(),[m,b]=v.useState(),j=async()=>{p(!0);try{const[F,N]=await Promise.all([he.getBranches(),he.getDepartments()]);if(t){const H=t.role;if(F.success&&F.data){let z=F.data;H==="branch_admin"&&t.branchId&&(z=F.data.filter(J=>J.id===t.branchId)),i(z)}if(N.success&&N.data){let z=N.data;H==="branch_admin"&&t.branchId&&(z=N.data.filter(J=>J.branchId===t.branchId)),c(z)}}}catch{D.error("")}finally{p(!1)}};v.useEffect(()=>{j()},[]);const k=async F=>{if(confirm(`${F.name}`))try{const N=await he.deleteBranch(F.id);N.success?(D.success(""),j()):D.error(N.error||"")}catch{D.error("")}},P=async F=>{if(confirm(`${F.name}`))try{const N=await he.deleteDepartment(F.id);N.success?(D.success(""),j()):D.error(N.error||"")}catch{D.error("")}},M=F=>{x(N=>{const H=new Set(N);return H.has(F)?H.delete(F):H.add(F),H})};return!t||!$g(t.role)?null:s.jsxs("div",{className:`bg-white/80 backdrop-blur-xl rounded-2xl shadow-sm border border-white/60 ${e?"p-8":"p-6"}`,children:[s.jsx("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-100",children:s.jsxs("h2",{className:"font-bold text-gray-800 flex items-center text-xl",children:[s.jsx("div",{className:"p-2 bg-blue-100 rounded-lg mr-3",children:s.jsx(_r,{size:24,className:"text-blue-600"})}),""]})}),s.jsxs("div",{className:"flex border-b mb-4",children:[s.jsxs("button",{onClick:()=>a("branches"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${n==="branches"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(_r,{size:16,className:"inline mr-1"}),""]}),s.jsxs("button",{onClick:()=>a("departments"),className:`px-4 py-2 text-sm font-medium border-b-2 transition-colors ${n==="departments"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:[s.jsx(gs,{size:16,className:"inline mr-1"}),""]})]}),u?s.jsx("div",{className:"text-center py-8 text-gray-500",children:"..."}):s.jsxs(s.Fragment,{children:[n==="branches"&&s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-end mb-3",children:r(t==null?void 0:t.role,"manage_branches")&&s.jsxs("button",{onClick:()=>{h(void 0),y(!0)},className:"flex items-center px-4 py-2 bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] text-white rounded-xl hover:shadow-lg hover:scale-105 transition-all duration-200 text-sm font-medium",children:[s.jsx(jt,{size:18,className:"mr-1.5"}),""]})}),s.jsx("div",{className:"space-y-2",children:l.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:""}):l.map(F=>s.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[s.jsxs("div",{className:`flex items-center justify-between p-3 bg-gray-50 cursor-pointer hover:bg-gray-100 ${F.isActive?"":"opacity-50"}`,onClick:()=>M(F.id),children:[s.jsxs("div",{className:"flex items-center",children:[f.has(F.id)?s.jsx(Am,{size:16,className:"mr-2 text-gray-400"}):s.jsx(Bm,{size:16,className:"mr-2 text-gray-400"}),s.jsx(_r,{size:18,className:"mr-2 text-blue-600"}),s.jsx("span",{className:"font-medium",children:F.name}),F.code&&s.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:F.code})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:[F.userCount||0," / ",F.departmentCount||0,""]}),s.jsx("button",{onClick:N=>{N.stopPropagation(),h(F),y(!0)},className:"p-1 hover:bg-gray-200 rounded",children:s.jsx(Kn,{size:14,className:"text-gray-500"})}),s.jsx("button",{onClick:N=>{N.stopPropagation(),k(F)},className:"p-1 hover:bg-red-100 rounded",children:s.jsx(ar,{size:14,className:"text-red-500"})})]})]}),f.has(F.id)&&s.jsxs("div",{className:"p-3 border-t bg-white",children:[F.address&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(_g,{size:14,className:"mr-2 text-gray-400"}),F.address]}),F.phone&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-1",children:[s.jsx(zg,{size:14,className:"mr-2 text-gray-400"}),F.phone]}),F.managerName&&s.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[s.jsx(wg,{size:14,className:"mr-2 text-gray-400"}),": ",F.managerName]}),s.jsxs("div",{className:"mt-3 pt-3 border-t",children:[s.jsx("div",{className:"text-xs font-medium text-gray-500 mb-2",children:""}),s.jsx("div",{className:"space-y-1",children:o.filter(N=>N.branchId===F.id).length===0?s.jsx("div",{className:"text-xs text-gray-400",children:""}):o.filter(N=>N.branchId===F.id).map(N=>s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:N.name}),s.jsxs("span",{className:"text-xs text-gray-500",children:[N.userCount||0,""]})]},N.id))})]})]})]},F.id))})]}),n==="departments"&&s.jsxs("div",{children:[s.jsx("div",{className:"flex justify-end mb-3",children:s.jsxs("button",{onClick:()=>{b(void 0),C(!0)},className:"flex items-center px-4 py-2 bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] text-white rounded-xl hover:shadow-lg hover:scale-105 transition-all duration-200 text-sm font-medium",children:[s.jsx(jt,{size:18,className:"mr-1.5"}),""]})}),s.jsx("div",{className:"space-y-2",children:o.length===0?s.jsx("div",{className:"text-center py-8 text-gray-500",children:""}):o.map(F=>s.jsxs("div",{className:`flex items-center justify-between p-3 border rounded-lg hover:bg-gray-50 ${F.isActive?"":"opacity-50"}`,children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(gs,{size:18,className:"mr-2 text-green-600"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:F.name}),s.jsxs("div",{className:"text-xs text-gray-500",children:[F.branchName||"",F.parentName&&` / ${F.parentName}`]})]}),F.code&&s.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:F.code})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:[F.userCount||0,""]}),s.jsx("button",{onClick:()=>{b(F),C(!0)},className:"p-1 hover:bg-gray-200 rounded",children:s.jsx(Kn,{size:14,className:"text-gray-500"})}),s.jsx("button",{onClick:()=>P(F),className:"p-1 hover:bg-red-100 rounded",children:s.jsx(ar,{size:14,className:"text-red-500"})})]})]},F.id))})]})]}),d&&s.jsx(Zg,{branch:g,onClose:()=>{y(!1),h(void 0)},onSave:j}),w&&s.jsx(ex,{department:m,branches:l,departments:o,onClose:()=>{C(!1),b(void 0)},onSave:j})]})},rx=()=>{const{permissions:e,updatePermission:t,resetPermissions:r}=tl(),{session:n}=Pe(),a=(n==null?void 0:n.role)==="super_admin",l=(u,p)=>{if(!a)return;const f=e[u][p];t(u,p,!f),D.success("")},i=()=>{a&&confirm("")&&(r(),D.success(""))},o=[{category:"",items:[{key:"manage_all_users",label:""},{key:"manage_branch_users",label:""},{key:"manage_dept_users",label:""}]},{category:"",items:[{key:"manage_branches",label:""},{key:"manage_departments",label:""}]},{category:"",items:[{key:"view_audit_logs",label:""},{key:"system_settings",label:""}]}],c=({label:u,color:p})=>s.jsx("th",{className:"py-4 px-4 text-center w-1/6",children:s.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-bold shadow-sm ${p}`,children:u})});return s.jsxs("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-sm border border-white/60 p-8",children:[s.jsxs("div",{className:"flex items-center justify-between mb-8 pb-4 border-b border-gray-100",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center text-gray-800",children:[s.jsx("div",{className:"p-2 bg-indigo-100 rounded-lg mr-3 shadow-inner",children:s.jsx($t,{size:24,className:"text-indigo-600"})}),""]}),s.jsx("p",{className:"text-sm text-gray-500 mt-2 ml-1",children:""})]}),a&&s.jsxs("button",{onClick:i,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-600 bg-white border border-gray-200 hover:bg-gray-50 hover:text-indigo-600 rounded-xl transition-all shadow-sm hover:shadow",children:[s.jsx(Km,{size:16,className:"mr-2"}),""]})]}),s.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200/60 shadow-sm bg-white/50",children:s.jsxs("table",{className:"w-full border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"bg-gray-50/80 border-b border-gray-200",children:[s.jsx("th",{className:"py-4 px-6 text-left font-bold text-gray-600 w-1/3 text-sm",children:" / "}),s.jsx(c,{label:"",color:"text-purple-700 bg-purple-100"}),s.jsx(c,{label:"",color:"text-blue-700 bg-blue-100"}),s.jsx(c,{label:"",color:"text-green-700 bg-green-100"}),s.jsx(c,{label:"",color:"text-gray-700 bg-gray-100"})]})}),s.jsx("tbody",{children:o.map((u,p)=>s.jsxs(L.Fragment,{children:[s.jsx("tr",{className:"bg-indigo-50/30",children:s.jsx("td",{colSpan:5,className:"py-3 px-6 font-bold text-indigo-900 text-xs uppercase tracking-wider border-b border-gray-100",children:u.category})}),u.items.map(f=>s.jsxs("tr",{className:"border-b last:border-0 border-gray-100 hover:bg-white/80 transition-colors",children:[s.jsx("td",{className:"py-4 px-6 text-gray-700 font-medium text-sm",children:f.label}),["super_admin","branch_admin","department_admin","user"].map(x=>{const d=e[x][f.key];return s.jsx("td",{className:"py-3 px-4 text-center",children:s.jsx("div",{className:"flex justify-center",children:s.jsx("button",{onClick:()=>l(x,f.key),disabled:!a||x==="super_admin",className:`
                                                                w-10 h-6 rounded-full p-1 transition-all duration-300 ease-out flex items-center
                                                                ${d?"bg-gradient-to-r from-green-400 to-emerald-500 shadow-md shadow-green-200 justify-end":"bg-gray-200 shadow-inner justify-start"}
                                                                ${!a||x==="super_admin"?"opacity-60 cursor-not-allowed":"cursor-pointer hover:scale-105 active:scale-95"}
                                                            `,children:s.jsx("div",{className:"w-4 h-4 rounded-full bg-white shadow-sm transform transition-transform duration-300 "})})})},x)})]},f.key))]},p))})]})}),s.jsxs("div",{className:"mt-8 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl border border-blue-100/50 flex items-start shadow-sm",children:[s.jsx("div",{className:"p-2 bg-white rounded-full shadow-sm text-blue-500 mr-4",children:s.jsx(Qm,{size:20})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-bold text-blue-900 mb-1",children:""}),s.jsxs("p",{className:"text-sm text-blue-700/80 leading-relaxed",children:["",s.jsx("br",{}),""]})]})]})]})},nx=()=>{const[e,t]=v.useState({maxFileSize:50,totalStorageLimit:100,allowedExtensions:["pdf","doc","docx","xls","xlsx","ppt","pptx","jpg","jpeg","png","zip"],maintenanceMode:!1,retentionPeriod:90}),[r,n]=v.useState(!1),[a,l]=v.useState(e.allowedExtensions.join(", ")),i=async c=>{c.preventDefault(),n(!0);try{await new Promise(p=>setTimeout(p,800));const u=a.split(",").map(p=>p.trim()).filter(p=>p);t(p=>({...p,allowedExtensions:u})),D.success("")}catch{D.error("")}finally{n(!1)}},o=()=>{confirm(`
()`)&&(localStorage.removeItem("file_cache"),D.success(""))};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("div",{className:"flex justify-between items-center mb-6",children:[s.jsxs("h2",{className:"text-xl font-bold flex items-center text-gray-800",children:[s.jsx(Fg,{className:"mr-2 text-blue-600",size:24}),""]}),s.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:"v1.2.0 (Build 20241212)"})]}),s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-4 flex items-center",children:[s.jsx(Wm,{className:"mr-2 text-gray-500",size:20}),""]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"1 (MB)"}),s.jsx("input",{type:"number",min:"1",max:"1024",value:e.maxFileSize,onChange:c=>t({...e,maxFileSize:parseInt(c.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:": 10-100MB"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" (GB)"}),s.jsx("div",{className:"flex items-center",children:s.jsx("input",{type:"number",min:"1",value:e.totalStorageLimit,onChange:c=>t({...e,totalStorageLimit:parseInt(c.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})}),s.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2.5",children:s.jsx("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"45%"}})}),s.jsxs("p",{className:"mt-1 text-xs text-gray-500 flex justify-between",children:[s.jsx("span",{children:": 45GB "}),s.jsxs("span",{children:[": ",e.totalStorageLimit,"GB"]})]})]})]})]}),s.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-4 flex items-center",children:[s.jsx(gn,{className:"mr-2 text-gray-500",size:20}),""]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),s.jsx("textarea",{value:a,onChange:c=>l(c.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500 text-sm font-mono"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:": pdf, doc, docx, xls, xlsx, jpg, png"})]})]}),s.jsxs("div",{className:"border-b border-gray-100 pb-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-4 flex items-center",children:[s.jsx(Vm,{className:"mr-2 text-gray-500",size:20}),""]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),s.jsx("input",{type:"number",min:"30",value:e.retentionPeriod,onChange:c=>t({...e,retentionPeriod:parseInt(c.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500"})]})})]}),s.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-md p-4",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Io,{className:"h-5 w-5 text-orange-400","aria-hidden":"true"})}),s.jsxs("div",{className:"ml-3 w-full",children:[s.jsx("h3",{className:"text-sm font-medium text-orange-800",children:""}),s.jsx("div",{className:"mt-2 text-sm text-orange-700",children:s.jsx("p",{className:"mb-2",children:""})}),s.jsxs("div",{className:"mt-4 flex items-center",children:[s.jsx("button",{type:"button",onClick:()=>t({...e,maintenanceMode:!e.maintenanceMode}),className:`${e.maintenanceMode?"bg-orange-600 hover:bg-orange-700":"bg-gray-200 hover:bg-gray-300"} relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2`,children:s.jsx("span",{className:`${e.maintenanceMode?"translate-x-5":"translate-x-0"} pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out`})}),s.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900",children:e.maintenanceMode?"":""})]})]})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-4",children:[s.jsxs("button",{type:"button",onClick:o,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 flex items-center",children:[s.jsx(Km,{className:"mr-2",size:16}),""]}),s.jsxs("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center",children:[s.jsx(Gm,{className:"mr-2",size:18}),r?"...":""]})]})]})]}),s.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[s.jsxs("h3",{className:"text-lg font-medium text-gray-700 mb-4 flex items-center",children:[s.jsx(hg,{className:"mr-2 text-gray-500",size:20}),""]}),s.jsxs("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"sm:col-span-1",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:""}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"3 12 45"})]}),s.jsxs("div",{className:"sm:col-span-1",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:""}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"32% (2.4GB / 8GB)"})]}),s.jsxs("div",{className:"sm:col-span-1",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"DB"}),s.jsxs("dd",{className:"mt-1 text-sm text-green-600 flex items-center",children:[s.jsx("span",{className:"h-2 w-2 bg-green-500 rounded-full mr-2"}),""]})]}),s.jsxs("div",{className:"sm:col-span-1",children:[s.jsx("dt",{className:"text-sm font-medium text-gray-500",children:""}),s.jsx("dd",{className:"mt-1 text-sm text-gray-900",children:"2024/12/12 03:00"})]})]})]})]})},sx=()=>{const{session:e}=Pe(),t=Ga(),{hasPermission:r}=tl(),[n,a]=v.useState("users");if(!e||!Ie(e.role))return null;const l=e.role,i=[{id:"users",label:"",icon:Ig,description:"",visible:r(l,"manage_all_users")||r(l,"manage_branch_users")||r(l,"manage_dept_users")},{id:"organization",label:"",icon:_r,description:"",visible:r(l,"manage_branches")||r(l,"manage_departments")},{id:"permissions",label:"",icon:$t,description:"",visible:!0},{id:"system",label:"",icon:Hm,description:"",visible:r(l,"system_settings")}].filter(c=>c.visible),o=i.length>0?i[0].id:"users";return i.find(c=>c.id===n)||a(o),s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0",children:[s.jsx("div",{className:"absolute top-[-10%] right-[-5%] w-96 h-96 bg-blue-400/20 rounded-full blur-3xl opacity-50 animate-pulse-slow"}),s.jsx("div",{className:"absolute bottom-[-10%] left-[-5%] w-96 h-96 bg-orange-400/20 rounded-full blur-3xl opacity-50 animate-pulse-slow",style:{animationDelay:"1s"}})]}),s.jsx("header",{className:"relative z-10 bg-gray-900 border-t-4 border-[#FFB85F] shadow-md sticky top-0",children:s.jsxs("div",{className:"w-full px-6 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("button",{onClick:()=>t("/"),className:"p-2 rounded-xl hover:bg-gray-800 transition-all mr-4 text-gray-400 hover:text-white group",title:"File CLIP",children:s.jsx(gg,{size:20,className:"group-hover:-translate-x-1 transition-transform"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"bg-white/10 p-2.5 rounded-xl border border-white/10",children:s.jsx(Ym,{size:22,className:"text-[#FFB85F]"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-xl font-bold text-white tracking-tight leading-none flex items-center",children:[s.jsx("span",{className:"text-[#4A90E2] mr-1",children:"Admin"}),s.jsx("span",{className:"text-white",children:"Settings"})]}),s.jsx("p",{className:"text-xs text-gray-400 font-medium mt-0.5",children:""})]})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center text-sm bg-gray-800 border border-gray-700 rounded-full pl-1 pr-4 py-1 shadow-sm",children:[s.jsx("div",{className:"bg-gray-700 p-1.5 rounded-full mr-2",children:s.jsx($t,{size:14,className:"text-[#FFB85F]"})}),s.jsx("span",{className:"font-medium text-gray-200",children:e.name})]}),s.jsx("span",{className:"text-xs font-semibold bg-gray-800 text-gray-400 border border-gray-700 px-3 py-1.5 rounded-full shadow-md",children:xs(l)})]})]})}),s.jsx("div",{className:"relative z-10 container mx-auto px-4 py-8 h-[calc(100vh-73px)]",children:s.jsxs("div",{className:"flex flex-col md:flex-row h-full gap-6",children:[s.jsx("div",{className:"w-full md:w-64 flex-shrink-0",children:s.jsxs("div",{className:"bg-white/70 backdrop-blur-xl rounded-2xl shadow-sm border border-white/50 p-4 h-full md:h-auto sticky top-24",children:[s.jsx("div",{className:"text-xs font-bold text-gray-400 uppercase tracking-wider mb-4 px-2",children:"Menu"}),s.jsx("nav",{className:"space-y-2",children:i.map(c=>s.jsxs("button",{onClick:()=>a(c.id),className:`w-full flex items-center p-3 rounded-xl text-sm font-medium transition-all duration-200 group relative overflow-hidden ${n===c.id?"bg-gradient-to-r from-[#64D2C3] to-[#4ABFB0] text-white shadow-md shadow-[#64D2C3]/25":"text-gray-600 hover:bg-white hover:shadow-sm hover:text-[#4ABFB0]"}`,children:[s.jsx("div",{className:`mr-3 p-1.5 rounded-lg transition-colors ${n===c.id?"bg-white/20":"bg-gray-100 group-hover:bg-[#64D2C3]/10"}`,children:s.jsx(c.icon,{size:18,className:n===c.id?"text-white":"text-gray-500 group-hover:text-[#64D2C3]"})}),s.jsxs("div",{className:"text-left",children:[s.jsx("div",{className:"leading-none mb-1",children:c.label}),s.jsx("div",{className:`text-[10px] ${n===c.id?"text-white/80":"text-gray-400"}`,children:c.description})]}),n===c.id&&s.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-white/20 rounded-l-full"})]},c.id))})]})}),s.jsx("div",{className:"flex-1 h-full overflow-hidden flex flex-col",children:s.jsxs("div",{className:"flex-1 overflow-y-auto pr-2 custom-scrollbar pb-8",children:[n==="users"&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(Jg,{})}),n==="organization"&&(r(l,"manage_branches")||r(l,"manage_departments"))&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(tx,{fullWidth:!0})}),n==="permissions"&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(rx,{})}),n==="system"&&r(l,"system_settings")&&s.jsx("div",{className:"animate-fadeIn",children:s.jsx(nx,{})})]})})]})})]})},mu=({children:e,requireAdmin:t=!1})=>{const{session:r,loading:n}=Pe(),a=Ka();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"..."})]})}):r?t&&!Ie(r.role)?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center p-8 bg-white rounded-lg shadow-lg",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-4",children:""}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:""}),s.jsx("p",{className:"text-gray-600 mb-4",children:""}),s.jsx("button",{onClick:()=>window.history.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:""})]})}):s.jsx(s.Fragment,{children:e}):s.jsx(Fo,{to:"/login",state:{from:a.pathname},replace:!0})},ax=({children:e})=>{const{session:t,loading:r}=Pe();return r?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"..."})]})}):t?s.jsx(Fo,{to:"/",replace:!0}):s.jsx(s.Fragment,{children:e})},lx=()=>{const{session:e,refreshSession:t,signOut:r}=Pe(),n=v.useRef(Date.now()),a=v.useRef(null),l=v.useRef(null),i=30*60*1e3,o=5*60*1e3,c=()=>{n.current=Date.now(),u()},u=()=>{l.current&&clearTimeout(l.current),e&&(l.current=setTimeout(()=>{p()},i))},p=async()=>{console.log(""),await r()},f=()=>{const y=Qe.getToken();y&&(Um(y)||(console.log(""),r()))},x=()=>{document.visibilityState==="visible"&&(c(),f())},d=y=>{};return v.useEffect(()=>{if(e){const y=["mousedown","mousemove","keypress","scroll","touchstart","click"];return y.forEach(w=>{document.addEventListener(w,c,{passive:!0})}),document.addEventListener("visibilitychange",x),window.addEventListener("beforeunload",d),a.current=setInterval(f,o),u(),()=>{y.forEach(w=>{document.removeEventListener(w,c)}),document.removeEventListener("visibilitychange",x),window.removeEventListener("beforeunload",d),a.current&&clearInterval(a.current),l.current&&clearTimeout(l.current)}}},[e]),null};function ix(){return s.jsx(F0,{children:s.jsxs(mg,{children:[s.jsx(lx,{}),s.jsx(Yg,{children:s.jsxs(Vg,{children:[s.jsxs(E0,{children:[s.jsx(Ln,{path:"/login",element:s.jsx(ax,{children:s.jsx(Rg,{})})}),s.jsx(Ln,{path:"/",element:s.jsx(mu,{children:s.jsx(Gg,{})})}),s.jsx(Ln,{path:"/settings",element:s.jsx(mu,{requireAdmin:!0,children:s.jsx(sx,{})})}),s.jsx(Ln,{path:"*",element:s.jsx(Fo,{to:"/",replace:!0})})]}),s.jsx(sg,{position:"top-right",expand:!0,richColors:!0,duration:4e3,toastOptions:{style:{background:"white",border:"1px solid #e5e7eb",color:"#374151"}}})]})})]})})}Cm(document.getElementById("root")).render(s.jsx(v.StrictMode,{children:s.jsx(ix,{})}));
